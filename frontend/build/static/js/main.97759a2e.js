/*! For license information please see main.97759a2e.js.LICENSE.txt */
(()=>{var e={604:function(e,t,n){!function(e,t){"use strict";function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(null==e)return{};var n,r,s={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}function a(e,t){if(null==e)return{};var n,r,s=i(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function l(e,t){return c(e)||u(e,t)||d(e,t)||p()}function c(e){if(Array.isArray(e))return e}function u(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,s,o=[],i=!0,a=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(l){a=!0,s=l}finally{try{i||null==n.return||n.return()}finally{if(a)throw s}}return o}}function d(e,t){if(e){if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var f,g,v,y,b={exports:{}};function x(){return g?f:(g=1,f="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}function w(){if(y)return v;y=1;var e=x();function t(){}function n(){}return n.resetWarningCache=t,v=function(){function r(t,n,r,s,o,i){if(i!==e){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function s(){return r}r.isRequired=r;var o={array:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:t};return o.PropTypes=o,o}}b.exports=w()();var _=m(b.exports),E=function(e,n,r){var s=!!r,o=t.useRef(r);t.useEffect((function(){o.current=r}),[r]),t.useEffect((function(){if(!s||!e)return function(){};var t=function(){o.current&&o.current.apply(o,arguments)};return e.on(n,t),function(){e.off(n,t)}}),[s,n,e,o])},k=function(e){var n=t.useRef(e);return t.useEffect((function(){n.current=e}),[e]),n.current},S=function(e){return null!==e&&"object"===s(e)},C=function(e){return S(e)&&"function"===typeof e.then},N=function(e){return S(e)&&"function"===typeof e.elements&&"function"===typeof e.createToken&&"function"===typeof e.createPaymentMethod&&"function"===typeof e.confirmCardPayment},j="[object Object]",T=function e(t,n){if(!S(t)||!S(n))return t===n;var r=Array.isArray(t);if(r!==Array.isArray(n))return!1;var s=Object.prototype.toString.call(t)===j;if(s!==(Object.prototype.toString.call(n)===j))return!1;if(!s&&!r)return t===n;var o=Object.keys(t),i=Object.keys(n);if(o.length!==i.length)return!1;for(var a={},l=0;l<o.length;l+=1)a[o[l]]=!0;for(var c=0;c<i.length;c+=1)a[i[c]]=!0;var u=Object.keys(a);if(u.length!==o.length)return!1;var d=t,h=n,p=function(t){return e(d[t],h[t])};return u.every(p)},P=function(e,t,n){return S(e)?Object.keys(e).reduce((function(s,i){var a=!S(t)||!T(e[i],t[i]);return n.includes(i)?(a&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),s):a?r(r({},s||{}),{},o({},i,e[i])):s}),null):null},I="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I;if(null===e||N(e))return e;throw new Error(t)},A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I;if(C(e))return{tag:"async",stripePromise:Promise.resolve(e).then((function(e){return L(e,t)}))};var n=L(e,t);return null===n?{tag:"empty"}:{tag:"sync",stripe:n}},O=function(e){e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"3.7.0"}),e.registerAppInfo({name:"react-stripe-js",version:"3.7.0",url:"https://stripe.com/docs/stripe-js/react"}))},R=t.createContext(null);R.displayName="ElementsContext";var D=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},M=function(e){var n=e.stripe,r=e.options,s=e.children,o=t.useMemo((function(){return A(n)}),[n]),i=l(t.useState((function(){return{stripe:"sync"===o.tag?o.stripe:null,elements:"sync"===o.tag?o.stripe.elements(r):null}})),2),a=i[0],c=i[1];t.useEffect((function(){var e=!0,t=function(e){c((function(t){return t.stripe?t:{stripe:e,elements:e.elements(r)}}))};return"async"!==o.tag||a.stripe?"sync"!==o.tag||a.stripe||t(o.stripe):o.stripePromise.then((function(n){n&&e&&t(n)})),function(){e=!1}}),[o,a,r]);var u=k(n);t.useEffect((function(){null!==u&&u!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")}),[u,n]);var d=k(r);return t.useEffect((function(){if(a.elements){var e=P(r,d,["clientSecret","fonts"]);e&&a.elements.update(e)}}),[r,d,a.elements]),t.useEffect((function(){O(a.stripe)}),[a.stripe]),t.createElement(R.Provider,{value:a},s)};M.propTypes={stripe:_.any,options:_.object};var U=function(e){var n=t.useContext(R);return D(n,e)},F=function(){return U("calls useElements()").elements},z=function(e){return(0,e.children)(U("mounts <ElementsConsumer>"))};z.propTypes={children:_.func.isRequired};var B=["on","session"],V=t.createContext(null);V.displayName="CheckoutSdkContext";var q=function(e,t){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CheckoutProvider> provider."));return e},H=t.createContext(null);H.displayName="CheckoutContext";var W=function(e,t){if(!e)return null;e.on,e.session;var n=a(e,B);return t?Object.assign(t,n):Object.assign(e.session(),n)},G="Invalid prop `stripe` supplied to `CheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",K=function(e){var n=e.stripe,r=e.options,s=e.children,o=t.useMemo((function(){return A(n,G)}),[n]),i=l(t.useState(null),2),a=i[0],c=i[1],u=l(t.useState((function(){return{stripe:"sync"===o.tag?o.stripe:null,checkoutSdk:null}})),2),d=u[0],h=u[1],p=function(e,t){h((function(n){return n.stripe&&n.checkoutSdk?n:{stripe:e,checkoutSdk:t}}))},m=t.useRef(!1);t.useEffect((function(){var e=!0;return"async"!==o.tag||d.stripe?"sync"===o.tag&&o.stripe&&!m.current&&(m.current=!0,o.stripe.initCheckout(r).then((function(e){e&&(p(o.stripe,e),e.on("change",c))}))):o.stripePromise.then((function(t){t&&e&&!m.current&&(m.current=!0,t.initCheckout(r).then((function(e){e&&(p(t,e),e.on("change",c))})))})),function(){e=!1}}),[o,d,r,c]);var f=k(n);t.useEffect((function(){null!==f&&f!==n&&console.warn("Unsupported prop change on CheckoutProvider: You cannot change the `stripe` prop after setting it.")}),[f,n]);var g=k(r),v=k(d.checkoutSdk);t.useEffect((function(){var e,t;if(d.checkoutSdk){var n=null===g||void 0===g||null===(e=g.elementsOptions)||void 0===e?void 0:e.appearance,s=null===r||void 0===r||null===(t=r.elementsOptions)||void 0===t?void 0:t.appearance,o=!T(s,n),i=!v&&d.checkoutSdk;s&&(o||i)&&d.checkoutSdk.changeAppearance(s)}}),[r,g,d.checkoutSdk,v]),t.useEffect((function(){O(d.stripe)}),[d.stripe]);var y=t.useMemo((function(){return W(d.checkoutSdk,a)}),[d.checkoutSdk,a]);return d.checkoutSdk?t.createElement(V.Provider,{value:d},t.createElement(H.Provider,{value:y},s)):null};K.propTypes={stripe:_.any,options:_.shape({fetchClientSecret:_.func.isRequired,elementsOptions:_.object}).isRequired};var Y=function(e){var n=t.useContext(V);return q(n,e)},Q=function(e){var n=t.useContext(V),r=t.useContext(R);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return n?q(n,e):D(r,e)},J=function(){Y("calls useCheckout()");var e=t.useContext(H);if(!e)throw new Error("Could not find Checkout Context; You need to wrap the part of your app that calls useCheckout() in an <CheckoutProvider> provider.");return e},X=["mode"],$=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Z=function(e,n){var r="".concat($(e),"Element"),s=n?function(e){Q("mounts <".concat(r,">"));var n=e.id,s=e.className;return t.createElement("div",{id:n,className:s})}:function(n){var s,o=n.id,i=n.className,c=n.options,u=void 0===c?{}:c,d=n.onBlur,h=n.onFocus,p=n.onReady,m=n.onChange,f=n.onEscape,g=n.onClick,v=n.onLoadError,y=n.onLoaderStart,b=n.onNetworksChange,x=n.onConfirm,w=n.onCancel,_=n.onShippingAddressChange,S=n.onShippingRateChange,C=Q("mounts <".concat(r,">")),N="elements"in C?C.elements:null,j="checkoutSdk"in C?C.checkoutSdk:null,T=l(t.useState(null),2),I=T[0],L=T[1],A=t.useRef(null),O=t.useRef(null);E(I,"blur",d),E(I,"focus",h),E(I,"escape",f),E(I,"click",g),E(I,"loaderror",v),E(I,"loaderstart",y),E(I,"networkschange",b),E(I,"confirm",x),E(I,"cancel",w),E(I,"shippingaddresschange",_),E(I,"shippingratechange",S),E(I,"change",m),p&&(s="expressCheckout"===e?p:function(){p(I)}),E(I,"ready",s),t.useLayoutEffect((function(){if(null===A.current&&null!==O.current&&(N||j)){var t=null;if(j)switch(e){case"payment":t=j.createPaymentElement(u);break;case"address":if(!("mode"in u))throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");var n=u.mode,s=a(u,X);if("shipping"===n)t=j.createShippingAddressElement(s);else{if("billing"!==n)throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.");t=j.createBillingAddressElement(s)}break;case"expressCheckout":t=j.createExpressCheckoutElement(u);break;case"currencySelector":t=j.createCurrencySelectorElement();break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else N&&(t=N.create(e,u));A.current=t,L(t),t&&t.mount(O.current)}}),[N,j,u]);var R=k(u);return t.useEffect((function(){if(A.current){var e=P(u,R,["paymentRequest"]);e&&"update"in A.current&&A.current.update(e)}}),[u,R]),t.useLayoutEffect((function(){return function(){if(A.current&&"function"===typeof A.current.destroy)try{A.current.destroy(),A.current=null}catch(e){}}}),[]),t.createElement("div",{id:o,className:i,ref:O})};return s.propTypes={id:_.string,className:_.string,onChange:_.func,onBlur:_.func,onFocus:_.func,onReady:_.func,onEscape:_.func,onClick:_.func,onLoadError:_.func,onLoaderStart:_.func,onNetworksChange:_.func,onConfirm:_.func,onCancel:_.func,onShippingAddressChange:_.func,onShippingRateChange:_.func,options:_.object},s.displayName=r,s.__elementType=e,s},ee="undefined"===typeof window,te=t.createContext(null);te.displayName="EmbeddedCheckoutProviderContext";var ne=function(){var e=t.useContext(te);if(!e)throw new Error("<EmbeddedCheckout> must be used within <EmbeddedCheckoutProvider>");return e},re="Invalid prop `stripe` supplied to `EmbeddedCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",se=function(e){var n=e.stripe,r=e.options,s=e.children,o=t.useMemo((function(){return A(n,re)}),[n]),i=t.useRef(null),a=t.useRef(null),c=l(t.useState({embeddedCheckout:null}),2),u=c[0],d=c[1];t.useEffect((function(){if(!a.current&&!i.current){var e=function(e){a.current||i.current||(a.current=e,i.current=a.current.initEmbeddedCheckout(r).then((function(e){d({embeddedCheckout:e})})))};"async"!==o.tag||a.current||!r.clientSecret&&!r.fetchClientSecret?"sync"!==o.tag||a.current||!r.clientSecret&&!r.fetchClientSecret||e(o.stripe):o.stripePromise.then((function(t){t&&e(t)}))}}),[o,r,u,a]),t.useEffect((function(){return function(){u.embeddedCheckout?(i.current=null,u.embeddedCheckout.destroy()):i.current&&i.current.then((function(){i.current=null,u.embeddedCheckout&&u.embeddedCheckout.destroy()}))}}),[u.embeddedCheckout]),t.useEffect((function(){O(a)}),[a]);var h=k(n);t.useEffect((function(){null!==h&&h!==n&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the `stripe` prop after setting it.")}),[h,n]);var p=k(r);return t.useEffect((function(){null!=p&&(null!=r?(void 0===r.clientSecret&&void 0===r.fetchClientSecret&&console.warn("Invalid props passed to EmbeddedCheckoutProvider: You must provide one of either `options.fetchClientSecret` or `options.clientSecret`."),null!=p.clientSecret&&r.clientSecret!==p.clientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the client secret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),null!=p.fetchClientSecret&&r.fetchClientSecret!==p.fetchClientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change fetchClientSecret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),null!=p.onComplete&&r.onComplete!==p.onComplete&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onComplete option after setting it."),null!=p.onShippingDetailsChange&&r.onShippingDetailsChange!==p.onShippingDetailsChange&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onShippingDetailsChange option after setting it."),null!=p.onLineItemsChange&&r.onLineItemsChange!==p.onLineItemsChange&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onLineItemsChange option after setting it.")):console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot unset options after setting them."))}),[p,r]),t.createElement(te.Provider,{value:u},s)},oe=function(e){var n=e.id,r=e.className,s=ne().embeddedCheckout,o=t.useRef(!1),i=t.useRef(null);return t.useLayoutEffect((function(){return!o.current&&s&&null!==i.current&&(s.mount(i.current),o.current=!0),function(){if(o.current&&s)try{s.unmount(),o.current=!1}catch(e){}}}),[s]),t.createElement("div",{ref:i,id:n,className:r})},ie=function(e){var n=e.id,r=e.className;return ne(),t.createElement("div",{id:n,className:r})},ae=ee?ie:oe,le=function(){return Q("calls useStripe()").stripe},ce=Z("auBankAccount",ee),ue=Z("card",ee),de=Z("cardNumber",ee),he=Z("cardExpiry",ee),pe=Z("cardCvc",ee),me=Z("fpxBank",ee),fe=Z("iban",ee),ge=Z("idealBank",ee),ve=Z("p24Bank",ee),ye=Z("epsBank",ee),be=Z("payment",ee),xe=Z("expressCheckout",ee),we=Z("currencySelector",ee),_e=Z("paymentRequestButton",ee),Ee=Z("linkAuthentication",ee),ke=Z("address",ee),Se=Z("shippingAddress",ee),Ce=Z("paymentMethodMessaging",ee),Ne=Z("affirmMessage",ee),je=Z("afterpayClearpayMessage",ee);e.AddressElement=ke,e.AffirmMessageElement=Ne,e.AfterpayClearpayMessageElement=je,e.AuBankAccountElement=ce,e.CardCvcElement=pe,e.CardElement=ue,e.CardExpiryElement=he,e.CardNumberElement=de,e.CheckoutProvider=K,e.CurrencySelectorElement=we,e.Elements=M,e.ElementsConsumer=z,e.EmbeddedCheckout=ae,e.EmbeddedCheckoutProvider=se,e.EpsBankElement=ye,e.ExpressCheckoutElement=xe,e.FpxBankElement=me,e.IbanElement=fe,e.IdealBankElement=ge,e.LinkAuthenticationElement=Ee,e.P24BankElement=ve,e.PaymentElement=be,e.PaymentMethodMessagingElement=Ce,e.PaymentRequestButtonElement=_e,e.ShippingAddressElement=Se,e.useCheckout=J,e.useElements=F,e.useStripe=le}(t,n(950))},146:(e,t)=>{"use strict";const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,s=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},949:e=>{"use strict";e.exports=function(e,t,n,r,s,o,i,a){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,s,o,i,a],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},470:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(s){return!1}}()?Object.assign:function(e,s){for(var o,i,a=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in o=Object(arguments[l]))n.call(o,c)&&(a[c]=o[c]);if(t){i=t(o);for(var u=0;u<i.length;u++)r.call(o,i[u])&&(a[i[u]]=o[i[u]])}}return a}},488:(e,t,n)=>{"use strict";var r=n(959);function s(){}function o(){}o.resetWarningCache=s,e.exports=function(){function e(e,t,n,s,o,i){if(i!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:s};return n.PropTypes=n,n}},942:(e,t,n)=>{e.exports=n(488)()},959:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},85:(e,t,n)=>{"use strict";var r=n(340),s=n(950),o=n(119);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),f=Symbol.for("react.consumer"),g=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var _=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var E=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function S(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=k&&e[k]||e["@@iterator"])?e:null}var C=Symbol.for("react.client.reference");function N(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===C?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case d:return"Fragment";case u:return"Portal";case p:return"Profiler";case h:return"StrictMode";case y:return"Suspense";case b:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case g:return(e.displayName||"Context")+".Provider";case f:return(e._context.displayName||"Context")+".Consumer";case v:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case x:return null!==(t=e.displayName||null)?t:N(e.type)||"Memo";case w:t=e._payload,e=e._init;try{return N(e(t))}catch(n){}}return null}var j,T,P=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign;function L(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||"",T=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+j+e+T}var A=!1;function O(e,t){if(!e||A)return"";A=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(s){var r=s}Reflect.construct(e,[],n)}else{try{n.call()}catch(o){r=o}e.call(n.prototype)}}else{try{throw Error()}catch(i){r=i}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(a){if(a&&r&&"string"===typeof a.stack)return[a.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),i=o[0],a=o[1];if(i&&a){var l=i.split("\n"),c=a.split("\n");for(s=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;if(r===l.length||s===c.length)for(r=l.length-1,s=c.length-1;1<=r&&0<=s&&l[r]!==c[s];)s--;for(;1<=r&&0<=s;r--,s--)if(l[r]!==c[s]){if(1!==r||1!==s)do{if(r--,0>--s||l[r]!==c[s]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=s);break}}}finally{A=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?L(n):""}function R(e){switch(e.tag){case 26:case 27:case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 15:return e=O(e.type,!1);case 11:return e=O(e.type.render,!1);case 1:return e=O(e.type,!0);default:return""}}function D(e){try{var t="";do{t+=R(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function M(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function U(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function F(e){if(M(e)!==e)throw Error(i(188))}function z(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=z(e)))return t;e=e.sibling}return null}var B=Array.isArray,V=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},H=[],W=-1;function G(e){return{current:e}}function K(e){0>W||(e.current=H[W],H[W]=null,W--)}function Y(e,t){W++,H[W]=e.current,e.current=t}var Q=G(null),J=G(null),X=G(null),$=G(null);function Z(e,t){switch(Y(X,t),Y(J,e),Y(Q,null),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?Ju(t):0;break;default:if(t=(e=8===e?t.parentNode:t).tagName,e=e.namespaceURI)t=Xu(e=Ju(e),t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(Q),Y(Q,t)}function ee(){K(Q),K(J),K(X)}function te(e){null!==e.memoizedState&&Y($,e);var t=Q.current,n=Xu(t,e.type);t!==n&&(Y(J,e),Y(Q,n))}function ne(e){J.current===e&&(K(Q),K(J)),$.current===e&&(K($),Dd._currentValue=q)}var re=Object.prototype.hasOwnProperty,se=r.unstable_scheduleCallback,oe=r.unstable_cancelCallback,ie=r.unstable_shouldYield,ae=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,de=r.unstable_UserBlockingPriority,he=r.unstable_NormalPriority,pe=r.unstable_LowPriority,me=r.unstable_IdlePriority,fe=r.log,ge=r.unstable_setDisableYieldValue,ve=null,ye=null;function be(e){if("function"===typeof fe&&ge(e),ye&&"function"===typeof ye.setStrictMode)try{ye.setStrictMode(ve,e)}catch(t){}}var xe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(we(e)/_e|0)|0},we=Math.log,_e=Math.LN2;var Ee=128,ke=4194304;function Se(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194176&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ce(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=e.warmLanes;e=0!==e.finishedLanes;var a=134217727&n;return 0!==a?0!==(n=a&~s)?r=Se(n):0!==(o&=a)?r=Se(o):e||0!==(i=a&~i)&&(r=Se(i)):0!==(a=n&~s)?r=Se(a):0!==o?r=Se(o):e||0!==(i=n&~i)&&(r=Se(i)),0===r?0:0!==t&&t!==r&&0===(t&s)&&((s=r&-r)>=(i=t&-t)||32===s&&0!==(4194176&i))?t:r}function Ne(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function je(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Te(){var e=Ee;return 0===(4194176&(Ee<<=1))&&(Ee=128),e}function Pe(){var e=ke;return 0===(62914560&(ke<<=1))&&(ke=4194304),e}function Ie(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Le(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ae(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-xe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194218&n}function Oe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-xe(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}function Re(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function De(){var e=V.p;return 0!==e?e:void 0===(e=window.event)?32:Xd(e.type)}var Me=Math.random().toString(36).slice(2),Ue="__reactFiber$"+Me,Fe="__reactProps$"+Me,ze="__reactContainer$"+Me,Be="__reactEvents$"+Me,Ve="__reactListeners$"+Me,qe="__reactHandles$"+Me,He="__reactResources$"+Me,We="__reactMarker$"+Me;function Ge(e){delete e[Ue],delete e[Fe],delete e[Be],delete e[Ve],delete e[qe]}function Ke(e){var t=e[Ue];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ze]||n[Ue]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ld(e);null!==e;){if(n=e[Ue])return n;e=ld(e)}return t}n=(e=n).parentNode}return null}function Ye(e){if(e=e[Ue]||e[ze]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Qe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(i(33))}function Je(e){var t=e[He];return t||(t=e[He]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Xe(e){e[We]=!0}var $e=new Set,Ze={};function et(e,t){tt(e,t),tt(e+"Capture",t)}function tt(e,t){for(Ze[e]=t,e=0;e<t.length;e++)$e.add(t[e])}var nt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),rt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),st={},ot={};function it(e,t,n){if(s=t,re.call(ot,s)||!re.call(st,s)&&(rt.test(s)?ot[s]=!0:(st[s]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var s}function at(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function lt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function pt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var mt=/[\n"\\]/g;function ft(e){return e.replace(mt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function gt(e,t,n,r,s,o,i,a){e.name="",null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.type=i:e.removeAttribute("type"),null!=t?"number"===i?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==i&&"reset"!==i||e.removeAttribute("value"),null!=t?yt(e,i,ct(t)):null!=n?yt(e,i,ct(n)):null!=r&&e.removeAttribute("value"),null==s&&null!=o&&(e.defaultChecked=!!o),null!=s&&(e.checked=s&&"function"!==typeof s&&"symbol"!==typeof s),null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.name=""+ct(a):e.removeAttribute("name")}function vt(e,t,n,r,s,o,i,a){if(null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.type=o),null!=t||null!=n){if(!("submit"!==o&&"reset"!==o||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:s)&&"symbol"!==typeof r&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.name=i)}function yt(e,t,n){"number"===t&&pt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function xt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(i(92));if(B(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function _t(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Et=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||Et.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function St(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(i(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var s in t)r=t[s],t.hasOwnProperty(s)&&n[s]!==r&&kt(e,s,r)}else for(var o in t)t.hasOwnProperty(o)&&kt(e,o,t[o])}function Ct(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Tt(e){return jt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Pt=null;function It(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Lt=null,At=null;function Ot(e){var t=Ye(e);if(t&&(e=t.stateNode)){var n=e[Fe]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ft(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=r[Fe]||null;if(!s)throw Error(i(90));gt(r,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":xt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Rt=!1;function Dt(e,t,n){if(Rt)return e(t,n);Rt=!0;try{return e(t)}finally{if(Rt=!1,(null!==Lt||null!==At)&&(Uc(),Lt&&(t=Lt,e=At,At=Lt=null,Ot(t),e)))for(t=0;t<e.length;t++)Ot(e[t])}}function Mt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Fe]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Ut=!1;if(nt)try{var Ft={};Object.defineProperty(Ft,"passive",{get:function(){Ut=!0}}),window.addEventListener("test",Ft,Ft),window.removeEventListener("test",Ft,Ft)}catch(wh){Ut=!1}var zt=null,Bt=null,Vt=null;function qt(){if(Vt)return Vt;var e,t,n=Bt,r=n.length,s="value"in zt?zt.value:zt.textContent,o=s.length;for(e=0;e<r&&n[e]===s[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===s[o-t];t++);return Vt=s.slice(e,1<t?1-t:void 0)}function Ht(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Wt(){return!0}function Gt(){return!1}function Kt(e){function t(t,n,r,s,o){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(s):s[i]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?Wt:Gt,this.isPropagationStopped=Gt,this}return I(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Wt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Wt)},persist:function(){},isPersistent:Wt}),t}var Yt,Qt,Jt,Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$t=Kt(Xt),Zt=I({},Xt,{view:0,detail:0}),en=Kt(Zt),tn=I({},Zt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jt&&(Jt&&"mousemove"===e.type?(Yt=e.screenX-Jt.screenX,Qt=e.screenY-Jt.screenY):Qt=Yt=0,Jt=e),Yt)},movementY:function(e){return"movementY"in e?e.movementY:Qt}}),nn=Kt(tn),rn=Kt(I({},tn,{dataTransfer:0})),sn=Kt(I({},Zt,{relatedTarget:0})),on=Kt(I({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0})),an=Kt(I({},Xt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),ln=Kt(I({},Xt,{data:0})),cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=dn[e])&&!!t[e]}function pn(){return hn}var mn=Kt(I({},Zt,{key:function(e){if(e.key){var t=cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ht(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?un[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?Ht(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ht(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),fn=Kt(I({},tn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),gn=Kt(I({},Zt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),vn=Kt(I({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0})),yn=Kt(I({},tn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),bn=Kt(I({},Xt,{newState:0,oldState:0})),xn=[9,13,27,32],wn=nt&&"CompositionEvent"in window,_n=null;nt&&"documentMode"in document&&(_n=document.documentMode);var En=nt&&"TextEvent"in window&&!_n,kn=nt&&(!wn||_n&&8<_n&&11>=_n),Sn=String.fromCharCode(32),Cn=!1;function Nn(e,t){switch(e){case"keyup":return-1!==xn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Tn=!1;var Pn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function In(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Pn[e.type]:"textarea"===t}function Ln(e,t,n,r){Lt?At?At.push(r):At=[r]:Lt=r,0<(t=Du(t,"onChange")).length&&(n=new $t("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var An=null,On=null;function Rn(e){ju(e,0)}function Dn(e){if(ht(Qe(e)))return e}function Mn(e,t){if("change"===e)return t}var Un=!1;if(nt){var Fn;if(nt){var zn="oninput"in document;if(!zn){var Bn=document.createElement("div");Bn.setAttribute("oninput","return;"),zn="function"===typeof Bn.oninput}Fn=zn}else Fn=!1;Un=Fn&&(!document.documentMode||9<document.documentMode)}function Vn(){An&&(An.detachEvent("onpropertychange",qn),On=An=null)}function qn(e){if("value"===e.propertyName&&Dn(On)){var t=[];Ln(t,On,e,It(e)),Dt(Rn,t)}}function Hn(e,t,n){"focusin"===e?(Vn(),On=n,(An=t).attachEvent("onpropertychange",qn)):"focusout"===e&&Vn()}function Wn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Dn(On)}function Gn(e,t){if("click"===e)return Dn(t)}function Kn(e,t){if("input"===e||"change"===e)return Dn(t)}var Yn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Qn(e,t){if(Yn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!re.call(t,s)||!Yn(e[s],t[s]))return!1}return!0}function Jn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xn(e,t){var n,r=Jn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Jn(r)}}function $n(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?$n(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Zn(e){for(var t=pt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=pt((e=t.contentWindow).document)}return t}function er(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function tr(e,t){var n=Zn(t);t=e.focusedElem;var r=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&$n(t.ownerDocument.documentElement,t)){if(null!==r&&er(t))if(e=r.start,void 0===(n=r.end)&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if((n=(e=t.ownerDocument||document)&&e.defaultView||window).getSelection){n=n.getSelection();var s=t.textContent.length,o=Math.min(r.start,s);r=void 0===r.end?o:Math.min(r.end,s),!n.extend&&o>r&&(s=r,r=o,o=s),s=Xn(t,o);var i=Xn(t,r);s&&i&&(1!==n.rangeCount||n.anchorNode!==s.node||n.anchorOffset!==s.offset||n.focusNode!==i.node||n.focusOffset!==i.offset)&&((e=e.createRange()).setStart(s.node,s.offset),n.removeAllRanges(),o>r?(n.addRange(e),n.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),n.addRange(e)))}for(e=[],n=t;n=n.parentNode;)1===n.nodeType&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for("function"===typeof t.focus&&t.focus(),t=0;t<e.length;t++)(n=e[t]).element.scrollLeft=n.left,n.element.scrollTop=n.top}}var nr=nt&&"documentMode"in document&&11>=document.documentMode,rr=null,sr=null,or=null,ir=!1;function ar(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ir||null==rr||rr!==pt(r)||("selectionStart"in(r=rr)&&er(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},or&&Qn(or,r)||(or=r,0<(r=Du(sr,"onSelect")).length&&(t=new $t("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function hr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}nt&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var pr=hr("animationend"),mr=hr("animationiteration"),fr=hr("animationstart"),gr=hr("transitionrun"),vr=hr("transitionstart"),yr=hr("transitioncancel"),br=hr("transitionend"),xr=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function _r(e,t){xr.set(e,t),et(t,[e])}var Er=[],kr=0,Sr=0;function Cr(){for(var e=kr,t=Sr=kr=0;t<e;){var n=Er[t];Er[t++]=null;var r=Er[t];Er[t++]=null;var s=Er[t];Er[t++]=null;var o=Er[t];if(Er[t++]=null,null!==r&&null!==s){var i=r.pending;null===i?s.next=s:(s.next=i.next,i.next=s),r.pending=s}0!==o&&Pr(n,s,o)}}function Nr(e,t,n,r){Er[kr++]=e,Er[kr++]=t,Er[kr++]=n,Er[kr++]=r,Sr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function jr(e,t,n,r){return Nr(e,t,n,r),Ir(e)}function Tr(e,t){return Nr(e,null,null,t),Ir(e)}function Pr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var s=!1,o=e.return;null!==o;)o.childLanes|=n,null!==(r=o.alternate)&&(r.childLanes|=n),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(s=!0)),e=o,o=o.return;s&&null!==t&&3===e.tag&&(o=e.stateNode,s=31-xe(n),null===(e=(o=o.hiddenUpdates)[s])?o[s]=[t]:e.push(t),t.lane=536870912|n)}function Ir(e){if(50<jc)throw jc=0,Tc=null,Error(i(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Lr={},Ar=new WeakMap;function Or(e,t){if("object"===typeof e&&null!==e){var n=Ar.get(e);return void 0!==n?n:(t={value:e,source:t,stack:D(t)},Ar.set(e,t),t)}return{value:e,source:t,stack:D(t)}}var Rr=[],Dr=0,Mr=null,Ur=0,Fr=[],zr=0,Br=null,Vr=1,qr="";function Hr(e,t){Rr[Dr++]=Ur,Rr[Dr++]=Mr,Mr=e,Ur=t}function Wr(e,t,n){Fr[zr++]=Vr,Fr[zr++]=qr,Fr[zr++]=Br,Br=e;var r=Vr;e=qr;var s=32-xe(r)-1;r&=~(1<<s),n+=1;var o=32-xe(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Vr=1<<32-xe(t)+s|n<<s|r,qr=o+e}else Vr=1<<o|n<<s|r,qr=e}function Gr(e){null!==e.return&&(Hr(e,1),Wr(e,1,0))}function Kr(e){for(;e===Mr;)Mr=Rr[--Dr],Rr[Dr]=null,Ur=Rr[--Dr],Rr[Dr]=null;for(;e===Br;)Br=Fr[--zr],Fr[zr]=null,qr=Fr[--zr],Fr[zr]=null,Vr=Fr[--zr],Fr[zr]=null}var Yr=null,Qr=null,Jr=!1,Xr=null,$r=!1,Zr=Error(i(519));function es(e){throw os(Or(Error(i(418,"")),e)),Zr}function ts(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ue]=e,t[Fe]=r,n){case"dialog":Tu("cancel",t),Tu("close",t);break;case"iframe":case"object":case"embed":Tu("load",t);break;case"video":case"audio":for(n=0;n<Cu.length;n++)Tu(Cu[n],t);break;case"source":Tu("error",t);break;case"img":case"image":case"link":Tu("error",t),Tu("load",t);break;case"details":Tu("toggle",t);break;case"input":Tu("invalid",t),vt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Tu("invalid",t);break;case"textarea":Tu("invalid",t),wt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Vu(t.textContent,n)?(null!=r.popover&&(Tu("beforetoggle",t),Tu("toggle",t)),null!=r.onScroll&&Tu("scroll",t),null!=r.onScrollEnd&&Tu("scrollend",t),null!=r.onClick&&(t.onclick=qu),t=!0):t=!1,t||es(e)}function ns(e){for(Yr=e.return;Yr;)switch(Yr.tag){case 3:case 27:return void($r=!0);case 5:case 13:return void($r=!1);default:Yr=Yr.return}}function rs(e){if(e!==Yr)return!1;if(!Jr)return ns(e),Jr=!0,!1;var t,n=!1;if((t=3!==e.tag&&27!==e.tag)&&((t=5===e.tag)&&(t=!("form"!==(t=e.type)&&"button"!==t)||$u(e.type,e.memoizedProps)),t=!t),t&&(n=!0),n&&Qr&&es(e),ns(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){Qr=ad(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}Qr=null}}else Qr=Yr?ad(e.stateNode.nextSibling):null;return!0}function ss(){Qr=Yr=null,Jr=!1}function os(e){null===Xr?Xr=[e]:Xr.push(e)}var is=Error(i(460)),as=Error(i(474)),ls={then:function(){}};function cs(e){return"fulfilled"===(e=e.status)||"rejected"===e}function us(){}function ds(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(us,us),t=n),t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===is)throw Error(i(483));throw e;default:if("string"===typeof t.status)t.then(us,us);else{if(null!==(e=tc)&&100<e.shellSuspendCounter)throw Error(i(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===is)throw Error(i(483));throw e}throw hs=t,is}}var hs=null;function ps(){if(null===hs)throw Error(i(459));var e=hs;return hs=null,e}var ms=null,fs=0;function gs(e){var t=fs;return fs+=1,null===ms&&(ms=[]),ds(ms,e,t)}function vs(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ys(e,t){if(t.$$typeof===l)throw Error(i(525));throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bs(e){return(0,e._init)(e._payload)}function xs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function s(e,t){return(e=Ml(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=33554434,n):r:(t.flags|=33554434,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=33554434),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Vl(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function h(e,t,n,r){var o=n.type;return o===d?m(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===w&&bs(o)===t.type)?(vs(t=s(t,n.props),n),t.return=e,t):(vs(t=Fl(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function p(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=ql(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function m(e,t,n,r,o){return null===t||7!==t.tag?((t=zl(n,e.mode,r,o)).return=e,t):((t=s(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Vl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case c:return vs(n=Fl(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case u:return(t=ql(t,e.mode,n)).return=e,t;case w:return f(e,t=(0,t._init)(t._payload),n)}if(B(t)||S(t))return(t=zl(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return f(e,gs(t),n);if(t.$$typeof===g)return f(e,Ca(e,t),n);ys(e,t)}return null}function v(e,t,n,r){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==s?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case c:return n.key===s?h(e,t,n,r):null;case u:return n.key===s?p(e,t,n,r):null;case w:return v(e,t,n=(s=n._init)(n._payload),r)}if(B(n)||S(n))return null!==s?null:m(e,t,n,r,null);if("function"===typeof n.then)return v(e,t,gs(n),r);if(n.$$typeof===g)return v(e,t,Ca(e,n),r);ys(e,n)}return null}function y(e,t,n,r,s){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,s);if("object"===typeof r&&null!==r){switch(r.$$typeof){case c:return h(t,e=e.get(null===r.key?n:r.key)||null,r,s);case u:return p(t,e=e.get(null===r.key?n:r.key)||null,r,s);case w:return y(e,t,n,r=(0,r._init)(r._payload),s)}if(B(r)||S(r))return m(t,e=e.get(n)||null,r,s,null);if("function"===typeof r.then)return y(e,t,n,gs(r),s);if(r.$$typeof===g)return y(e,t,n,Ca(t,r),s);ys(t,r)}return null}function b(l,h,p,m){if("object"===typeof p&&null!==p&&p.type===d&&null===p.key&&(p=p.props.children),"object"===typeof p&&null!==p){switch(p.$$typeof){case c:e:{for(var x=p.key;null!==h;){if(h.key===x){if((x=p.type)===d){if(7===h.tag){n(l,h.sibling),(m=s(h,p.props.children)).return=l,l=m;break e}}else if(h.elementType===x||"object"===typeof x&&null!==x&&x.$$typeof===w&&bs(x)===h.type){n(l,h.sibling),vs(m=s(h,p.props),p),m.return=l,l=m;break e}n(l,h);break}t(l,h),h=h.sibling}p.type===d?((m=zl(p.props.children,l.mode,m,p.key)).return=l,l=m):(vs(m=Fl(p.type,p.key,p.props,null,l.mode,m),p),m.return=l,l=m)}return a(l);case u:e:{for(x=p.key;null!==h;){if(h.key===x){if(4===h.tag&&h.stateNode.containerInfo===p.containerInfo&&h.stateNode.implementation===p.implementation){n(l,h.sibling),(m=s(h,p.children||[])).return=l,l=m;break e}n(l,h);break}t(l,h),h=h.sibling}(m=ql(p,l.mode,m)).return=l,l=m}return a(l);case w:return b(l,h,p=(x=p._init)(p._payload),m)}if(B(p))return function(s,i,a,l){for(var c=null,u=null,d=i,h=i=0,p=null;null!==d&&h<a.length;h++){d.index>h?(p=d,d=null):p=d.sibling;var m=v(s,d,a[h],l);if(null===m){null===d&&(d=p);break}e&&d&&null===m.alternate&&t(s,d),i=o(m,i,h),null===u?c=m:u.sibling=m,u=m,d=p}if(h===a.length)return n(s,d),Jr&&Hr(s,h),c;if(null===d){for(;h<a.length;h++)null!==(d=f(s,a[h],l))&&(i=o(d,i,h),null===u?c=d:u.sibling=d,u=d);return Jr&&Hr(s,h),c}for(d=r(d);h<a.length;h++)null!==(p=y(d,s,h,a[h],l))&&(e&&null!==p.alternate&&d.delete(null===p.key?h:p.key),i=o(p,i,h),null===u?c=p:u.sibling=p,u=p);return e&&d.forEach((function(e){return t(s,e)})),Jr&&Hr(s,h),c}(l,h,p,m);if(S(p)){if("function"!==typeof(x=S(p)))throw Error(i(150));return function(s,a,l,c){if(null==l)throw Error(i(151));for(var u=null,d=null,h=a,p=a=0,m=null,g=l.next();null!==h&&!g.done;p++,g=l.next()){h.index>p?(m=h,h=null):m=h.sibling;var b=v(s,h,g.value,c);if(null===b){null===h&&(h=m);break}e&&h&&null===b.alternate&&t(s,h),a=o(b,a,p),null===d?u=b:d.sibling=b,d=b,h=m}if(g.done)return n(s,h),Jr&&Hr(s,p),u;if(null===h){for(;!g.done;p++,g=l.next())null!==(g=f(s,g.value,c))&&(a=o(g,a,p),null===d?u=g:d.sibling=g,d=g);return Jr&&Hr(s,p),u}for(h=r(h);!g.done;p++,g=l.next())null!==(g=y(h,s,p,g.value,c))&&(e&&null!==g.alternate&&h.delete(null===g.key?p:g.key),a=o(g,a,p),null===d?u=g:d.sibling=g,d=g);return e&&h.forEach((function(e){return t(s,e)})),Jr&&Hr(s,p),u}(l,h,p=x.call(p),m)}if("function"===typeof p.then)return b(l,h,gs(p),m);if(p.$$typeof===g)return b(l,h,Ca(l,p),m);ys(l,p)}return"string"===typeof p&&""!==p||"number"===typeof p||"bigint"===typeof p?(p=""+p,null!==h&&6===h.tag?(n(l,h.sibling),(m=s(h,p)).return=l,l=m):(n(l,h),(m=Vl(p,l.mode,m)).return=l,l=m),a(l)):n(l,h)}return function(e,t,n,r){try{fs=0;var s=b(e,t,n,r);return ms=null,s}catch(i){if(i===is)throw i;var o=Rl(29,i,null,e.mode);return o.lanes=r,o.return=e,o}}}var ws=xs(!0),_s=xs(!1),Es=G(null),ks=G(0);function Ss(e,t){Y(ks,e=cc),Y(Es,t),cc=e|t.baseLanes}function Cs(){Y(ks,cc),Y(Es,Es.current)}function Ns(){cc=ks.current,K(Es),K(ks)}var js=G(null),Ts=null;function Ps(e){var t=e.alternate;Y(Os,1&Os.current),Y(js,e),null===Ts&&(null===t||null!==Es.current||null!==t.memoizedState)&&(Ts=e)}function Is(e){if(22===e.tag){if(Y(Os,Os.current),Y(js,e),null===Ts){var t=e.alternate;null!==t&&null!==t.memoizedState&&(Ts=e)}}else Ls()}function Ls(){Y(Os,Os.current),Y(js,js.current)}function As(e){K(js),Ts===e&&(Ts=null),K(Os)}var Os=G(0);function Rs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ds="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Ms=r.unstable_scheduleCallback,Us=r.unstable_NormalPriority,Fs={$$typeof:g,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zs(){return{controller:new Ds,data:new Map,refCount:0}}function Bs(e){e.refCount--,0===e.refCount&&Ms(Us,(function(){e.controller.abort()}))}var Vs=null,qs=0,Hs=0,Ws=null;function Gs(){if(0===--qs&&null!==Vs){null!==Ws&&(Ws.status="fulfilled");var e=Vs;Vs=null,Hs=0,Ws=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ks=P.S;P.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Vs){var n=Vs=[];qs=0,Hs=wu(),Ws={status:"pending",value:void 0,then:function(e){n.push(e)}}}qs++,t.then(Gs,Gs)}(0,t),null!==Ks&&Ks(e,t)};var Ys=G(null);function Qs(){var e=Ys.current;return null!==e?e:tc.pooledCache}function Js(e,t){Y(Ys,null===t?Ys.current:t.pool)}function Xs(){var e=Qs();return null===e?null:{parent:Fs._currentValue,pool:e}}var $s=0,Zs=null,eo=null,to=null,no=!1,ro=!1,so=!1,oo=0,io=0,ao=null,lo=0;function co(){throw Error(i(321))}function uo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yn(e[n],t[n]))return!1;return!0}function ho(e,t,n,r,s,o){return $s=o,Zs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,P.H=null===e||null===e.memoizedState?Ci:Ni,so=!1,o=n(r,s),so=!1,ro&&(o=mo(t,n,r,s)),po(e),o}function po(e){P.H=Si;var t=null!==eo&&null!==eo.next;if($s=0,to=eo=Zs=null,no=!1,io=0,ao=null,t)throw Error(i(300));null===e||Hi||null!==(e=e.dependencies)&&Ea(e)&&(Hi=!0)}function mo(e,t,n,r){Zs=e;var s=0;do{if(ro&&(ao=null),io=0,ro=!1,25<=s)throw Error(i(301));if(s+=1,to=eo=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}P.H=ji,o=t(n,r)}while(ro);return o}function fo(){var e=P.H,t=e.useState()[0];return t="function"===typeof t.then?wo(t):t,e=e.useState()[0],(null!==eo?eo.memoizedState:null)!==e&&(Zs.flags|=1024),t}function go(){var e=0!==oo;return oo=0,e}function vo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function yo(e){if(no){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}no=!1}$s=0,to=eo=Zs=null,ro=!1,io=oo=0,ao=null}function bo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Zs.memoizedState=to=e:to=to.next=e,to}function xo(){if(null===eo){var e=Zs.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Zs.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e){if(null===Zs.alternate)throw Error(i(467));throw Error(i(310))}e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Zs.memoizedState=to=e:to=to.next=e}return to}function wo(e){var t=io;return io+=1,null===ao&&(ao=[]),e=ds(ao,e,t),t=Zs,null===(null===to?t.memoizedState:to.next)&&(t=t.alternate,P.H=null===t||null===t.memoizedState?Ci:Ni),e}function _o(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return wo(e);if(e.$$typeof===g)return Sa(e)}throw Error(i(438,String(e)))}function Eo(e){var t=null,n=Zs.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Zs.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Zs.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=E;return t.index++,n}function ko(e,t){return"function"===typeof t?t(e):t}function So(e){return Co(xo(),eo,e)}function Co(e,t,n){var r=e.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=n;var s=e.baseQueue,o=r.pending;if(null!==o){if(null!==s){var a=s.next;s.next=o.next,o.next=a}t.baseQueue=s=o,r.pending=null}if(o=e.baseState,null===s)e.memoizedState=o;else{var l=a=null,c=null,u=t=s.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(rc&h)===h:($s&h)===h){var p=u.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Hs&&(d=!0);else{if(($s&p)===p){u=u.next,p===Hs&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,a=o):c=c.next=h,Zs.lanes|=p,dc|=p}h=u.action,so&&n(o,h),o=u.hasEagerState?u.eagerState:n(o,h)}else p={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=p,a=o):c=c.next=p,Zs.lanes|=h,dc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?a=o:c.next=l,!Yn(o,e.memoizedState)&&(Hi=!0,d&&null!==(n=Ws)))throw n;e.memoizedState=o,e.baseState=a,e.baseQueue=c,r.lastRenderedState=o}return null===s&&(r.lanes=0),[e.memoizedState,r.dispatch]}function No(e){var t=xo(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(null!==s){n.pending=null;var a=s=s.next;do{o=e(o,a.action),a=a.next}while(a!==s);Yn(o,t.memoizedState)||(Hi=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function jo(e,t,n){var r=Zs,s=xo(),o=Jr;if(o){if(void 0===n)throw Error(i(407));n=n()}else n=t();var a=!Yn((eo||s).memoizedState,n);if(a&&(s.memoizedState=n,Hi=!0),s=s.queue,Zo(Io.bind(null,r,s,e),[e]),s.getSnapshot!==t||a||null!==to&&1&to.memoizedState.tag){if(r.flags|=2048,Yo(9,Po.bind(null,r,s,n,t),{destroy:void 0},null),null===tc)throw Error(i(349));o||0!==(60&$s)||To(r,t,n)}return n}function To(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Zs.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Zs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Po(e,t,n,r){t.value=n,t.getSnapshot=r,Lo(t)&&Ao(e)}function Io(e,t,n){return n((function(){Lo(t)&&Ao(e)}))}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yn(e,n)}catch(r){return!0}}function Ao(e){var t=Tr(e,2);null!==t&&Lc(t,e,2)}function Oo(e){var t=bo();if("function"===typeof e){var n=e;if(e=n(),so){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:e},t}function Ro(e,t,n,r){return e.baseState=n,Co(e,eo,"function"===typeof r?r:ko)}function Do(e,t,n,r,s){if(_i(e))throw Error(i(485));if(null!==(e=t.action)){var o={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==P.T?n(!0):o.isTransition=!1,r(o),null===(n=t.pending)?(o.next=t.pending=o,Mo(t,o)):(o.next=n.next,t.pending=n.next=o)}}function Mo(e,t){var n=t.action,r=t.payload,s=e.state;if(t.isTransition){var o=P.T,i={};P.T=i;try{var a=n(s,r),l=P.S;null!==l&&l(i,a),Uo(e,t,a)}catch(c){zo(e,t,c)}finally{P.T=o}}else try{Uo(e,t,o=n(s,r))}catch(u){zo(e,t,u)}}function Uo(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){Fo(e,t,n)}),(function(n){return zo(e,t,n)})):Fo(e,t,n)}function Fo(e,t,n){t.status="fulfilled",t.value=n,Bo(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Mo(e,n)))}function zo(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Bo(t),t=t.next}while(t!==r)}e.action=null}function Bo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Vo(e,t){return t}function qo(e,t){if(Jr){var n=tc.formState;if(null!==n){e:{var r=Zs;if(Jr){if(Qr){t:{for(var s=Qr,o=$r;8!==s.nodeType;){if(!o){s=null;break t}if(null===(s=ad(s.nextSibling))){s=null;break t}}s="F!"===(o=s.data)||"F"===o?s:null}if(s){Qr=ad(s.nextSibling),r="F!"===s.data;break e}}es(r)}r=!1}r&&(t=n[0])}}return(n=bo()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:t},n.queue=r,n=bi.bind(null,Zs,r),r.dispatch=n,r=Oo(!1),o=wi.bind(null,Zs,!1,r.queue),s={state:t,dispatch:null,action:e,pending:null},(r=bo()).queue=s,n=Do.bind(null,Zs,s,o,n),s.dispatch=n,r.memoizedState=e,[t,n,!1]}function Ho(e){return Wo(xo(),eo,e)}function Wo(e,t,n){t=Co(e,t,Vo)[0],e=So(ko)[0],t="object"===typeof t&&null!==t&&"function"===typeof t.then?wo(t):t;var r=xo(),s=r.queue,o=s.dispatch;return n!==r.memoizedState&&(Zs.flags|=2048,Yo(9,Go.bind(null,s,n),{destroy:void 0},null)),[t,o,e]}function Go(e,t){e.action=t}function Ko(e){var t=xo(),n=eo;if(null!==n)return Wo(t,n,e);xo(),t=t.memoizedState;var r=(n=xo()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Yo(e,t,n,r){return e={tag:e,create:t,inst:n,deps:r,next:null},null===(t=Zs.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Zs.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Qo(){return xo().memoizedState}function Jo(e,t,n,r){var s=bo();Zs.flags|=e,s.memoizedState=Yo(1|t,n,{destroy:void 0},void 0===r?null:r)}function Xo(e,t,n,r){var s=xo();r=void 0===r?null:r;var o=s.memoizedState.inst;null!==eo&&null!==r&&uo(r,eo.memoizedState.deps)?s.memoizedState=Yo(t,n,o,r):(Zs.flags|=e,s.memoizedState=Yo(1|t,n,o,r))}function $o(e,t){Jo(8390656,8,e,t)}function Zo(e,t){Xo(2048,8,e,t)}function ei(e,t){return Xo(4,2,e,t)}function ti(e,t){return Xo(4,4,e,t)}function ni(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ri(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Xo(4,4,ni.bind(null,t,e),n)}function si(){}function oi(e,t){var n=xo();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&uo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ii(e,t){var n=xo();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&uo(t,r[1]))return r[0];if(r=e(),so){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r}function ai(e,t,n){return void 0===n||0!==(1073741824&$s)?e.memoizedState=t:(e.memoizedState=n,e=Ic(),Zs.lanes|=e,dc|=e,n)}function li(e,t,n,r){return Yn(n,t)?n:null!==Es.current?(e=ai(e,n,r),Yn(e,t)||(Hi=!0),e):0===(42&$s)?(Hi=!0,e.memoizedState=n):(e=Ic(),Zs.lanes|=e,dc|=e,t)}function ci(e,t,n,r,s){var o=V.p;V.p=0!==o&&8>o?o:8;var i=P.T,a={};P.T=a,wi(e,!1,t,n);try{var l=s(),c=P.S;if(null!==c&&c(a,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)xi(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),r}(l,r),Pc());else xi(e,t,r,Pc())}catch(u){xi(e,t,{then:function(){},status:"rejected",reason:u},Pc())}finally{V.p=o,P.T=i}}function ui(){}function di(e,t,n,r){if(5!==e.tag)throw Error(i(476));var s=hi(e).queue;ci(e,s,t,q,null===n?ui:function(){return pi(e),n(r)})}function hi(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:q},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function pi(e){xi(e,hi(e).next.queue,{},Pc())}function mi(){return Sa(Dd)}function fi(){return xo().memoizedState}function gi(){return xo().memoizedState}function vi(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Pc(),r=La(t,e=Ia(n),n);return null!==r&&(Lc(r,t,n),Aa(r,t,n)),t={cache:zs()},void(e.payload=t)}t=t.return}}function yi(e,t,n){var r=Pc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},_i(e)?Ei(t,n):null!==(n=jr(e,t,n,r))&&(Lc(n,e,r),ki(n,t,r))}function bi(e,t,n){xi(e,t,n,Pc())}function xi(e,t,n,r){var s={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(_i(e))Ei(t,s);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var i=t.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,Yn(a,i))return Nr(e,t,s,0),null===tc&&Cr(),!1}catch(l){}if(null!==(n=jr(e,t,s,r)))return Lc(n,e,r),ki(n,t,r),!0}return!1}function wi(e,t,n,r){if(r={lane:2,revertLane:wu(),action:r,hasEagerState:!1,eagerState:null,next:null},_i(e)){if(t)throw Error(i(479))}else null!==(t=jr(e,n,r,2))&&Lc(t,e,2)}function _i(e){var t=e.alternate;return e===Zs||null!==t&&t===Zs}function Ei(e,t){ro=no=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ki(e,t,n){if(0!==(4194176&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Oe(e,n)}}var Si={readContext:Sa,use:_o,useCallback:co,useContext:co,useEffect:co,useImperativeHandle:co,useLayoutEffect:co,useInsertionEffect:co,useMemo:co,useReducer:co,useRef:co,useState:co,useDebugValue:co,useDeferredValue:co,useTransition:co,useSyncExternalStore:co,useId:co};Si.useCacheRefresh=co,Si.useMemoCache=co,Si.useHostTransitionStatus=co,Si.useFormState=co,Si.useActionState=co,Si.useOptimistic=co;var Ci={readContext:Sa,use:_o,useCallback:function(e,t){return bo().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:$o,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Jo(4194308,4,ni.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Jo(4194308,4,e,t)},useInsertionEffect:function(e,t){Jo(4,2,e,t)},useMemo:function(e,t){var n=bo();t=void 0===t?null:t;var r=e();if(so){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=bo();if(void 0!==n){var s=n(t);if(so){be(!0);try{n(t)}finally{be(!1)}}}else s=t;return r.memoizedState=r.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},r.queue=e,e=e.dispatch=yi.bind(null,Zs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},bo().memoizedState=e},useState:function(e){var t=(e=Oo(e)).queue,n=bi.bind(null,Zs,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:si,useDeferredValue:function(e,t){return ai(bo(),e,t)},useTransition:function(){var e=Oo(!1);return e=ci.bind(null,Zs,e.queue,!0,!1),bo().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Zs,s=bo();if(Jr){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===tc)throw Error(i(349));0!==(60&rc)||To(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,$o(Io.bind(null,r,o,e),[e]),r.flags|=2048,Yo(9,Po.bind(null,r,o,n,t),{destroy:void 0},null),n},useId:function(){var e=bo(),t=tc.identifierPrefix;if(Jr){var n=qr;t=":"+t+"R"+(n=(Vr&~(1<<32-xe(Vr)-1)).toString(32)+n),0<(n=oo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=lo++).toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return bo().memoizedState=vi.bind(null,Zs)}};Ci.useMemoCache=Eo,Ci.useHostTransitionStatus=mi,Ci.useFormState=qo,Ci.useActionState=qo,Ci.useOptimistic=function(e){var t=bo();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=wi.bind(null,Zs,!0,n),n.dispatch=t,[e,t]};var Ni={readContext:Sa,use:_o,useCallback:oi,useContext:Sa,useEffect:Zo,useImperativeHandle:ri,useInsertionEffect:ei,useLayoutEffect:ti,useMemo:ii,useReducer:So,useRef:Qo,useState:function(){return So(ko)},useDebugValue:si,useDeferredValue:function(e,t){return li(xo(),eo.memoizedState,e,t)},useTransition:function(){var e=So(ko)[0],t=xo().memoizedState;return["boolean"===typeof e?e:wo(e),t]},useSyncExternalStore:jo,useId:fi};Ni.useCacheRefresh=gi,Ni.useMemoCache=Eo,Ni.useHostTransitionStatus=mi,Ni.useFormState=Ho,Ni.useActionState=Ho,Ni.useOptimistic=function(e,t){return Ro(xo(),0,e,t)};var ji={readContext:Sa,use:_o,useCallback:oi,useContext:Sa,useEffect:Zo,useImperativeHandle:ri,useInsertionEffect:ei,useLayoutEffect:ti,useMemo:ii,useReducer:No,useRef:Qo,useState:function(){return No(ko)},useDebugValue:si,useDeferredValue:function(e,t){var n=xo();return null===eo?ai(n,e,t):li(n,eo.memoizedState,e,t)},useTransition:function(){var e=No(ko)[0],t=xo().memoizedState;return["boolean"===typeof e?e:wo(e),t]},useSyncExternalStore:jo,useId:fi};function Ti(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:I({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}ji.useCacheRefresh=gi,ji.useMemoCache=Eo,ji.useHostTransitionStatus=mi,ji.useFormState=Ko,ji.useActionState=Ko,ji.useOptimistic=function(e,t){var n=xo();return null!==eo?Ro(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])};var Pi={isMounted:function(e){return!!(e=e._reactInternals)&&M(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Pc(),s=Ia(r);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=La(e,s,r))&&(Lc(t,e,r),Aa(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Pc(),s=Ia(r);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=La(e,s,r))&&(Lc(t,e,r),Aa(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Pc(),r=Ia(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=La(e,r,n))&&(Lc(t,e,n),Aa(t,e,n))}};function Ii(e,t,n,r,s,o,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,i):!t.prototype||!t.prototype.isPureReactComponent||(!Qn(n,r)||!Qn(s,o))}function Li(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Pi.enqueueReplaceState(t,t.state,null)}function Ai(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var s in n===t&&(n=I({},n)),e)void 0===n[s]&&(n[s]=e[s]);return n}var Oi="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function Ri(e){Oi(e)}function Di(e){console.error(e)}function Mi(e){Oi(e)}function Ui(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function Fi(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout((function(){throw r}))}}function zi(e,t,n){return(n=Ia(n)).tag=3,n.payload={element:null},n.callback=function(){Ui(e,t)},n}function Bi(e){return(e=Ia(e)).tag=3,e}function Vi(e,t,n,r){var s=n.type.getDerivedStateFromError;if("function"===typeof s){var o=r.value;e.payload=function(){return s(o)},e.callback=function(){Fi(t,n,r)}}var i=n.stateNode;null!==i&&"function"===typeof i.componentDidCatch&&(e.callback=function(){Fi(t,n,r),"function"!==typeof s&&(null===_c?_c=new Set([this]):_c.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var qi=Error(i(461)),Hi=!1;function Wi(e,t,n,r){t.child=null===e?_s(t,null,n,r):ws(t,e.child,n,r)}function Gi(e,t,n,r,s){n=n.render;var o=t.ref;if("ref"in r){var i={};for(var a in r)"ref"!==a&&(i[a]=r[a])}else i=r;return ka(t),r=ho(e,t,n,i,o,s),a=go(),null===e||Hi?(Jr&&a&&Gr(t),t.flags|=1,Wi(e,t,r,s),t.child):(vo(e,t,s),ha(e,t,s))}function Ki(e,t,n,r,s){if(null===e){var o=n.type;return"function"!==typeof o||Dl(o)||void 0!==o.defaultProps||null!==n.compare?((e=Fl(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Yi(e,t,o,r,s))}if(o=e.child,!pa(e,s)){var i=o.memoizedProps;if((n=null!==(n=n.compare)?n:Qn)(i,r)&&e.ref===t.ref)return ha(e,t,s)}return t.flags|=1,(e=Ml(o,r)).ref=t.ref,e.return=t,t.child=e}function Yi(e,t,n,r,s){if(null!==e){var o=e.memoizedProps;if(Qn(o,r)&&e.ref===t.ref){if(Hi=!1,t.pendingProps=r=o,!pa(e,s))return t.lanes=e.lanes,ha(e,t,s);0!==(131072&e.flags)&&(Hi=!0)}}return $i(e,t,n,r,s)}function Qi(e,t,n){var r=t.pendingProps,s=r.children,o=0!==(2&t.stateNode._pendingVisibility),i=null!==e?e.memoizedState:null;if(Xi(e,t),"hidden"===r.mode||o){if(0!==(128&t.flags)){if(r=null!==i?i.baseLanes|n:n,null!==e){for(s=t.child=e.child,o=0;null!==s;)o=o|s.lanes|s.childLanes,s=s.sibling;t.childLanes=o&~r}else t.childLanes=0,t.child=null;return Ji(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Ji(e,t,null!==i?i.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Js(0,null!==i?i.cachePool:null),null!==i?Ss(t,i):Cs(),Is(t)}else null!==i?(Js(0,i.cachePool),Ss(t,i),Ls(),t.memoizedState=null):(null!==e&&Js(0,null),Cs(),Ls());return Wi(e,t,s,n),t.child}function Ji(e,t,n,r){var s=Qs();return s=null===s?null:{parent:Fs._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},null!==e&&Js(0,null),Cs(),Is(t),null!==e&&_a(e,t,r,!0),null}function Xi(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=2097664);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(i(284));null!==e&&e.ref===n||(t.flags|=2097664)}}function $i(e,t,n,r,s){return ka(t),n=ho(e,t,n,r,void 0,s),r=go(),null===e||Hi?(Jr&&r&&Gr(t),t.flags|=1,Wi(e,t,n,s),t.child):(vo(e,t,s),ha(e,t,s))}function Zi(e,t,n,r,s,o){return ka(t),t.updateQueue=null,n=mo(t,r,n,s),po(e),r=go(),null===e||Hi?(Jr&&r&&Gr(t),t.flags|=1,Wi(e,t,n,o),t.child):(vo(e,t,o),ha(e,t,o))}function ea(e,t,n,r,s){if(ka(t),null===t.stateNode){var o=Lr,i=n.contextType;"object"===typeof i&&null!==i&&(o=Sa(i)),o=new n(r,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=Pi,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=r,o.state=t.memoizedState,o.refs={},Ta(t),i=n.contextType,o.context="object"===typeof i&&null!==i?Sa(i):Lr,o.state=t.memoizedState,"function"===typeof(i=n.getDerivedStateFromProps)&&(Ti(t,n,i,r),o.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(i=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),i!==o.state&&Pi.enqueueReplaceState(o,o.state,null),Ma(t,r,o,s),Da(),o.state=t.memoizedState),"function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){o=t.stateNode;var a=t.memoizedProps,l=Ai(n,a);o.props=l;var c=o.context,u=n.contextType;i=Lr,"object"===typeof u&&null!==u&&(i=Sa(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate,a=t.pendingProps!==a,u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a||c!==i)&&Li(t,o,r,i),ja=!1;var h=t.memoizedState;o.state=h,Ma(t,r,o,s),Da(),c=t.memoizedState,a||h!==c||ja?("function"===typeof d&&(Ti(t,n,d,r),c=t.memoizedState),(l=ja||Ii(t,n,l,r,h,c,i))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=i,r=l):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pa(e,t),u=Ai(n,i=t.memoizedProps),o.props=u,d=t.pendingProps,h=o.context,c=n.contextType,l=Lr,"object"===typeof c&&null!==c&&(l=Sa(c)),(c="function"===typeof(a=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(i!==d||h!==l)&&Li(t,o,r,l),ja=!1,h=t.memoizedState,o.state=h,Ma(t,r,o,s),Da();var p=t.memoizedState;i!==d||h!==p||ja||null!==e&&null!==e.dependencies&&Ea(e.dependencies)?("function"===typeof a&&(Ti(t,n,a,r),p=t.memoizedState),(u=ja||Ii(t,n,u,r,h,p,l)||null!==e&&null!==e.dependencies&&Ea(e.dependencies))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,Xi(e,t),r=0!==(128&t.flags),o||r?(o=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&r?(t.child=ws(t,e.child,null,s),t.child=ws(t,null,n,s)):Wi(e,t,n,s),t.memoizedState=o.state,e=t.child):e=ha(e,t,s),e}function ta(e,t,n,r){return ss(),t.flags|=256,Wi(e,t,n,r),t.child}var na={dehydrated:null,treeContext:null,retryLane:0};function ra(e){return{baseLanes:e,cachePool:Xs()}}function sa(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=mc),e}function oa(e,t,n){var r,s=t.pendingProps,o=!1,a=0!==(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Os.current)),r&&(o=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(Jr){if(o?Ps(t):Ls(),Jr){var l,c=Qr;if(l=c){e:{for(l=c,c=$r;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=ad(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Br?{id:Vr,overflow:qr}:null,retryLane:536870912},(l=Rl(18,null,null,0)).stateNode=c,l.return=t,t.child=l,Yr=t,Qr=null,l=!0):l=!1}l||es(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return"$!"===c.data?t.lanes=16:t.lanes=536870912,null;As(t)}return c=s.children,s=s.fallback,o?(Ls(),c=aa({mode:"hidden",children:c},o=t.mode),s=zl(s,o,n,null),c.return=t,s.return=t,c.sibling=s,t.child=c,(o=t.child).memoizedState=ra(n),o.childLanes=sa(e,r,n),t.memoizedState=na,s):(Ps(t),ia(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(a)256&t.flags?(Ps(t),t.flags&=-257,t=la(e,t,n)):null!==t.memoizedState?(Ls(),t.child=e.child,t.flags|=128,t=null):(Ls(),o=s.fallback,c=t.mode,s=aa({mode:"visible",children:s.children},c),(o=zl(o,c,n,null)).flags|=2,s.return=t,o.return=t,s.sibling=o,t.child=s,ws(t,e.child,null,n),(s=t.child).memoizedState=ra(n),s.childLanes=sa(e,r,n),t.memoizedState=na,t=o);else if(Ps(t),"$!"===c.data){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(s=Error(i(419))).stack="",s.digest=r,os({value:s,source:null,stack:null}),t=la(e,t,n)}else if(Hi||_a(e,t,n,!1),r=0!==(n&e.childLanes),Hi||r){if(null!==(r=tc)){if(0!==(42&(s=n&-n)))s=1;else switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=64;break;case 268435456:s=134217728;break;default:s=0}if(0!==(s=0!==(s&(r.suspendedLanes|n))?0:s)&&s!==l.retryLane)throw l.retryLane=s,Tr(e,s),Lc(r,e,s),qi}"$?"===c.data||Hc(),t=la(e,t,n)}else"$?"===c.data?(t.flags|=128,t.child=e.child,t=au.bind(null,e),c._reactRetry=t,t=null):(e=l.treeContext,Qr=ad(c.nextSibling),Yr=t,Jr=!0,Xr=null,$r=!1,null!==e&&(Fr[zr++]=Vr,Fr[zr++]=qr,Fr[zr++]=Br,Vr=e.id,qr=e.overflow,Br=t),(t=ia(t,s.children)).flags|=4096);return t}return o?(Ls(),o=s.fallback,c=t.mode,u=(l=e.child).sibling,(s=Ml(l,{mode:"hidden",children:s.children})).subtreeFlags=31457280&l.subtreeFlags,null!==u?o=Ml(u,o):(o=zl(o,c,n,null)).flags|=2,o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,null===(c=e.child.memoizedState)?c=ra(n):(null!==(l=c.cachePool)?(u=Fs._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Xs(),c={baseLanes:c.baseLanes|n,cachePool:l}),o.memoizedState=c,o.childLanes=sa(e,r,n),t.memoizedState=na,s):(Ps(t),e=(n=e.child).sibling,(n=Ml(n,{mode:"visible",children:s.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function ia(e,t){return(t=aa({mode:"visible",children:t},e.mode)).return=e,e.child=t}function aa(e,t){return Bl(e,t,0,null)}function la(e,t,n){return ws(t,e.child,null,n),(e=ia(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ca(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function ua(e,t,n,r,s){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function da(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(Wi(e,t,r.children,n),0!==(2&(r=Os.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ca(e,n,t);else if(19===e.tag)ca(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(Y(Os,r),s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===Rs(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),ua(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===Rs(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}ua(t,!0,n,null,o);break;case"together":ua(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ha(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),dc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(_a(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Ml(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ml(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function pa(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ea(e))}function ma(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Hi=!0;else{if(!pa(e,n)&&0===(128&t.flags))return Hi=!1,function(e,t,n){switch(t.tag){case 3:Z(t,t.stateNode.containerInfo),ya(t,Fs,e.memoizedState.cache),ss();break;case 27:case 5:te(t);break;case 4:Z(t,t.stateNode.containerInfo);break;case 10:ya(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Ps(t),t.flags|=128,null):0!==(n&t.child.childLanes)?oa(e,t,n):(Ps(t),null!==(e=ha(e,t,n))?e.sibling:null);Ps(t);break;case 19:var s=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(_a(e,t,n,!1),r=0!==(n&t.childLanes)),s){if(r)return da(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),Y(Os,Os.current),r)break;return null;case 22:case 23:return t.lanes=0,Qi(e,t,n);case 24:ya(t,Fs,e.memoizedState.cache)}return ha(e,t,n)}(e,t,n);Hi=0!==(131072&e.flags)}else Hi=!1,Jr&&0!==(1048576&t.flags)&&Wr(t,Ur,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,s=r._init;if(r=s(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((s=r.$$typeof)===v){t.tag=11,t=Gi(null,t,r,e,n);break e}if(s===x){t.tag=14,t=Ki(null,t,r,e,n);break e}}throw t=N(r)||r,Error(i(306,t,""))}Dl(r)?(e=Ai(r,e),t.tag=1,t=ea(null,t,r,e,n)):(t.tag=0,t=$i(null,t,r,e,n))}return t;case 0:return $i(e,t,t.type,t.pendingProps,n);case 1:return ea(e,t,r=t.type,s=Ai(r,t.pendingProps),n);case 3:e:{if(Z(t,t.stateNode.containerInfo),null===e)throw Error(i(387));var o=t.pendingProps;r=(s=t.memoizedState).element,Pa(e,t),Ma(t,o,null,n);var a=t.memoizedState;if(o=a.cache,ya(t,Fs,o),o!==s.cache&&wa(t,[Fs],n,!0),Da(),o=a.element,s.isDehydrated){if(s={element:o,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=ta(e,t,o,n);break e}if(o!==r){os(r=Or(Error(i(424)),t)),t=ta(e,t,o,n);break e}for(Qr=ad(t.stateNode.containerInfo.firstChild),Yr=t,Jr=!0,Xr=null,$r=!0,n=_s(t,null,o,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ss(),o===r){t=ha(e,t,n);break e}Wi(e,t,o,n)}t=t.child}return t;case 26:return Xi(e,t),null===e?(n=gd(t.type,null,t.pendingProps,null))?t.memoizedState=n:Jr||(n=t.type,e=t.pendingProps,(r=Qu(X.current).createElement(n))[Ue]=t,r[Fe]=e,Gu(r,n,e),Xe(r),t.stateNode=r):t.memoizedState=gd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return te(t),null===e&&Jr&&(r=t.stateNode=cd(t.type,t.pendingProps,X.current),Yr=t,$r=!0,Qr=ad(r.firstChild)),r=t.pendingProps.children,null!==e||Jr?Wi(e,t,r,n):t.child=ws(t,null,r,n),Xi(e,t),t.child;case 5:return null===e&&Jr&&((s=r=Qr)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[We])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==s.rel||e.getAttribute("href")!==(null==s.href?null:s.href)||e.getAttribute("crossorigin")!==(null==s.crossOrigin?null:s.crossOrigin)||e.getAttribute("title")!==(null==s.title?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==s.src?null:s.src)||e.getAttribute("type")!==(null==s.type?null:s.type)||e.getAttribute("crossorigin")!==(null==s.crossOrigin?null:s.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==s.name?null:""+s.name;if("hidden"===s.type&&e.getAttribute("name")===o)return e}if(null===(e=ad(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,$r))?(t.stateNode=r,Yr=t,Qr=ad(r.firstChild),$r=!1,s=!0):s=!1),s||es(t)),te(t),s=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,r=o.children,$u(s,o)?r=null:null!==a&&$u(s,a)&&(t.flags|=32),null!==t.memoizedState&&(s=ho(e,t,fo,null,null,n),Dd._currentValue=s),Xi(e,t),Wi(e,t,r,n),t.child;case 6:return null===e&&Jr&&((e=n=Qr)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=ad(e.nextSibling)))return null}return e}(n,t.pendingProps,$r))?(t.stateNode=n,Yr=t,Qr=null,e=!0):e=!1),e||es(t)),null;case 13:return oa(e,t,n);case 4:return Z(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ws(t,null,r,n):Wi(e,t,r,n),t.child;case 11:return Gi(e,t,t.type,t.pendingProps,n);case 7:return Wi(e,t,t.pendingProps,n),t.child;case 8:case 12:return Wi(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,ya(t,t.type,r.value),Wi(e,t,r.children,n),t.child;case 9:return s=t.type._context,r=t.pendingProps.children,ka(t),r=r(s=Sa(s)),t.flags|=1,Wi(e,t,r,n),t.child;case 14:return Ki(e,t,t.type,t.pendingProps,n);case 15:return Yi(e,t,t.type,t.pendingProps,n);case 19:return da(e,t,n);case 22:return Qi(e,t,n);case 24:return ka(t),r=Sa(Fs),null===e?(null===(s=Qs())&&(s=tc,o=zs(),s.pooledCache=o,o.refCount++,null!==o&&(s.pooledCacheLanes|=n),s=o),t.memoizedState={parent:r,cache:s},Ta(t),ya(t,Fs,s)):(0!==(e.lanes&n)&&(Pa(e,t),Ma(t,null,null,n),Da()),s=e.memoizedState,o=t.memoizedState,s.parent!==r?(s={parent:r,cache:r},t.memoizedState=s,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=s),ya(t,Fs,r)):(r=o.cache,ya(t,Fs,r),r!==s.cache&&wa(t,[Fs],n,!0))),Wi(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}var fa=G(null),ga=null,va=null;function ya(e,t,n){Y(fa,t._currentValue),t._currentValue=n}function ba(e){e._currentValue=fa.current,K(fa)}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function wa(e,t,n,r){var s=e.child;for(null!==s&&(s.return=e);null!==s;){var o=s.dependencies;if(null!==o){var a=s.child;o=o.firstContext;e:for(;null!==o;){var l=o;o=s;for(var c=0;c<t.length;c++)if(l.context===t[c]){o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),xa(o.return,n,e),r||(a=null);break e}o=l.next}}else if(18===s.tag){if(null===(a=s.return))throw Error(i(341));a.lanes|=n,null!==(o=a.alternate)&&(o.lanes|=n),xa(a,n,e),a=null}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===e){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}}function _a(e,t,n,r){e=null;for(var s=t,o=!1;null!==s;){if(!o)if(0!==(524288&s.flags))o=!0;else if(0!==(262144&s.flags))break;if(10===s.tag){var a=s.alternate;if(null===a)throw Error(i(387));if(null!==(a=a.memoizedProps)){var l=s.type;Yn(s.pendingProps.value,a.value)||(null!==e?e.push(l):e=[l])}}else if(s===$.current){if(null===(a=s.alternate))throw Error(i(387));a.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(null!==e?e.push(Dd):e=[Dd])}s=s.return}null!==e&&wa(t,e,n,r),t.flags|=262144}function Ea(e){for(e=e.firstContext;null!==e;){if(!Yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ka(e){ga=e,va=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Sa(e){return Na(ga,e)}function Ca(e,t){return null===ga&&ka(e),Na(e,t)}function Na(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===va){if(null===e)throw Error(i(308));va=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else va=va.next=t;return n}var ja=!1;function Ta(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ia(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function La(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&ec)){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,t=Ir(e),Pr(e,null,n),t}return Nr(e,r,t,n),Ir(e)}function Aa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194176&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Oe(e,n)}}function Oa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var i={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===o?s=o=i:o=o.next=i,n=n.next}while(null!==n);null===o?s=o=t:o=o.next=t}else s=o=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ra=!1;function Da(){if(Ra){if(null!==Ws)throw Ws}}function Ma(e,t,n,r){Ra=!1;var s=e.updateQueue;ja=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(null!==a){s.shared.pending=null;var l=a,c=l.next;l.next=null,null===i?o=c:i.next=c,i=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=s.baseState;for(i=0,u=c=l=null,a=o;;){var h=-536870913&a.lane,p=h!==a.lane;if(p?(rc&h)===h:(r&h)===h){0!==h&&h===Hs&&(Ra=!0),null!==u&&(u=u.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var m=e,f=a;h=t;var g=n;switch(f.tag){case 1:if("function"===typeof(m=f.payload)){d=m.call(g,d,h);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=f.payload)?m.call(g,d,h):m)||void 0===h)break e;d=I({},d,h);break e;case 2:ja=!0}}null!==(h=a.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=s.callbacks)?s.callbacks=[h]:p.push(h))}else p={lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,i|=h;if(null===(a=a.next)){if(null===(a=s.shared.pending))break;a=(p=a).next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}null===u&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,null===o&&(s.shared.lanes=0),dc|=i,e.lanes=i,e.memoizedState=d}}function Ua(e,t){if("function"!==typeof e)throw Error(i(191,e));e.call(t)}function Fa(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Ua(n[e],t)}function za(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var s=r.next;n=s;do{if((n.tag&e)===e){r=void 0;var o=n.create,i=n.inst;r=o(),i.destroy=r}n=n.next}while(n!==s)}}catch(a){ru(t,t.return,a)}}function Ba(e,t,n){try{var r=t.updateQueue,s=null!==r?r.lastEffect:null;if(null!==s){var o=s.next;r=o;do{if((r.tag&e)===e){var i=r.inst,a=i.destroy;if(void 0!==a){i.destroy=void 0,s=t;var l=n;try{a()}catch(c){ru(s,l,c)}}}r=r.next}while(r!==o)}}catch(c){ru(t,t.return,c)}}function Va(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Fa(t,n)}catch(r){ru(e,e.return,r)}}}function qa(e,t,n){n.props=Ai(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){ru(e,t,r)}}function Ha(e,t){try{var n=e.ref;if(null!==n){var r=e.stateNode;switch(e.tag){case 26:case 27:case 5:var s=r;break;default:s=r}"function"===typeof n?e.refCleanup=n(s):n.current=s}}catch(o){ru(e,t,o)}}function Wa(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(s){ru(e,t,s)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(o){ru(e,t,o)}else n.current=null}function Ga(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(s){ru(e,e.return,s)}}function Ka(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,o=null,a=null,l=null,c=null,u=null,d=null;for(m in n){var h=n[m];if(n.hasOwnProperty(m)&&null!=h)switch(m){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(m)||Hu(e,t,m,null,r,h)}}for(var p in r){var m=r[p];if(h=n[p],r.hasOwnProperty(p)&&(null!=m||null!=h))switch(p){case"type":o=m;break;case"name":s=m;break;case"checked":u=m;break;case"defaultChecked":d=m;break;case"value":a=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(i(137,t));break;default:m!==h&&Hu(e,t,p,m,r,h)}}return void gt(e,a,l,c,u,d,o,s);case"select":for(o in m=a=l=p=null,n)if(c=n[o],n.hasOwnProperty(o)&&null!=c)switch(o){case"value":break;case"multiple":m=c;default:r.hasOwnProperty(o)||Hu(e,t,o,null,r,c)}for(s in r)if(o=r[s],c=n[s],r.hasOwnProperty(s)&&(null!=o||null!=c))switch(s){case"value":p=o;break;case"defaultValue":l=o;break;case"multiple":a=o;default:o!==c&&Hu(e,t,s,o,r,c)}return t=l,n=a,r=m,void(null!=p?bt(e,!!n,p,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in m=p=null,n)if(s=n[l],n.hasOwnProperty(l)&&null!=s&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Hu(e,t,l,null,r,s)}for(a in r)if(s=r[a],o=n[a],r.hasOwnProperty(a)&&(null!=s||null!=o))switch(a){case"value":p=s;break;case"defaultValue":m=s;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=s)throw Error(i(91));break;default:s!==o&&Hu(e,t,a,s,r,o)}return void xt(e,p,m);case"option":for(var f in n)if(p=n[f],n.hasOwnProperty(f)&&null!=p&&!r.hasOwnProperty(f))if("selected"===f)e.selected=!1;else Hu(e,t,f,null,r,p);for(c in r)if(p=r[c],m=n[c],r.hasOwnProperty(c)&&p!==m&&(null!=p||null!=m))if("selected"===c)e.selected=p&&"function"!==typeof p&&"symbol"!==typeof p;else Hu(e,t,c,p,r,m);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)p=n[g],n.hasOwnProperty(g)&&null!=p&&!r.hasOwnProperty(g)&&Hu(e,t,g,null,r,p);for(u in r)if(p=r[u],m=n[u],r.hasOwnProperty(u)&&p!==m&&(null!=p||null!=m))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(i(137,t));break;default:Hu(e,t,u,p,r,m)}return;default:if(Ct(t)){for(var v in n)p=n[v],n.hasOwnProperty(v)&&void 0!==p&&!r.hasOwnProperty(v)&&Wu(e,t,v,void 0,r,p);for(d in r)p=r[d],m=n[d],!r.hasOwnProperty(d)||p===m||void 0===p&&void 0===m||Wu(e,t,d,p,r,m);return}}for(var y in n)p=n[y],n.hasOwnProperty(y)&&null!=p&&!r.hasOwnProperty(y)&&Hu(e,t,y,null,r,p);for(h in r)p=r[h],m=n[h],!r.hasOwnProperty(h)||p===m||null==p&&null==m||Hu(e,t,h,p,r,m)}(r,e.type,n,t),r[Fe]=t}catch(s){ru(e,e.return,s)}}function Ya(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag||4===e.tag}function Qa(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Ya(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&27!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Ja(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=qu));else if(4!==r&&27!==r&&null!==(e=e.child))for(Ja(e,t,n),e=e.sibling;null!==e;)Ja(e,t,n),e=e.sibling}function Xa(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&27!==r&&null!==(e=e.child))for(Xa(e,t,n),e=e.sibling;null!==e;)Xa(e,t,n),e=e.sibling}var $a=!1,Za=!1,el=!1,tl="function"===typeof WeakSet?WeakSet:Set,nl=null,rl=!1;function sl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:vl(e,n),4&r&&za(5,n);break;case 1:if(vl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(a){ru(n,n.return,a)}else{var s=Ai(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){ru(n,n.return,l)}}64&r&&Va(n),512&r&&Ha(n,n.return);break;case 3:if(vl(e,n),64&r&&null!==(r=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:e=n.child.stateNode}try{Fa(r,e)}catch(a){ru(n,n.return,a)}}break;case 26:vl(e,n),512&r&&Ha(n,n.return);break;case 27:case 5:vl(e,n),null===t&&4&r&&Ga(n),512&r&&Ha(n,n.return);break;case 12:default:vl(e,n);break;case 13:vl(e,n),4&r&&ul(e,n);break;case 22:if(!(s=null!==n.memoizedState||$a)){t=null!==t&&null!==t.memoizedState||Za;var o=$a,i=Za;$a=s,(Za=t)&&!i?bl(e,n,0!==(8772&n.subtreeFlags)):vl(e,n),$a=o,Za=i}512&r&&("manual"===n.memoizedProps.mode?Ha(n,n.return):Wa(n,n.return))}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ge(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var il=null,al=!1;function ll(e,t,n){for(n=n.child;null!==n;)cl(e,t,n),n=n.sibling}function cl(e,t,n){if(ye&&"function"===typeof ye.onCommitFiberUnmount)try{ye.onCommitFiberUnmount(ve,n)}catch(i){}switch(n.tag){case 26:Za||Wa(n,t),ll(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Za||Wa(n,t);var r=il,s=al;for(il=n.stateNode,ll(e,t,n),t=(n=n.stateNode).attributes;t.length;)n.removeAttributeNode(t[0]);Ge(n),il=r,al=s;break;case 5:Za||Wa(n,t);case 6:s=il;var o=al;if(il=null,ll(e,t,n),al=o,null!==(il=s))if(al)try{e=il,r=n.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)}catch(a){ru(n,t,a)}else try{il.removeChild(n.stateNode)}catch(a){ru(n,t,a)}break;case 18:null!==il&&(al?(t=il,n=n.stateNode,8===t.nodeType?od(t.parentNode,n):1===t.nodeType&&od(t,n),fh(t)):od(il,n.stateNode));break;case 4:r=il,s=al,il=n.stateNode.containerInfo,al=!0,ll(e,t,n),il=r,al=s;break;case 0:case 11:case 14:case 15:Za||Ba(2,n,t),Za||Ba(4,n,t),ll(e,t,n);break;case 1:Za||(Wa(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&qa(n,t,r)),ll(e,t,n);break;case 21:ll(e,t,n);break;case 22:Za||Wa(n,t),Za=(r=Za)||null!==n.memoizedState,ll(e,t,n),Za=r;break;default:ll(e,t,n)}}function ul(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{fh(e)}catch(n){ru(t,t.return,n)}}function dl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new tl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new tl),t;default:throw Error(i(435,e.tag))}}(e);t.forEach((function(t){var r=lu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function hl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r],o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 27:case 5:il=l.stateNode,al=!1;break e;case 3:case 4:il=l.stateNode.containerInfo,al=!0;break e}l=l.return}if(null===il)throw Error(i(160));cl(o,a,s),il=null,al=!1,null!==(o=s.alternate)&&(o.return=null),s.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}var pl=null;function ml(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hl(t,e),fl(e),4&r&&(Ba(3,e,e.return),za(3,e),Ba(5,e,e.return));break;case 1:hl(t,e),fl(e),512&r&&(Za||null===n||Wa(n,n.return)),64&r&&$a&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var s=pl;if(hl(t,e),fl(e),512&r&&(Za||null===n||Wa(n,n.return)),4&r){var o=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(r){case"title":(!(o=s.getElementsByTagName("title")[0])||o[We]||o[Ue]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=s.createElement(r),s.head.insertBefore(o,s.querySelector("head > title"))),Gu(o,r,n),o[Ue]=e,Xe(o),r=o;break e;case"link":var a=Nd("link","href",s).get(r+(n.href||""));if(a)for(var l=0;l<a.length;l++)if((o=a[l]).getAttribute("href")===(null==n.href?null:n.href)&&o.getAttribute("rel")===(null==n.rel?null:n.rel)&&o.getAttribute("title")===(null==n.title?null:n.title)&&o.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(l,1);break t}Gu(o=s.createElement(r),r,n),s.head.appendChild(o);break;case"meta":if(a=Nd("meta","content",s).get(r+(n.content||"")))for(l=0;l<a.length;l++)if((o=a[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&o.getAttribute("name")===(null==n.name?null:n.name)&&o.getAttribute("property")===(null==n.property?null:n.property)&&o.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&o.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(l,1);break t}Gu(o=s.createElement(r),r,n),s.head.appendChild(o);break;default:throw Error(i(468,r))}o[Ue]=e,Xe(o),r=o}e.stateNode=r}else jd(s,e.type,e.stateNode);else e.stateNode=_d(s,r,e.memoizedProps);else o!==r?(null===o?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):o.count--,null===r?jd(s,e.type,e.stateNode):_d(s,r,e.memoizedProps)):null===r&&null!==e.stateNode&&Ka(e,e.memoizedProps,n.memoizedProps)}break;case 27:if(4&r&&null===e.alternate){s=e.stateNode,o=e.memoizedProps;try{for(var c=s.firstChild;c;){var u=c.nextSibling,d=c.nodeName;c[We]||"HEAD"===d||"BODY"===d||"SCRIPT"===d||"STYLE"===d||"LINK"===d&&"stylesheet"===c.rel.toLowerCase()||s.removeChild(c),c=u}for(var h=e.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);Gu(s,h,o),s[Ue]=e,s[Fe]=o}catch(f){ru(e,e.return,f)}}case 5:if(hl(t,e),fl(e),512&r&&(Za||null===n||Wa(n,n.return)),32&e.flags){s=e.stateNode;try{_t(s,"")}catch(f){ru(e,e.return,f)}}4&r&&null!=e.stateNode&&Ka(e,s=e.memoizedProps,null!==n?n.memoizedProps:s),1024&r&&(el=!0);break;case 6:if(hl(t,e),fl(e),4&r){if(null===e.stateNode)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(f){ru(e,e.return,f)}}break;case 3:if(Cd=null,s=pl,pl=hd(t.containerInfo),hl(t,e),pl=s,fl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{fh(t.containerInfo)}catch(f){ru(e,e.return,f)}el&&(el=!1,gl(e));break;case 4:r=pl,pl=hd(e.stateNode.containerInfo),hl(t,e),fl(e),pl=r;break;case 12:hl(t,e),fl(e);break;case 13:hl(t,e),fl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(bc=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,dl(e,r)));break;case 22:if(512&r&&(Za||null===n||Wa(n,n.return)),c=null!==e.memoizedState,u=null!==n&&null!==n.memoizedState,$a=(d=$a)||c,Za=(h=Za)||u,hl(t,e),Za=h,$a=d,fl(e),(t=e.stateNode)._current=e,t._visibility&=-3,t._visibility|=2&t._pendingVisibility,8192&r&&(t._visibility=c?-2&t._visibility:1|t._visibility,c&&(t=$a||Za,null===n||u||t||yl(e)),null===e.memoizedProps||"manual"!==e.memoizedProps.mode))e:for(n=null,t=e;;){if(5===t.tag||26===t.tag||27===t.tag){if(null===n){u=n=t;try{if(s=u.stateNode,c)"function"===typeof(o=s.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{a=u.stateNode;var m=void 0!==(l=u.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null;a.style.display=null==m||"boolean"===typeof m?"":(""+m).trim()}}catch(f){ru(u,u.return,f)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(f){ru(u,u.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,dl(e,n))));break;case 19:hl(t,e),fl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,dl(e,r)));break;case 21:break;default:hl(t,e),fl(e)}}function fl(e){var t=e.flags;if(2&t){try{if(27!==e.tag){e:{for(var n=e.return;null!==n;){if(Ya(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 27:var s=r.stateNode;Xa(e,Qa(e),s);break;case 5:var o=r.stateNode;32&r.flags&&(_t(o,""),r.flags&=-33),Xa(e,Qa(e),o);break;case 3:case 4:var a=r.stateNode.containerInfo;Ja(e,Qa(e),a);break;default:throw Error(i(161))}}}catch(l){ru(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;gl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function vl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)sl(e,t.alternate,t),t=t.sibling}function yl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ba(4,t,t.return),yl(t);break;case 1:Wa(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&qa(t,t.return,n),yl(t);break;case 26:case 27:case 5:Wa(t,t.return),yl(t);break;case 22:Wa(t,t.return),null===t.memoizedState&&yl(t);break;default:yl(t)}e=e.sibling}}function bl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,s=e,o=t,i=o.flags;switch(o.tag){case 0:case 11:case 15:bl(s,o,n),za(4,o);break;case 1:if(bl(s,o,n),"function"===typeof(s=(r=o).stateNode).componentDidMount)try{s.componentDidMount()}catch(c){ru(r,r.return,c)}if(null!==(s=(r=o).updateQueue)){var a=r.stateNode;try{var l=s.shared.hiddenCallbacks;if(null!==l)for(s.shared.hiddenCallbacks=null,s=0;s<l.length;s++)Ua(l[s],a)}catch(c){ru(r,r.return,c)}}n&&64&i&&Va(o),Ha(o,o.return);break;case 26:case 27:case 5:bl(s,o,n),n&&null===r&&4&i&&Ga(o),Ha(o,o.return);break;case 12:default:bl(s,o,n);break;case 13:bl(s,o,n),n&&4&i&&ul(s,o);break;case 22:null===o.memoizedState&&bl(s,o,n),Ha(o,o.return)}t=t.sibling}}function xl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Bs(n))}function wl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Bs(e))}function _l(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)El(e,t,n,r),t=t.sibling}function El(e,t,n,r){var s=t.flags;switch(t.tag){case 0:case 11:case 15:_l(e,t,n,r),2048&s&&za(9,t);break;case 3:_l(e,t,n,r),2048&s&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Bs(e)));break;case 12:if(2048&s){_l(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,i=o.id,a=o.onPostCommit;"function"===typeof a&&a(i,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){ru(t,t.return,l)}}else _l(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,null!==t.memoizedState?4&o._visibility?_l(e,t,n,r):Sl(e,t):4&o._visibility?_l(e,t,n,r):(o._visibility|=4,kl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&s&&xl(t.alternate,t);break;case 24:_l(e,t,n,r),2048&s&&wl(t.alternate,t);break;default:_l(e,t,n,r)}}function kl(e,t,n,r,s){for(s=s&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var o=e,i=t,a=n,l=r,c=i.flags;switch(i.tag){case 0:case 11:case 15:kl(o,i,a,l,s),za(8,i);break;case 23:break;case 22:var u=i.stateNode;null!==i.memoizedState?4&u._visibility?kl(o,i,a,l,s):Sl(o,i):(u._visibility|=4,kl(o,i,a,l,s)),s&&2048&c&&xl(i.alternate,i);break;case 24:kl(o,i,a,l,s),s&&2048&c&&wl(i.alternate,i);break;default:kl(o,i,a,l,s)}t=t.sibling}}function Sl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,s=r.flags;switch(r.tag){case 22:Sl(n,r),2048&s&&xl(r.alternate,r);break;case 24:Sl(n,r),2048&s&&wl(r.alternate,r);break;default:Sl(n,r)}t=t.sibling}}var Cl=8192;function Nl(e){if(e.subtreeFlags&Cl)for(e=e.child;null!==e;)jl(e),e=e.sibling}function jl(e){switch(e.tag){case 26:Nl(e),e.flags&Cl&&null!==e.memoizedState&&function(e,t,n){if(null===Pd)throw Error(i(475));var r=Pd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var s=vd(n.href),o=e.querySelector(yd(s));if(o)return null!==(e=o._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Ld.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=o,void Xe(o);o=e.ownerDocument||e,n=bd(n),(s=ud.get(s))&&kd(n,s),Xe(o=o.createElement("link"));var a=o;a._p=new Promise((function(e,t){a.onload=e,a.onerror=t})),Gu(o,"link",n),t.instance=o}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Ld.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(pl,e.memoizedState,e.memoizedProps);break;case 5:default:Nl(e);break;case 3:case 4:var t=pl;pl=hd(e.stateNode.containerInfo),Nl(e),pl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Cl,Cl=16777216,Nl(e),Cl=t):Nl(e))}}function Tl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Pl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];nl=r,Al(r,e)}Tl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Il(e),e=e.sibling}function Il(e){switch(e.tag){case 0:case 11:case 15:Pl(e),2048&e.flags&&Ba(9,e,e.return);break;case 3:case 12:default:Pl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&4&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-5,Ll(e)):Pl(e)}}function Ll(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];nl=r,Al(r,e)}Tl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:Ba(8,t,t.return),Ll(t);break;case 22:4&(n=t.stateNode)._visibility&&(n._visibility&=-5,Ll(t));break;default:Ll(t)}e=e.sibling}}function Al(e,t){for(;null!==nl;){var n=nl;switch(n.tag){case 0:case 11:case 15:Ba(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Bs(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,nl=r;else e:for(n=e;null!==nl;){var s=(r=nl).sibling,o=r.return;if(ol(r),r===n){nl=null;break e}if(null!==s){s.return=o,nl=s;break e}nl=o}}}function Ol(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rl(e,t,n,r){return new Ol(e,t,n,r)}function Dl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ml(e,t){var n=e.alternate;return null===n?((n=Rl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=31457280&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ul(e,t){e.flags&=31457282;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Fl(e,t,n,r,s,o){var a=0;if(r=e,"function"===typeof e)Dl(e)&&(a=1);else if("string"===typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,Q.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case d:return zl(n.children,s,o,t);case h:a=8,s|=24;break;case p:return(e=Rl(12,n,t,2|s)).elementType=p,e.lanes=o,e;case y:return(e=Rl(13,n,t,s)).elementType=y,e.lanes=o,e;case b:return(e=Rl(19,n,t,s)).elementType=b,e.lanes=o,e;case _:return Bl(n,s,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case m:case g:a=10;break e;case f:a=9;break e;case v:a=11;break e;case x:a=14;break e;case w:a=16,r=null;break e}a=29,n=Error(i(130,null===e?"null":typeof e,"")),r=null}return(t=Rl(a,n,t,s)).elementType=e,t.type=r,t.lanes=o,t}function zl(e,t,n,r){return(e=Rl(7,e,r,t)).lanes=n,e}function Bl(e,t,n,r){(e=Rl(22,e,r,t)).elementType=_,e.lanes=n;var s={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var e=s._current;if(null===e)throw Error(i(456));if(0===(2&s._pendingVisibility)){var t=Tr(e,2);null!==t&&(s._pendingVisibility|=2,Lc(t,e,2))}},attach:function(){var e=s._current;if(null===e)throw Error(i(456));if(0!==(2&s._pendingVisibility)){var t=Tr(e,2);null!==t&&(s._pendingVisibility&=-3,Lc(t,e,2))}}};return e.stateNode=s,e}function Vl(e,t,n){return(e=Rl(6,e,null,t)).lanes=n,e}function ql(e,t,n){return(t=Rl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hl(e){e.flags|=4}function Wl(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Td(t)){if(null!==(t=js.current)&&((4194176&rc)===rc?null!==Ts:(62914560&rc)!==rc&&0===(536870912&rc)||t!==Ts))throw hs=ls,as;e.flags|=8192}}function Gl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Pe():536870912,e.lanes|=t,fc|=t)}function Kl(e,t){if(!Jr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Yl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=31457280&s.subtreeFlags,r|=31457280&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ql(e,t,n){var r=t.pendingProps;switch(Kr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return Yl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ba(Fs),ee(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(rs(t)?Hl(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Xr&&(Oc(Xr),Xr=null))),Yl(t),null;case 26:return n=t.memoizedState,null===e?(Hl(t),null!==n?(Yl(t),Wl(t,n)):(Yl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Hl(t),Yl(t),Wl(t,n)):(Yl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Hl(t),Yl(t),t.flags&=-16777217),null;case 27:ne(t),n=X.current;var s=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Hl(t);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Yl(t),null}e=Q.current,rs(t)?ts(t):(e=cd(s,r,n),t.stateNode=e,Hl(t))}return Yl(t),null;case 5:if(ne(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Hl(t);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Yl(t),null}if(e=Q.current,rs(t))ts(t);else{switch(s=Qu(X.current),e){case 1:e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?s.createElement(n,{is:r.is}):s.createElement(n)}}e[Ue]=t,e[Fe]=r;e:for(s=t.child;null!==s;){if(5===s.tag||6===s.tag)e.appendChild(s.stateNode);else if(4!==s.tag&&27!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;null===s.sibling;){if(null===s.return||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=e;e:switch(Gu(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Hl(t)}}return Yl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Hl(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(e=X.current,rs(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(s=Yr))switch(s.tag){case 27:case 5:r=s.memoizedProps}e[Ue]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Vu(e.nodeValue,n)))||es(t)}else(e=Qu(e).createTextNode(r))[Ue]=t,t.stateNode=e}return Yl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(s=rs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(i(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(i(317));s[Ue]=t}else ss(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Yl(t),s=!1}else null!==Xr&&(Oc(Xr),Xr=null),s=!0;if(!s)return 256&t.flags?(As(t),t):(As(t),null)}if(As(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){s=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(s=r.alternate.memoizedState.cachePool.pool);var o=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(o=r.memoizedState.cachePool.pool),o!==s&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Gl(t,t.updateQueue),Yl(t),null;case 4:return ee(),null===e&&Lu(t.stateNode.containerInfo),Yl(t),null;case 10:return ba(t.type),Yl(t),null;case 19:if(K(Os),null===(s=t.memoizedState))return Yl(t),null;if(r=0!==(128&t.flags),null===(o=s.rendering))if(r)Kl(s,!1);else{if(0!==uc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=Rs(e))){for(t.flags|=128,Kl(s,!1),e=o.updateQueue,t.updateQueue=e,Gl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ul(n,e),n=n.sibling;return Y(Os,1&Os.current|2),t.child}e=e.sibling}null!==s.tail&&le()>xc&&(t.flags|=128,r=!0,Kl(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Rs(o))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Gl(t,e),Kl(s,!0),null===s.tail&&"hidden"===s.tailMode&&!o.alternate&&!Jr)return Yl(t),null}else 2*le()-s.renderingStartTime>xc&&536870912!==n&&(t.flags|=128,r=!0,Kl(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=s.last)?e.sibling=o:t.child=o,s.last=o)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=le(),t.sibling=null,e=Os.current,Y(Os,r?1&e|2:1&e),t):(Yl(t),null);case 22:case 23:return As(t),Ns(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(Yl(t),6&t.subtreeFlags&&(t.flags|=8192)):Yl(t),null!==(n=t.updateQueue)&&Gl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&K(Ys),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ba(Fs),Yl(t),null;case 25:return null}throw Error(i(156,t.tag))}function Jl(e,t){switch(Kr(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ba(Fs),ee(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return ne(t),null;case 13:if(As(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));ss()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return K(Os),null;case 4:return ee(),null;case 10:return ba(t.type),null;case 22:case 23:return As(t),Ns(),null!==e&&K(Ys),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return ba(Fs),null;default:return null}}function Xl(e,t){switch(Kr(t),t.tag){case 3:ba(Fs),ee();break;case 26:case 27:case 5:ne(t);break;case 4:ee();break;case 13:As(t);break;case 19:K(Os);break;case 10:ba(t.type);break;case 22:case 23:As(t),Ns(),null!==e&&K(Ys);break;case 24:ba(Fs)}}var $l={getCacheForType:function(e){var t=Sa(Fs),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},Zl="function"===typeof WeakMap?WeakMap:Map,ec=0,tc=null,nc=null,rc=0,sc=0,oc=null,ic=!1,ac=!1,lc=!1,cc=0,uc=0,dc=0,hc=0,pc=0,mc=0,fc=0,gc=null,vc=null,yc=!1,bc=0,xc=1/0,wc=null,_c=null,Ec=!1,kc=null,Sc=0,Cc=0,Nc=null,jc=0,Tc=null;function Pc(){if(0!==(2&ec)&&0!==rc)return rc&-rc;if(null!==P.T){return 0!==Hs?Hs:wu()}return De()}function Ic(){0===mc&&(mc=0===(536870912&rc)||Jr?Te():536870912);var e=js.current;return null!==e&&(e.flags|=32),mc}function Lc(e,t,n){(e===tc&&2===sc||null!==e.cancelPendingCommit)&&(zc(e,0),Mc(e,rc,mc,!1)),Le(e,n),0!==(2&ec)&&e===tc||(e===tc&&(0===(2&ec)&&(hc|=n),4===uc&&Mc(e,rc,mc,!1)),fu(e))}function Ac(e,t,n){if(0!==(6&ec))throw Error(i(327));for(var r=!n&&0===(60&t)&&0===(t&e.expiredLanes)||Ne(e,t),s=r?function(e,t){var n=ec;ec|=2;var r=Vc(),s=qc();tc!==e||rc!==t?(wc=null,xc=le()+500,zc(e,t)):ac=Ne(e,t);e:for(;;)try{if(0!==sc&&null!==nc){t=nc;var o=oc;t:switch(sc){case 1:sc=0,oc=null,Jc(e,t,o,1);break;case 2:if(cs(o)){sc=0,oc=null,Qc(t);break}t=function(){2===sc&&tc===e&&(sc=7),fu(e)},o.then(t,t);break e;case 3:sc=7;break e;case 4:sc=5;break e;case 7:cs(o)?(sc=0,oc=null,Qc(t)):(sc=0,oc=null,Jc(e,t,o,7));break;case 5:var a=null;switch(nc.tag){case 26:a=nc.memoizedState;case 5:case 27:var l=nc;if(!a||Td(a)){sc=0,oc=null;var c=l.sibling;if(null!==c)nc=c;else{var u=l.return;null!==u?(nc=u,Xc(u)):nc=null}break t}}sc=0,oc=null,Jc(e,t,o,5);break;case 6:sc=0,oc=null,Jc(e,t,o,6);break;case 8:Fc(),uc=6;break e;default:throw Error(i(462))}}Kc();break}catch(d){Bc(e,d)}return va=ga=null,P.H=r,P.A=s,ec=n,null!==nc?0:(tc=null,rc=0,Cr(),uc)}(e,t):Wc(e,t,!0),o=r;;){if(0===s){ac&&!r&&Mc(e,t,0,!1);break}if(6===s)Mc(e,t,0,!ic);else{if(n=e.current.alternate,o&&!Dc(n)){s=Wc(e,t,!1),o=!1;continue}if(2===s){if(o=t,e.errorRecoveryDisabledLanes&o)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var l=e;s=gc;var c=l.current.memoizedState.isDehydrated;if(c&&(zc(l,a).flags|=256),2!==(a=Wc(l,a,!1))){if(lc&&!c){l.errorRecoveryDisabledLanes|=o,hc|=o,s=4;break e}o=vc,vc=s,null!==o&&Oc(o)}s=a}if(o=!1,2!==s)continue}}if(1===s){zc(e,0),Mc(e,t,0,!0);break}e:{switch(r=e,s){case 0:case 1:throw Error(i(345));case 4:if((4194176&t)===t){Mc(r,t,mc,!ic);break e}break;case 2:vc=null;break;case 3:case 5:break;default:throw Error(i(329))}if(r.finishedWork=n,r.finishedLanes=t,(62914560&t)===t&&10<(o=bc+300-le())){if(Mc(r,t,mc,!ic),0!==Ce(r,0))break e;r.timeoutHandle=ed(Rc.bind(null,r,n,vc,wc,yc,t,mc,hc,fc,ic,2,-0,0),o)}else Rc(r,n,vc,wc,yc,t,mc,hc,fc,ic,0,-0,0)}}break}fu(e)}function Oc(e){null===vc?vc=e:vc.push.apply(vc,e)}function Rc(e,t,n,r,s,o,a,l,c,u,d,h,p){var m=t.subtreeFlags;if((8192&m||16785408===(16785408&m))&&(Pd={stylesheets:null,count:0,unsuspend:Id},jl(t),null!==(t=function(){if(null===Pd)throw Error(i(475));var e=Pd;return e.stylesheets&&0===e.count&&Od(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&Od(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=t(Zc.bind(null,e,n,r,s,a,l,c,1,h,p)),void Mc(e,o,a,!u);Zc(e,n,r,s,a,l,c,d,h,p)}function Dc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!Yn(o(),s))return!1}catch(i){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Mc(e,t,n,r){t&=~pc,t&=~hc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var s=t;0<s;){var o=31-xe(s),i=1<<o;r[o]=-1,s&=~i}0!==n&&Ae(e,n,t)}function Uc(){return 0!==(6&ec)||(gu(0,!1),!1)}function Fc(){if(null!==nc){if(0===sc)var e=nc.return;else va=ga=null,yo(e=nc),ms=null,fs=0,e=nc;for(;null!==e;)Xl(e.alternate,e),e=e.return;nc=null}}function zc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,td(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Fc(),tc=e,nc=n=Ml(e.current,null),rc=t,sc=0,oc=null,ic=!1,ac=Ne(e,t),lc=!1,fc=mc=pc=hc=dc=uc=0,vc=gc=null,yc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var s=31-xe(r),o=1<<s;t|=e[s],r&=~o}return cc=t,Cr(),n}function Bc(e,t){Zs=null,P.H=Si,t===is?(t=ps(),sc=3):t===as?(t=ps(),sc=4):sc=t===qi?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,oc=t,null===nc&&(uc=1,Ui(e,Or(t,e.current)))}function Vc(){var e=P.H;return P.H=Si,null===e?Si:e}function qc(){var e=P.A;return P.A=$l,e}function Hc(){uc=4,ic||(4194176&rc)!==rc&&null!==js.current||(ac=!0),0===(134217727&dc)&&0===(134217727&hc)||null===tc||Mc(tc,rc,mc,!1)}function Wc(e,t,n){var r=ec;ec|=2;var s=Vc(),o=qc();tc===e&&rc===t||(wc=null,zc(e,t)),t=!1;var i=uc;e:for(;;)try{if(0!==sc&&null!==nc){var a=nc,l=oc;switch(sc){case 8:Fc(),i=6;break e;case 3:case 2:case 6:null===js.current&&(t=!0);var c=sc;if(sc=0,oc=null,Jc(e,a,l,c),n&&ac){i=0;break e}break;default:c=sc,sc=0,oc=null,Jc(e,a,l,c)}}Gc(),i=uc;break}catch(u){Bc(e,u)}return t&&e.shellSuspendCounter++,va=ga=null,ec=r,P.H=s,P.A=o,null===nc&&(tc=null,rc=0,Cr()),i}function Gc(){for(;null!==nc;)Yc(nc)}function Kc(){for(;null!==nc&&!ie();)Yc(nc)}function Yc(e){var t=ma(e.alternate,e,cc);e.memoizedProps=e.pendingProps,null===t?Xc(e):nc=t}function Qc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Zi(n,t,t.pendingProps,t.type,void 0,rc);break;case 11:t=Zi(n,t,t.pendingProps,t.type.render,t.ref,rc);break;case 5:yo(t);default:Xl(n,t),t=ma(n,t=nc=Ul(t,cc),cc)}e.memoizedProps=e.pendingProps,null===t?Xc(e):nc=t}function Jc(e,t,n,r){va=ga=null,yo(t),ms=null,fs=0;var s=t.return;try{if(function(e,t,n,r,s){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&_a(t,n,s,!0),null!==(n=js.current)){switch(n.tag){case 13:return null===Ts?Hc():null===n.alternate&&0===uc&&(uc=3),n.flags&=-257,n.flags|=65536,n.lanes=s,r===ls?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),su(e,r,s)),!1;case 22:return n.flags|=65536,r===ls?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),su(e,r,s)),!1}throw Error(i(435,n.tag))}return su(e,r,s),Hc(),!1}if(Jr)return null!==(t=js.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=s,r!==Zr&&os(Or(e=Error(i(422),{cause:r}),n))):(r!==Zr&&os(Or(t=Error(i(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,s&=-s,e.lanes|=s,r=Or(r,n),Oa(e,s=zi(e.stateNode,r,s)),4!==uc&&(uc=2)),!1;var o=Error(i(520),{cause:r});if(o=Or(o,n),null===gc?gc=[o]:gc.push(o),4!==uc&&(uc=2),null===t)return!0;r=Or(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,Oa(n,e=zi(n.stateNode,r,e)),!1;case 1:if(t=n.type,o=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==o&&"function"===typeof o.componentDidCatch&&(null===_c||!_c.has(o))))return n.flags|=65536,s&=-s,n.lanes|=s,Vi(s=Bi(s),e,n,r),Oa(n,s),!1}n=n.return}while(null!==n);return!1}(e,s,t,n,rc))return uc=1,Ui(e,Or(n,e.current)),void(nc=null)}catch(o){if(null!==s)throw nc=s,o;return uc=1,Ui(e,Or(n,e.current)),void(nc=null)}32768&t.flags?(Jr||1===r?e=!0:ac||0!==(536870912&rc)?e=!1:(ic=e=!0,(2===r||3===r||6===r)&&(null!==(r=js.current)&&13===r.tag&&(r.flags|=16384))),$c(t,e)):Xc(t)}function Xc(e){var t=e;do{if(0!==(32768&t.flags))return void $c(t,ic);e=t.return;var n=Ql(t.alternate,t,cc);if(null!==n)return void(nc=n);if(null!==(t=t.sibling))return void(nc=t);nc=t=e}while(null!==t);0===uc&&(uc=5)}function $c(e,t){do{var n=Jl(e.alternate,e);if(null!==n)return n.flags&=32767,void(nc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(nc=e);nc=e=n}while(null!==e);uc=6,nc=null}function Zc(e,t,n,r,s,o,a,l,c,u){var d=P.T,h=V.p;try{V.p=2,P.T=null,function(e,t,n,r,s,o,a,l){do{tu()}while(null!==kc);if(0!==(6&ec))throw Error(i(327));var c=e.finishedWork;if(r=e.finishedLanes,null===c)return null;if(e.finishedWork=null,e.finishedLanes=0,c===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var u=c.lanes|c.childLanes;if(function(e,t,n,r,s,o){var i=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=i&~n;0<n;){var u=31-xe(n),d=1<<u;a[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var p=h[u];null!==p&&(p.lane&=-536870913)}n&=~d}0!==r&&Ae(e,r,0),0!==o&&0===s&&0!==e.tag&&(e.suspendedLanes|=o&~(i&~t))}(e,r,u|=Sr,o,a,l),e===tc&&(nc=tc=null,rc=0),0===(10256&c.subtreeFlags)&&0===(10256&c.flags)||Ec||(Ec=!0,Cc=u,Nc=n,function(e,t){se(e,t)}(he,(function(){return tu(),null}))),n=0!==(15990&c.flags),0!==(15990&c.subtreeFlags)||n?(n=P.T,P.T=null,o=V.p,V.p=2,a=ec,ec|=4,function(e,t){if(e=e.containerInfo,Ku=Hd,er(e=Zn(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(g){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var m;h!==n||0!==s&&3!==h.nodeType||(l=a+s),h!==o||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(m=h.firstChild);)p=h,h=m;for(;;){if(h===e)break t;if(p===n&&++u===s&&(l=a),p===o&&++d===r&&(c=a),null!==(m=h.nextSibling))break;p=(h=p).parentNode}h=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yu={focusedElem:e,selectionRange:n},Hd=!1,nl=t;null!==nl;)if(e=(t=nl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,nl=e;else for(;null!==nl;){switch(o=(t=nl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==o){e=void 0,n=t,s=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var f=Ai(n.type,s,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(f,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(v){ru(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))id(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":id(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(i(163))}if(null!==(e=t.sibling)){e.return=t.return,nl=e;break}nl=t.return}f=rl,rl=!1}(e,c),ml(c,e),tr(Yu,e.containerInfo),Hd=!!Ku,Yu=Ku=null,e.current=c,sl(e,c.alternate,c),ae(),ec=a,V.p=o,P.T=n):e.current=c,Ec?(Ec=!1,kc=e,Sc=r):eu(e,u),u=e.pendingLanes,0===u&&(_c=null),function(e){if(ye&&"function"===typeof ye.onCommitFiberRoot)try{ye.onCommitFiberRoot(ve,e,void 0,128===(128&e.current.flags))}catch(t){}}(c.stateNode),fu(e),null!==t)for(s=e.onRecoverableError,c=0;c<t.length;c++)u=t[c],s(u.value,{componentStack:u.stack});0!==(3&Sc)&&tu(),u=e.pendingLanes,0!==(4194218&r)&&0!==(42&u)?e===Tc?jc++:(jc=0,Tc=e):jc=0,gu(0,!1)}(e,t,n,r,h,s,o,a)}finally{P.T=d,V.p=h}}function eu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Bs(t)))}function tu(){if(null!==kc){var e=kc,t=Cc;Cc=0;var n=Re(Sc),r=P.T,s=V.p;try{if(V.p=32>n?32:n,P.T=null,null===kc)var o=!1;else{n=Nc,Nc=null;var a=kc,l=Sc;if(kc=null,Sc=0,0!==(6&ec))throw Error(i(331));var c=ec;if(ec|=4,Il(a.current),El(a,a.current,l,n),ec=c,gu(0,!1),ye&&"function"===typeof ye.onPostCommitFiberRoot)try{ye.onPostCommitFiberRoot(ve,a)}catch(u){}o=!0}return o}finally{V.p=s,P.T=r,eu(e,t)}}return!1}function nu(e,t,n){t=Or(n,t),null!==(e=La(e,t=zi(e.stateNode,t,2),2))&&(Le(e,2),fu(e))}function ru(e,t,n){if(3===e.tag)nu(e,e,n);else for(;null!==t;){if(3===t.tag){nu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===_c||!_c.has(r))){e=Or(n,e),null!==(r=La(t,n=Bi(2),2))&&(Vi(n,r,t,e),Le(r,2),fu(r));break}}t=t.return}}function su(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Zl;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(lc=!0,s.add(n),e=ou.bind(null,e,t,n),t.then(e,e))}function ou(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,tc===e&&(rc&n)===n&&(4===uc||3===uc&&(62914560&rc)===rc&&300>le()-bc?0===(2&ec)&&zc(e,0):pc|=n,fc===rc&&(fc=0)),fu(e)}function iu(e,t){0===t&&(t=Pe()),null!==(e=Tr(e,t))&&(Le(e,t),fu(e))}function au(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),iu(e,n)}function lu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}null!==r&&r.delete(t),iu(e,n)}var cu=null,uu=null,du=!1,hu=!1,pu=!1,mu=0;function fu(e){var t;e!==uu&&null===e.next&&(null===uu?cu=uu=e:uu=uu.next=e),hu=!0,du||(du=!0,t=vu,rd((function(){0!==(6&ec)?se(ue,t):t()})))}function gu(e,t){if(!pu&&hu){pu=!0;do{for(var n=!1,r=cu;null!==r;){if(!t)if(0!==e){var s=r.pendingLanes;if(0===s)var o=0;else{var i=r.suspendedLanes,a=r.pingedLanes;o=(1<<31-xe(42|e)+1)-1,o=201326677&(o&=s&~(i&~a))?201326677&o|1:o?2|o:0}0!==o&&(n=!0,xu(r,o))}else o=rc,0===(3&(o=Ce(r,r===tc?o:0)))||Ne(r,o)||(n=!0,xu(r,o));r=r.next}}while(n);pu=!1}}function vu(){hu=du=!1;var e=0;0!==mu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==Zu&&(Zu=e,!0);return Zu=null,!1}()&&(e=mu),mu=0);for(var t=le(),n=null,r=cu;null!==r;){var s=r.next,o=yu(r,t);0===o?(r.next=null,null===n?cu=s:n.next=s,null===s&&(uu=n)):(n=r,(0!==e||0!==(3&o))&&(hu=!0)),r=s}gu(e,!1)}function yu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var i=31-xe(o),a=1<<i,l=s[i];-1===l?0!==(a&n)&&0===(a&r)||(s[i]=je(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}if(n=rc,n=Ce(e,e===(t=tc)?n:0),r=e.callbackNode,0===n||e===t&&2===sc||null!==e.cancelPendingCommit)return null!==r&&null!==r&&oe(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Ne(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&oe(r),Re(n)){case 2:case 8:n=de;break;case 32:default:n=he;break;case 268435456:n=me}return r=bu.bind(null,e),n=se(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&oe(r),e.callbackPriority=2,e.callbackNode=null,2}function bu(e,t){var n=e.callbackNode;if(tu()&&e.callbackNode!==n)return null;var r=rc;return 0===(r=Ce(e,e===tc?r:0))?null:(Ac(e,r,t),yu(e,le()),null!=e.callbackNode&&e.callbackNode===n?bu.bind(null,e):null)}function xu(e,t){if(tu())return null;Ac(e,t,!0)}function wu(){return 0===mu&&(mu=Te()),mu}function _u(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Tt(""+e)}function Eu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var ku=0;ku<wr.length;ku++){var Su=wr[ku];_r(Su.toLowerCase(),"on"+(Su[0].toUpperCase()+Su.slice(1)))}_r(pr,"onAnimationEnd"),_r(mr,"onAnimationIteration"),_r(fr,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(gr,"onTransitionRun"),_r(vr,"onTransitionStart"),_r(yr,"onTransitionCancel"),_r(br,"onTransitionEnd"),tt("onMouseEnter",["mouseout","mouseover"]),tt("onMouseLeave",["mouseout","mouseover"]),tt("onPointerEnter",["pointerout","pointerover"]),tt("onPointerLeave",["pointerout","pointerover"]),et("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),et("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),et("onBeforeInput",["compositionend","keypress","textInput","paste"]),et("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cu));function ju(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&s.isPropagationStopped())break e;o=a,s.currentTarget=c;try{o(s)}catch(u){Oi(u)}s.currentTarget=null,o=l}else for(i=0;i<r.length;i++){if(l=(a=r[i]).instance,c=a.currentTarget,a=a.listener,l!==o&&s.isPropagationStopped())break e;o=a,s.currentTarget=c;try{o(s)}catch(u){Oi(u)}s.currentTarget=null,o=l}}}}function Tu(e,t){var n=t[Be];void 0===n&&(n=t[Be]=new Set);var r=e+"__bubble";n.has(r)||(Au(t,e,2,!1),n.add(r))}function Pu(e,t,n){var r=0;t&&(r|=4),Au(n,e,r,t)}var Iu="_reactListening"+Math.random().toString(36).slice(2);function Lu(e){if(!e[Iu]){e[Iu]=!0,$e.forEach((function(t){"selectionchange"!==t&&(Nu.has(t)||Pu(t,!1,e),Pu(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Iu]||(t[Iu]=!0,Pu("selectionchange",!1,t))}}function Au(e,t,n,r){switch(Xd(t)){case 2:var s=Wd;break;case 8:s=Gd;break;default:s=Kd}n=s.bind(null,t,n,e),s=void 0,!Ut||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Ou(e,t,n,r,s){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var a=r.stateNode.containerInfo;if(a===s||8===a.nodeType&&a.parentNode===s)break;if(4===i)for(i=r.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;i=i.return}for(;null!==a;){if(null===(i=Ke(a)))return;if(5===(l=i.tag)||6===l||26===l||27===l){r=o=i;continue e}a=a.parentNode}}r=r.return}Dt((function(){var r=o,s=It(n),i=[];e:{var a=xr.get(e);if(void 0!==a){var l=$t,c=e;switch(e){case"keypress":if(0===Ht(n))break e;case"keydown":case"keyup":l=mn;break;case"focusin":c="focus",l=sn;break;case"focusout":c="blur",l=sn;break;case"beforeblur":case"afterblur":l=sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=rn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=gn;break;case pr:case mr:case fr:l=on;break;case br:l=vn;break;case"scroll":case"scrollend":l=en;break;case"wheel":l=yn;break;case"copy":case"cut":case"paste":l=an;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=fn;break;case"toggle":case"beforetoggle":l=bn}var u=0!==(4&t),d=!u&&("scroll"===e||"scrollend"===e),h=u?null!==a?a+"Capture":null:a;u=[];for(var p,m=r;null!==m;){var f=m;if(p=f.stateNode,5!==(f=f.tag)&&26!==f&&27!==f||null===p||null===h||null!=(f=Mt(m,h))&&u.push(Ru(m,f,p)),d)break;m=m.return}0<u.length&&(a=new l(a,c,null,n,s),i.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Pt||!(c=n.relatedTarget||n.fromElement)||!Ke(c)&&!c[ze])&&(l||a)&&(a=s.window===s?s:(a=s.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?Ke(c):null)&&(d=M(c),u=c.tag,c!==d||5!==u&&27!==u&&6!==u)&&(c=null)):(l=null,c=r),l!==c)){if(u=nn,f="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(u=fn,f="onPointerLeave",h="onPointerEnter",m="pointer"),d=null==l?a:Qe(l),p=null==c?a:Qe(c),(a=new u(f,m+"leave",l,n,s)).target=d,a.relatedTarget=p,f=null,Ke(s)===r&&((u=new u(h,m+"enter",c,n,s)).target=p,u.relatedTarget=d,f=u),d=f,l&&c)e:{for(h=c,m=0,p=u=l;p;p=Mu(p))m++;for(p=0,f=h;f;f=Mu(f))p++;for(;0<m-p;)u=Mu(u),m--;for(;0<p-m;)h=Mu(h),p--;for(;m--;){if(u===h||null!==h&&u===h.alternate)break e;u=Mu(u),h=Mu(h)}u=null}else u=null;null!==l&&Uu(i,a,l,u,!1),null!==c&&null!==d&&Uu(i,d,c,u,!0)}if("select"===(l=(a=r?Qe(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Mn;else if(In(a))if(Un)g=Kn;else{g=Wn;var v=Hn}else!(l=a.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?r&&Ct(r.elementType)&&(g=Mn):g=Gn;switch(g&&(g=g(e,r))?Ln(i,g,n,s):(v&&v(e,a,r),"focusout"===e&&r&&"number"===a.type&&null!=r.memoizedProps.value&&yt(a,"number",a.value)),v=r?Qe(r):window,e){case"focusin":(In(v)||"true"===v.contentEditable)&&(rr=v,sr=r,or=null);break;case"focusout":or=sr=rr=null;break;case"mousedown":ir=!0;break;case"contextmenu":case"mouseup":case"dragend":ir=!1,ar(i,n,s);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":ar(i,n,s)}var y;if(wn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Tn?Nn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(kn&&"ko"!==n.locale&&(Tn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Tn&&(y=qt()):(Bt="value"in(zt=s)?zt.value:zt.textContent,Tn=!0)),0<(v=Du(r,b)).length&&(b=new ln(b,e,null,n,s),i.push({event:b,listeners:v}),y?b.data=y:null!==(y=jn(n))&&(b.data=y))),(y=En?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(Cn=!0,Sn);case"textInput":return(e=t.data)===Sn&&Cn?null:e;default:return null}}(e,n):function(e,t){if(Tn)return"compositionend"===e||!wn&&Nn(e,t)?(e=qt(),Vt=Bt=zt=null,Tn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(b=Du(r,"onBeforeInput")).length&&(v=new ln("onBeforeInput","beforeinput",null,n,s),i.push({event:v,listeners:b}),v.data=y)),function(e,t,n,r,s){if("submit"===t&&n&&n.stateNode===s){var o=_u((s[Fe]||null).action),i=r.submitter;i&&null!==(t=(t=i[Fe]||null)?_u(t.formAction):i.getAttribute("formAction"))&&(o=t,i=null);var a=new $t("action","action",null,r,s);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==mu){var e=i?Eu(s,i):new FormData(s);di(n,{pending:!0,data:e,method:s.method,action:o},null,e)}}else"function"===typeof o&&(a.preventDefault(),e=i?Eu(s,i):new FormData(s),di(n,{pending:!0,data:e,method:s.method,action:o},o,e))},currentTarget:s}]})}}(i,e,r,n,s)}ju(i,t)}))}function Ru(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Du(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,o=s.stateNode;5!==(s=s.tag)&&26!==s&&27!==s||null===o||(null!=(s=Mt(e,n))&&r.unshift(Ru(e,s,o)),null!=(s=Mt(e,t))&&r.push(Ru(e,s,o))),e=e.return}return r}function Mu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Uu(e,t,n,r,s){for(var o=t._reactName,i=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(a=a.tag,null!==l&&l===r)break;5!==a&&26!==a&&27!==a||null===c||(l=c,s?null!=(c=Mt(n,o))&&i.unshift(Ru(n,c,l)):s||null!=(c=Mt(n,o))&&i.push(Ru(n,c,l))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Fu=/\r\n?/g,zu=/\u0000|\uFFFD/g;function Bu(e){return("string"===typeof e?e:""+e).replace(Fu,"\n").replace(zu,"")}function Vu(e,t){return t=Bu(t),Bu(e)===t}function qu(){}function Hu(e,t,n,r,s,o){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||_t(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&_t(e,""+r);break;case"className":at(e,"class",r);break;case"tabIndex":at(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":at(e,n,r);break;case"style":St(e,r,o);break;case"data":if("object"!==t){at(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Tt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof o&&("formAction"===n?("input"!==t&&Hu(e,t,"name",s.name,s,null),Hu(e,t,"formEncType",s.formEncType,s,null),Hu(e,t,"formMethod",s.formMethod,s,null),Hu(e,t,"formTarget",s.formTarget,s,null)):(Hu(e,t,"encType",s.encType,s,null),Hu(e,t,"method",s.method,s,null),Hu(e,t,"target",s.target,s,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Tt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=qu);break;case"onScroll":null!=r&&Tu("scroll",e);break;case"onScrollEnd":null!=r&&Tu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(i(61));if(null!=(n=r.__html)){if(null!=s.children)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Tt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Tu("beforetoggle",e),Tu("toggle",e),it(e,"popover",r);break;case"xlinkActuate":lt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":lt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":lt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":lt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":lt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":lt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":lt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":lt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":lt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":it(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&it(e,n=Nt.get(n)||n,r)}}function Wu(e,t,n,r,s,o){switch(n){case"style":St(e,r,o);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(i(61));if(null!=(n=r.__html)){if(null!=s.children)throw Error(i(60));e.innerHTML=n}}break;case"children":"string"===typeof r?_t(e,r):("number"===typeof r||"bigint"===typeof r)&&_t(e,""+r);break;case"onScroll":null!=r&&Tu("scroll",e);break;case"onScrollEnd":null!=r&&Tu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=qu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ze.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),"function"===typeof(o=null!=(o=e[Fe]||null)?o[n]:null)&&e.removeEventListener(t,o,s),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):it(e,n,r):("function"!==typeof o&&null!==o&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,s)))}}function Gu(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Tu("error",e),Tu("load",e);var r,s=!1,o=!1;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(null!=a)switch(r){case"src":s=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Hu(e,t,r,a,n,null)}}return o&&Hu(e,t,"srcSet",n.srcSet,n,null),void(s&&Hu(e,t,"src",n.src,n,null));case"input":Tu("invalid",e);var l=r=a=o=null,c=null,u=null;for(s in n)if(n.hasOwnProperty(s)){var d=n[s];if(null!=d)switch(s){case"name":o=d;break;case"type":a=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(i(137,t));break;default:Hu(e,t,s,d,n,null)}}return vt(e,r,l,c,u,a,o,!1),void dt(e);case"select":for(o in Tu("invalid",e),s=a=r=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":r=l;break;case"defaultValue":a=l;break;case"multiple":s=l;default:Hu(e,t,o,l,n,null)}return t=r,n=a,e.multiple=!!s,void(null!=t?bt(e,!!s,t,!1):null!=n&&bt(e,!!s,n,!0));case"textarea":for(a in Tu("invalid",e),r=o=s=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":s=l;break;case"defaultValue":o=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(i(91));break;default:Hu(e,t,a,l,n,null)}return wt(e,s,o,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(s=n[c]))if("selected"===c)e.selected=s&&"function"!==typeof s&&"symbol"!==typeof s;else Hu(e,t,c,s,n,null);return;case"dialog":Tu("cancel",e),Tu("close",e);break;case"iframe":case"object":Tu("load",e);break;case"video":case"audio":for(s=0;s<Cu.length;s++)Tu(Cu[s],e);break;case"image":Tu("error",e),Tu("load",e);break;case"details":Tu("toggle",e);break;case"embed":case"source":case"link":Tu("error",e),Tu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(s=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Hu(e,t,u,s,n,null)}return;default:if(Ct(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(s=n[d])&&Wu(e,t,d,s,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(s=n[l])&&Hu(e,t,l,s,n,null))}var Ku=null,Yu=null;function Qu(e){return 9===e.nodeType?e:e.ownerDocument}function Ju(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xu(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function $u(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Zu=null;var ed="function"===typeof setTimeout?setTimeout:void 0,td="function"===typeof clearTimeout?clearTimeout:void 0,nd="function"===typeof Promise?Promise:void 0,rd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof nd?function(e){return nd.resolve(null).then(e).catch(sd)}:ed;function sd(e){setTimeout((function(){throw e}))}function od(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===r)return e.removeChild(s),void fh(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=s}while(n);fh(t)}function id(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":id(n),Ge(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function ad(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}function ld(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function cd(e,t,n){switch(t=Qu(n),e){case"html":if(!(e=t.documentElement))throw Error(i(452));return e;case"head":if(!(e=t.head))throw Error(i(453));return e;case"body":if(!(e=t.body))throw Error(i(454));return e;default:throw Error(i(451))}}var ud=new Map,dd=new Set;function hd(e){return"function"===typeof e.getRootNode?e.getRootNode():e.ownerDocument}var pd=V.d;V.d={f:function(){var e=pd.f(),t=Uc();return e||t},r:function(e){var t=Ye(e);null!==t&&5===t.tag&&"form"===t.type?pi(t):pd.r(e)},D:function(e){pd.D(e),fd("dns-prefetch",e,null)},C:function(e,t){pd.C(e,t),fd("preconnect",e,t)},L:function(e,t,n){pd.L(e,t,n);var r=md;if(r&&e&&t){var s='link[rel="preload"][as="'+ft(t)+'"]';"image"===t&&n&&n.imageSrcSet?(s+='[imagesrcset="'+ft(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(s+='[imagesizes="'+ft(n.imageSizes)+'"]')):s+='[href="'+ft(e)+'"]';var o=s;switch(t){case"style":o=vd(e);break;case"script":o=xd(e)}ud.has(o)||(e=I({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),ud.set(o,e),null!==r.querySelector(s)||"style"===t&&r.querySelector(yd(o))||"script"===t&&r.querySelector(wd(o))||(Gu(t=r.createElement("link"),"link",e),Xe(t),r.head.appendChild(t)))}},m:function(e,t){pd.m(e,t);var n=md;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",s='link[rel="modulepreload"][as="'+ft(r)+'"][href="'+ft(e)+'"]',o=s;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=xd(e)}if(!ud.has(o)&&(e=I({rel:"modulepreload",href:e},t),ud.set(o,e),null===n.querySelector(s))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(wd(o)))return}Gu(r=n.createElement("link"),"link",e),Xe(r),n.head.appendChild(r)}}},X:function(e,t){pd.X(e,t);var n=md;if(n&&e){var r=Je(n).hoistableScripts,s=xd(e),o=r.get(s);o||((o=n.querySelector(wd(s)))||(e=I({src:e,async:!0},t),(t=ud.get(s))&&Sd(e,t),Xe(o=n.createElement("script")),Gu(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(s,o))}},S:function(e,t,n){pd.S(e,t,n);var r=md;if(r&&e){var s=Je(r).hoistableStyles,o=vd(e);t=t||"default";var i=s.get(o);if(!i){var a={loading:0,preload:null};if(i=r.querySelector(yd(o)))a.loading=5;else{e=I({rel:"stylesheet",href:e,"data-precedence":t},n),(n=ud.get(o))&&kd(e,n);var l=i=r.createElement("link");Xe(l),Gu(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){a.loading|=1})),l.addEventListener("error",(function(){a.loading|=2})),a.loading|=4,Ed(i,t,r)}i={type:"stylesheet",instance:i,count:1,state:a},s.set(o,i)}}},M:function(e,t){pd.M(e,t);var n=md;if(n&&e){var r=Je(n).hoistableScripts,s=xd(e),o=r.get(s);o||((o=n.querySelector(wd(s)))||(e=I({src:e,async:!0,type:"module"},t),(t=ud.get(s))&&Sd(e,t),Xe(o=n.createElement("script")),Gu(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(s,o))}}};var md="undefined"===typeof document?null:document;function fd(e,t,n){var r=md;if(r&&"string"===typeof t&&t){var s=ft(t);s='link[rel="'+e+'"][href="'+s+'"]',"string"===typeof n&&(s+='[crossorigin="'+n+'"]'),dd.has(s)||(dd.add(s),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(s)&&(Gu(t=r.createElement("link"),"link",e),Xe(t),r.head.appendChild(t)))}}function gd(e,t,n,r){var s,o,a,l,c=(c=X.current)?hd(c):null;if(!c)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=vd(n.href),(r=(n=Je(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=vd(n.href);var u=Je(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(yd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),ud.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ud.set(e,n),u||(s=c,o=e,a=n,l=d.state,s.querySelector('link[rel="preload"][as="style"]['+o+"]")?l.loading=1:(o=s.createElement("link"),l.preload=o,o.addEventListener("load",(function(){return l.loading|=1})),o.addEventListener("error",(function(){return l.loading|=2})),Gu(o,"link",a),Xe(o),s.head.appendChild(o))))),t&&null===r)throw Error(i(528,""));return d}if(t&&null!==r)throw Error(i(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=xd(n),(r=(n=Je(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function vd(e){return'href="'+ft(e)+'"'}function yd(e){return'link[rel="stylesheet"]['+e+"]"}function bd(e){return I({},e,{"data-precedence":e.precedence,precedence:null})}function xd(e){return'[src="'+ft(e)+'"]'}function wd(e){return"script[async]"+e}function _d(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+ft(n.href)+'"]');if(r)return t.instance=r,Xe(r),r;var s=I({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Xe(r=(e.ownerDocument||e).createElement("style")),Gu(r,"style",s),Ed(r,n.precedence,e),t.instance=r;case"stylesheet":s=vd(n.href);var o=e.querySelector(yd(s));if(o)return t.state.loading|=4,t.instance=o,Xe(o),o;r=bd(n),(s=ud.get(s))&&kd(r,s),Xe(o=(e.ownerDocument||e).createElement("link"));var a=o;return a._p=new Promise((function(e,t){a.onload=e,a.onerror=t})),Gu(o,"link",r),t.state.loading|=4,Ed(o,n.precedence,e),t.instance=o;case"script":return o=xd(n.src),(s=e.querySelector(wd(o)))?(t.instance=s,Xe(s),s):(r=n,(s=ud.get(o))&&Sd(r=I({},n),s),Xe(s=(e=e.ownerDocument||e).createElement("script")),Gu(s,"link",r),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(i(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Ed(r,n.precedence,e));return t.instance}function Ed(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=r.length?r[r.length-1]:null,o=s,i=0;i<r.length;i++){var a=r[i];if(a.dataset.precedence===t)o=a;else if(o!==s)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function kd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Sd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Cd=null;function Nd(e,t,n){if(null===Cd){var r=new Map,s=Cd=new Map;s.set(n,r)}else(r=(s=Cd).get(n))||(r=new Map,s.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var o=n[s];if(!(o[We]||o[Ue]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var i=o.getAttribute(t)||"";i=e+i;var a=r.get(i);a?a.push(o):r.set(i,[o])}}return r}function jd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Td(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Pd=null;function Id(){}function Ld(){if(this.count--,0===this.count)if(this.stylesheets)Od(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Ad=null;function Od(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Ad=new Map,t.forEach(Rd,e),Ad=null,Ld.call(e))}function Rd(e,t){if(!(4&t.state.loading)){var n=Ad.get(e);if(n)var r=n.get(null);else{n=new Map,Ad.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<s.length;o++){var i=s[o];"LINK"!==i.nodeName&&"not all"===i.getAttribute("media")||(n.set(i.dataset.precedence,i),r=i)}r&&n.set(null,r)}i=(s=t.instance).getAttribute("data-precedence"),(o=n.get(i)||r)===r&&n.set(null,s),n.set(i,s),this.count++,r=Ld.bind(this),s.addEventListener("load",r),s.addEventListener("error",r),o?o.parentNode.insertBefore(s,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(s,e.firstChild),t.state.loading|=4}}var Dd={$$typeof:g,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function Md(e,t,n,r,s,o,i,a){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ie(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ie(0),this.hiddenUpdates=Ie(null),this.identifierPrefix=r,this.onUncaughtError=s,this.onCaughtError=o,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=a,this.incompleteTransitions=new Map}function Ud(e,t,n,r,s,o,i,a,l,c,u,d){return e=new Md(e,t,n,i,a,l,c,d),t=1,!0===o&&(t|=24),o=Rl(3,null,null,t),e.current=o,o.stateNode=e,(t=zs()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},Ta(o),e}function Fd(e){return e?e=Lr:Lr}function zd(e,t,n,r,s,o){s=Fd(s),null===r.context?r.context=s:r.pendingContext=s,(r=Ia(t)).payload={element:n},null!==(o=void 0===o?null:o)&&(r.callback=o),null!==(n=La(e,r,t))&&(Lc(n,0,t),Aa(n,e,t))}function Bd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Vd(e,t){Bd(e,t),(e=e.alternate)&&Bd(e,t)}function qd(e){if(13===e.tag){var t=Tr(e,67108864);null!==t&&Lc(t,0,67108864),Vd(e,67108864)}}var Hd=!0;function Wd(e,t,n,r){var s=P.T;P.T=null;var o=V.p;try{V.p=2,Kd(e,t,n,r)}finally{V.p=o,P.T=s}}function Gd(e,t,n,r){var s=P.T;P.T=null;var o=V.p;try{V.p=8,Kd(e,t,n,r)}finally{V.p=o,P.T=s}}function Kd(e,t,n,r){if(Hd){var s=Yd(r);if(null===s)Ou(e,t,r,Qd,n),ih(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return Zd=ah(Zd,e,t,n,r,s),!0;case"dragenter":return eh=ah(eh,e,t,n,r,s),!0;case"mouseover":return th=ah(th,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return nh.set(o,ah(nh.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,rh.set(o,ah(rh.get(o)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(ih(e,r),4&t&&-1<oh.indexOf(e)){for(;null!==s;){var o=Ye(s);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var i=Se(o.pendingLanes);if(0!==i){var a=o;for(a.pendingLanes|=2,a.entangledLanes|=2;i;){var l=1<<31-xe(i);a.entanglements[1]|=l,i&=~l}fu(o),0===(6&ec)&&(xc=le()+500,gu(0,!1))}}break;case 13:null!==(a=Tr(o,2))&&Lc(a,0,2),Uc(),Vd(o,2)}if(null===(o=Yd(r))&&Ou(e,t,r,Qd,n),o===s)break;s=o}null!==s&&r.stopPropagation()}else Ou(e,t,r,null,n)}}function Yd(e){return Jd(e=It(e))}var Qd=null;function Jd(e){if(Qd=null,null!==(e=Ke(e))){var t=M(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=U(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Qd=e,null}function Xd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case he:case pe:return 32;case me:return 268435456;default:return 32}default:return 32}}var $d=!1,Zd=null,eh=null,th=null,nh=new Map,rh=new Map,sh=[],oh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ih(e,t){switch(e){case"focusin":case"focusout":Zd=null;break;case"dragenter":case"dragleave":eh=null;break;case"mouseover":case"mouseout":th=null;break;case"pointerover":case"pointerout":nh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rh.delete(t.pointerId)}}function ah(e,t,n,r,s,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},null!==t&&(null!==(t=Ye(t))&&qd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function lh(e){var t=Ke(e.target);if(null!==t){var n=M(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=U(n)))return e.blockedOn=t,void function(e,t){var n=V.p;try{return V.p=e,t()}finally{V.p=n}}(e.priority,(function(){if(13===n.tag){var e=Pc(),t=Tr(n,e);null!==t&&Lc(t,0,e),Vd(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function ch(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yd(e.nativeEvent);if(null!==n)return null!==(t=Ye(n))&&qd(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Pt=r,n.target.dispatchEvent(r),Pt=null,t.shift()}return!0}function uh(e,t,n){ch(e)&&n.delete(t)}function dh(){$d=!1,null!==Zd&&ch(Zd)&&(Zd=null),null!==eh&&ch(eh)&&(eh=null),null!==th&&ch(th)&&(th=null),nh.forEach(uh),rh.forEach(uh)}function hh(e,t){e.blockedOn===t&&(e.blockedOn=null,$d||($d=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,dh)))}var ph=null;function mh(e){ph!==e&&(ph=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){ph===e&&(ph=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],s=e[t+2];if("function"!==typeof r){if(null===Jd(r||n))continue;break}var o=Ye(n);null!==o&&(e.splice(t,3),t-=3,di(o,{pending:!0,data:s,method:n.method,action:r},r,s))}})))}function fh(e){function t(t){return hh(t,e)}null!==Zd&&hh(Zd,e),null!==eh&&hh(eh,e),null!==th&&hh(th,e),nh.forEach(t),rh.forEach(t);for(var n=0;n<sh.length;n++){var r=sh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<sh.length&&null===(n=sh[0]).blockedOn;)lh(n),null===n.blockedOn&&sh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var s=n[r],o=n[r+1],i=s[Fe]||null;if("function"===typeof o)i||mh(n);else if(i){var a=null;if(o&&o.hasAttribute("formAction")){if(s=o,i=o[Fe]||null)a=i.formAction;else if(null!==Jd(s))continue}else a=i.action;"function"===typeof a?n[r+1]=a:(n.splice(r,3),r-=3),mh(n)}}}function gh(e){this._internalRoot=e}function vh(e){this._internalRoot=e}vh.prototype.render=gh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));zd(t.current,Pc(),e,t,null,null)},vh.prototype.unmount=gh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;0===e.tag&&tu(),zd(e.current,2,null,e,null,null),Uc(),t[ze]=null}},vh.prototype.unstable_scheduleHydration=function(e){if(e){var t=De();e={blockedOn:null,target:e,priority:t};for(var n=0;n<sh.length&&0!==t&&t<sh[n].priority;n++);sh.splice(n,0,e),0===n&&lh(e)}};var yh=s.version;if("19.0.0"!==yh)throw Error(i(527,yh,"19.0.0"));V.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=M(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(null===s)break;var o=s.alternate;if(null===o){if(null!==(r=s.return)){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return F(s),e;if(o===r)return F(s),t;o=o.sibling}throw Error(i(188))}if(n.return!==r.return)n=s,r=o;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=o;break}if(l===r){a=!0,r=s,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=s;break}if(l===r){a=!0,r=o,n=s;break}l=l.sibling}if(!a)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?z(e):null)?null:e.stateNode};var bh={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:P,findFiberByHostInstance:Ke,reconcilerVersion:"19.0.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xh.isDisabled&&xh.supportsFiber)try{ve=xh.inject(bh),ye=xh}catch(_h){}}t.createRoot=function(e,t){if(!a(e))throw Error(i(299));var n=!1,r="",s=Ri,o=Di,l=Mi;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(s=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Ud(e,1,!1,null,0,n,r,s,o,l,0,null),e[ze]=t.current,Lu(8===e.nodeType?e.parentNode:e),new gh(t)},t.hydrateRoot=function(e,t,n){if(!a(e))throw Error(i(299));var r=!1,s="",o=Ri,l=Di,c=Mi,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Ud(e,1,!0,t,0,r,s,o,l,c,0,u)).context=Fd(null),n=t.current,(s=Ia(r=Pc())).callback=null,La(n,s,r),t.current.lanes=r,Le(t,r),fu(t),e[ze]=t.current,Lu(e),new vh(t)},t.version="19.0.0"},863:(e,t,n)=>{"use strict";var r=n(950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var i={d:{f:o,r:function(){throw Error(s(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},a=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(s(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=i.p;try{if(l.T=null,i.p=2,e)return e()}finally{l.T=t,i.p=n,i.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,i.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&i.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),s="string"===typeof t.integrity?t.integrity:void 0,o="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?i.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:s,fetchPriority:o}):"script"===n&&i.d.X(e,{crossOrigin:r,integrity:s,fetchPriority:o,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&i.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);i.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else i.d.m(e)},t.requestFormReset=function(e){i.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.0.0"},352:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(85)},119:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(863)},901:e=>{var t="undefined"!==typeof Element,n="function"===typeof Map,r="function"===typeof Set,s="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function o(e,i){if(e===i)return!0;if(e&&i&&"object"==typeof e&&"object"==typeof i){if(e.constructor!==i.constructor)return!1;var a,l,c,u;if(Array.isArray(e)){if((a=e.length)!=i.length)return!1;for(l=a;0!==l--;)if(!o(e[l],i[l]))return!1;return!0}if(n&&e instanceof Map&&i instanceof Map){if(e.size!==i.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!i.has(l.value[0]))return!1;for(u=e.entries();!(l=u.next()).done;)if(!o(l.value[1],i.get(l.value[0])))return!1;return!0}if(r&&e instanceof Set&&i instanceof Set){if(e.size!==i.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!i.has(l.value[0]))return!1;return!0}if(s&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(i)){if((a=e.length)!=i.length)return!1;for(l=a;0!==l--;)if(e[l]!==i[l])return!1;return!0}if(e.constructor===RegExp)return e.source===i.source&&e.flags===i.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"===typeof e.valueOf&&"function"===typeof i.valueOf)return e.valueOf()===i.valueOf();if(e.toString!==Object.prototype.toString&&"function"===typeof e.toString&&"function"===typeof i.toString)return e.toString()===i.toString();if((a=(c=Object.keys(e)).length)!==Object.keys(i).length)return!1;for(l=a;0!==l--;)if(!Object.prototype.hasOwnProperty.call(i,c[l]))return!1;if(t&&e instanceof Element)return!1;for(l=a;0!==l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!e.$$typeof)&&!o(e[c[l]],i[c[l]]))return!1;return!0}return e!==e&&i!==i}e.exports=function(e,t){try{return o(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},876:(e,t,n)=>{"use strict";var r,s=n(950),o=(r=s)&&"object"===typeof r&&"default"in r?r.default:r;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=!("undefined"===typeof window||!window.document||!window.document.createElement);e.exports=function(e,t,n){if("function"!==typeof e)throw new Error("Expected reducePropsToState to be a function.");if("function"!==typeof t)throw new Error("Expected handleStateChangeOnClient to be a function.");if("undefined"!==typeof n&&"function"!==typeof n)throw new Error("Expected mapStateOnServer to either be undefined or a function.");return function(r){if("function"!==typeof r)throw new Error("Expected WrappedComponent to be a React component.");var l,c=[];function u(){l=e(c.map((function(e){return e.props}))),d.canUseDOM?t(l):n&&(l=n(l))}var d=function(e){var t,n;function s(){return e.apply(this,arguments)||this}n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,s.peek=function(){return l},s.rewind=function(){if(s.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var e=l;return l=void 0,c=[],e};var i=s.prototype;return i.UNSAFE_componentWillMount=function(){c.push(this),u()},i.componentDidUpdate=function(){u()},i.componentWillUnmount=function(){var e=c.indexOf(this);c.splice(e,1),u()},i.render=function(){return o.createElement(r,this.props)},s}(s.PureComponent);return i(d,"displayName","SideEffect("+function(e){return e.displayName||e.name||"Component"}(r)+")"),i(d,"canUseDOM",a),d}}},916:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function s(e,t,r){var s=null;if(void 0!==r&&(s=""+r),void 0!==t.key&&(s=""+t.key),"key"in t)for(var o in r={},t)"key"!==o&&(r[o]=t[o]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:s,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=s,t.jsxs=s},983:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var x=b.prototype=new y;x.constructor=b,f(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray,_={H:null,A:null,T:null,S:null},E=Object.prototype.hasOwnProperty;function k(e,t,r,s,o,i){return r=i.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:i}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function j(){}function T(e,t,s,o,i){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(a){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return T((u=e._init)(e._payload),t,s,o,i)}}if(u)return i=i(e),u=""===o?"."+N(e,0):o,w(i)?(s="",null!=u&&(s=u.replace(C,"$&/")+"/"),T(i,t,s,"",(function(e){return e}))):null!=i&&(S(i)&&(l=i,c=s+(null==i.key||e&&e.key===i.key?"":(""+i.key).replace(C,"$&/")+"/")+u,i=k(l.type,c,void 0,0,0,l.props)),t.push(i)),1;u=0;var d,m=""===o?".":o+":";if(w(e))for(var f=0;f<e.length;f++)u+=T(o=e[f],t,s,a=m+N(o,f),i);else if("function"===typeof(f=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=p&&d[p]||d["@@iterator"])?d:null))for(e=f.call(e),f=0;!(o=e.next()).done;)u+=T(o=o.value,t,s,a=m+N(o,f++),i);else if("object"===a){if("function"===typeof e.then)return T(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(j,j):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,s,o,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function P(e,t,n){if(null==e)return e;var r=[],s=0;return T(e,r,"","",(function(e){return t.call(n,e,s++)})),r}function I(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function A(){}t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=s,t.Profiler=i,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,t.act=function(){throw Error("act(...) is not supported in production builds of React.")},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=f({},e.props),s=e.key;if(null!=t)for(o in void 0!==t.ref&&void 0,void 0!==t.key&&(s=""+t.key),t)!E.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(r[o]=t[o]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var i=Array(o),a=0;a<o;a++)i[a]=arguments[a+2];r.children=i}return k(e.type,s,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,n){var r,s={},o=null;if(null!=t)for(r in void 0!==t.key&&(o=""+t.key),t)E.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(s[r]=t[r]);var i=arguments.length-2;if(1===i)s.children=n;else if(1<i){for(var a=Array(i),l=0;l<i;l++)a[l]=arguments[l+2];s.children=a}if(e&&e.defaultProps)for(r in i=e.defaultProps)void 0===s[r]&&(s[r]=i[r]);return k(e,o,void 0,0,0,s)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=_.T,n={};_.T=n;try{var r=e(),s=_.S;null!==s&&s(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(A,L)}catch(o){L(o)}finally{_.T=t}},t.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},t.use=function(e){return _.H.use(e)},t.useActionState=function(e,t,n){return _.H.useActionState(e,t,n)},t.useCallback=function(e,t){return _.H.useCallback(e,t)},t.useContext=function(e){return _.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return _.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return _.H.useEffect(e,t)},t.useId=function(){return _.H.useId()},t.useImperativeHandle=function(e,t,n){return _.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return _.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return _.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return _.H.useMemo(e,t)},t.useOptimistic=function(e,t){return _.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return _.H.useReducer(e,t,n)},t.useRef=function(e){return _.H.useRef(e)},t.useState=function(e){return _.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return _.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return _.H.useTransition()},t.version="19.0.0"},950:(e,t,n)=>{"use strict";e.exports=n(983)},414:(e,t,n)=>{"use strict";e.exports=n(916)},487:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<o(s,t)))break e;e[r]=t,e[n]=s,n=r}}function r(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,i=s>>>1;r<i;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<s&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<s&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,p=3,m=!1,f=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)s(u);else{if(!(t.startTime<=e))break;s(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,x(e),!f)if(null!==r(c))f=!0,I();else{var t=r(u);null!==t&&L(w,t.startTime-e)}}var _,E=!1,k=-1,S=5,C=-1;function N(){return!(t.unstable_now()-C<S)}function j(){if(E){var e=t.unstable_now();C=e;var n=!0;try{e:{f=!1,g&&(g=!1,y(k),k=-1),m=!0;var o=p;try{t:{for(x(e),h=r(c);null!==h&&!(h.expirationTime>e&&N());){var i=h.callback;if("function"===typeof i){h.callback=null,p=h.priorityLevel;var a=i(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof a){h.callback=a,x(e),n=!0;break t}h===r(c)&&s(c),x(e)}else s(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&L(w,l.startTime-e),n=!1}}break e}finally{h=null,p=o,m=!1}n=void 0}}finally{n?_():E=!1}}}if("function"===typeof b)_=function(){b(j)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,P=T.port2;T.port1.onmessage=j,_=function(){P.postMessage(null)}}else _=function(){v(j,0)};function I(){E||(E=!0,_())}function L(e,n){k=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||m||(f=!0,I())},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,s,o){var i=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?i+o:i:o=i,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:s,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>i?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(y(k),k=-1):g=!0,L(w,o-i))):(e.sortIndex=a,n(c,e),f||m||(f=!0,I())),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},340:(e,t,n)=>{"use strict";e.exports=n(487)},403:e=>{e.exports=function(e,t,n,r){var s=n?n.call(r,e,t):void 0;if(void 0!==s)return!!s;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),i=Object.keys(t);if(o.length!==i.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),l=0;l<o.length;l++){var c=o[l];if(!a(c))return!1;var u=e[c],d=t[c];if(!1===(s=n?n.call(r,u,d,c):void 0)||void 0===s&&u!==d)return!1}return!0}},202:(e,t,n)=>{"use strict";n.d(t,{loadStripe:()=>v});var r,s="basil",o="https://js.stripe.com",i="".concat(o,"/").concat(s,"/stripe.js"),a=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,l=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,c="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",u=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(i).concat(t);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n},d=null,h=null,p=null,m=function(e){return null!==d?d:(d=new Promise((function(t,n){if("undefined"!==typeof window&&"undefined"!==typeof document)if(window.Stripe&&e&&console.warn(c),window.Stripe)t(window.Stripe);else try{var r=function(){for(var e,t=document.querySelectorAll('script[src^="'.concat(o,'"]')),n=0;n<t.length;n++){var r=t[n];if(e=r.src,a.test(e)||l.test(e))return r}return null}();if(r&&e)console.warn(c);else if(r){if(r&&null!==p&&null!==h){var s;r.removeEventListener("load",p),r.removeEventListener("error",h),null===(s=r.parentNode)||void 0===s||s.removeChild(r),r=u(e)}}else r=u(e);p=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}}(t,n),h=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}}(n),r.addEventListener("load",p),r.addEventListener("error",h)}catch(i){return void n(i)}else t(null)}))).catch((function(e){return d=null,Promise.reject(e)}))},f=!1,g=function(){return r||(r=m(null).catch((function(e){return r=null,Promise.reject(e)})))};Promise.resolve().then((function(){return g()})).catch((function(e){f||console.warn(e)}));var v=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];f=!0;var r=Date.now();return g().then((function(e){return function(e,t,n){if(null===e)return null;var r=t[0].match(/^pk_test/),o=function(e){return 3===e?"v3":e}(e.version),i=s;r&&o!==i&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("7.4.0"," expected Stripe.js@").concat(i,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var a=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"7.4.0",startTime:t})}(a,n),a}(e,t,r)}))}}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>Rs,hasStandardBrowserEnv:()=>Ms,hasStandardBrowserWebWorkerEnv:()=>Us,navigator:()=>Ds,origin:()=>Fs});var t=n(950),r=n(352);function s(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function a(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(146);const u=["sri"],d=["page"],h=["page","matches"],p=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],m=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],f=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var g="popstate";function v(){return k((function(e,t){let{pathname:n,search:r,hash:s}=e.location;return w("",{pathname:n,search:r,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:_(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function y(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function b(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function x(e,t){return{usr:e.state,key:e.key,idx:t}}function w(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return c(c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?E(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function _(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function E(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function k(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,a="POP",l=null,u=d();function d(){return(i.state||{idx:null}).idx}function h(){a="POP";let e=d(),t=null==e?null:e-u;u=e,l&&l({action:a,location:m.location,delta:t})}function p(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:_(e);return n=n.replace(/ $/,"%20"),y(t,"No window.location.(origin|href) available to create URL for href: ".concat(n)),new URL(n,t)}null==u&&(u=0,i.replaceState(c(c({},i.state),{},{idx:u}),""));let m={get action(){return a},get location(){return e(s,i)},listen(e){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(g,h),l=e,()=>{s.removeEventListener(g,h),l=null}},createHref:e=>t(s,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a="PUSH";let r=w(m.location,e,t);n&&n(r,e),u=d()+1;let c=x(r,u),h=m.createHref(r);try{i.pushState(c,"",h)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;s.location.assign(h)}o&&l&&l({action:a,location:m.location,delta:1})},replace:function(e,t){a="REPLACE";let r=w(m.location,e,t);n&&n(r,e),u=d();let s=x(r,u),c=m.createHref(r);i.replaceState(s,"",c),o&&l&&l({action:a,location:m.location,delta:0})},go:e=>i.go(e)};return m}new WeakMap;function S(e,t){return C(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function C(e,t,n,r){let s=B(("string"===typeof t?E(t):t).pathname||"/",n);if(null==s)return null;let o=N(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let i=null;for(let a=0;null==i&&a<o.length;++a){let e=z(s);i=M(o[a],e,r)}return i}function N(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=(e,s,o)=>{let i={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};i.relativePath.startsWith("/")&&(y(i.relativePath.startsWith(r),'Absolute route path "'.concat(i.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),i.relativePath=i.relativePath.slice(r.length));let a=G([r,i.relativePath]),l=n.concat(i);e.children&&e.children.length>0&&(y(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(a,'".')),N(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:D(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of j(e.path))s(e,t,r);else s(e,t)})),t}function j(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return s?[o,""]:[o];let i=j(r.join("/")),a=[];return a.push(...i.map((e=>""===e?o:[o,e].join("/")))),s&&a.push(...i),a.map((t=>e.startsWith("/")&&""===t?"/":t))}var T=/^:[\w-]+$/,P=3,I=2,L=1,A=10,O=-2,R=e=>"*"===e;function D(e,t){let n=e.split("/"),r=n.length;return n.some(R)&&(r+=O),t&&(r+=I),n.filter((e=>!R(e))).reduce(((e,t)=>e+(T.test(t)?P:""===t?L:A)),r)}function M(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,s={},o="/",i=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===o?t:t.slice(o.length)||"/",u=U({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=U({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(s,u.params),i.push({params:s,pathname:G([o,u.pathname]),pathnameBase:K(G([o,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(o=G([o,u.pathnameBase]))}return i}function U(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=F(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:s}=t;if("*"===r){let e=a[n]||"";i=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=s&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:o,pathnameBase:i,pattern:e}}function F(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];b("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));return e.endsWith("*")?(r.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function z(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return b(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function B(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function V(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function q(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function H(e){let t=q(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function W(e,t,n){let r,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=E(e):(r=c({},e),y(!r.pathname||!r.pathname.includes("?"),V("?","pathname","search",r)),y(!r.pathname||!r.pathname.includes("#"),V("#","pathname","hash",r)),y(!r.search||!r.search.includes("#"),V("#","search","hash",r)));let o,i=""===e||""===r.pathname,a=i?"/":r.pathname;if(null==a)o=n;else{let e=t.length-1;if(!s&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:s=""}="string"===typeof e?E(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:Y(r),hash:Q(s)}}(r,o),u=a&&"/"!==a&&a.endsWith("/"),d=(i||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!d||(l.pathname+="/"),l}var G=e=>e.join("/").replace(/\/\/+/g,"/"),K=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Y=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Q=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function J(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var X=["POST","PUT","PATCH","DELETE"],$=(new Set(X),["GET",...X]);new Set($),Symbol("ResetLoaderData");var Z=t.createContext(null);Z.displayName="DataRouter";var ee=t.createContext(null);ee.displayName="DataRouterState";var te=t.createContext({isTransitioning:!1});te.displayName="ViewTransition";var ne=t.createContext(new Map);ne.displayName="Fetchers";var re=t.createContext(null);re.displayName="Await";var se=t.createContext(null);se.displayName="Navigation";var oe=t.createContext(null);oe.displayName="Location";var ie=t.createContext({outlet:null,matches:[],isDataRoute:!1});ie.displayName="Route";var ae=t.createContext(null);ae.displayName="RouteError";function le(){return null!=t.useContext(oe)}function ce(){return y(le(),"useLocation() may be used only in the context of a <Router> component."),t.useContext(oe).location}var ue="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function de(e){t.useContext(se).static||t.useLayoutEffect(e)}function he(){let{isDataRoute:e}=t.useContext(ie);return e?function(){let{router:e}=we("useNavigate"),n=Ee("useNavigate"),r=t.useRef(!1);de((()=>{r.current=!0}));let s=t.useCallback((async function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(r.current,ue),r.current&&("number"===typeof t?e.navigate(t):await e.navigate(t,c({fromRouteId:n},s)))}),[e,n]);return s}():function(){y(le(),"useNavigate() may be used only in the context of a <Router> component.");let e=t.useContext(Z),{basename:n,navigator:r}=t.useContext(se),{matches:s}=t.useContext(ie),{pathname:o}=ce(),i=JSON.stringify(H(s)),a=t.useRef(!1);de((()=>{a.current=!0}));let l=t.useCallback((function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(b(a.current,ue),!a.current)return;if("number"===typeof t)return void r.go(t);let l=W(t,JSON.parse(i),o,"path"===s.relative);null==e&&"/"!==n&&(l.pathname="/"===l.pathname?n:G([n,l.pathname])),(s.replace?r.replace:r.push)(l,s.state,s)}),[n,r,i,o,e]);return l}()}t.createContext(null);function pe(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=t.useContext(ie),{pathname:s}=ce(),o=JSON.stringify(H(r));return t.useMemo((()=>W(e,JSON.parse(o),s,"path"===n)),[e,o,s,n])}function me(e,n,r,s){y(le(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:i}=t.useContext(se),{matches:a}=t.useContext(ie),l=a[a.length-1],u=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",p=l&&l.route;{let e=p&&p.path||"";Ce(d,!p||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(d,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let m,f=ce();if(n){var g;let e="string"===typeof n?E(n):n;y("/"===h||(null===(g=e.pathname)||void 0===g?void 0:g.startsWith(h)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(h,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),m=e}else m=f;let v=m.pathname||"/",x=v;if("/"!==h){let e=h.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=!i&&r&&r.matches&&r.matches.length>0?r.matches:S(e,{pathname:x});b(p||null!=w,'No routes matched location "'.concat(m.pathname).concat(m.search).concat(m.hash,'" ')),b(null==w||void 0!==w[w.length-1].route.element||void 0!==w[w.length-1].route.Component||void 0!==w[w.length-1].route.lazy,'Matched leaf route at location "'.concat(m.pathname).concat(m.search).concat(m.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let _=be(w&&w.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:G([h,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:G([h,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,r,s);return n&&_?t.createElement(oe.Provider,{value:{location:c({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:"POP"}},_):_}function fe(){let e=ke(),n=J(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},i={padding:"2px 4px",backgroundColor:s},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=t.createElement(t.Fragment,null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",t.createElement("code",{style:i},"ErrorBoundary")," or"," ",t.createElement("code",{style:i},"errorElement")," prop on your route.")),t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:o},r):null,a)}var ge=t.createElement(fe,null),ve=class extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(ie.Provider,{value:this.props.routeContext},t.createElement(ae.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ye(e){let{routeContext:n,match:r,children:s}=e,o=t.useContext(Z);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(ie.Provider,{value:n},s)}function be(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!r)return null;if(r.errors)e=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;e=r.matches}}let s=e,o=null===r||void 0===r?void 0:r.errors;if(null!=o){let e=s.findIndex((e=>e.route.id&&void 0!==(null===o||void 0===o?void 0:o[e.route.id])));y(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(o).join(","))),s=s.slice(0,Math.min(s.length,e+1))}let i=!1,a=-1;if(r)for(let t=0;t<s.length;t++){let e=s[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(a=t),e.route.id){let{loaderData:t,errors:n}=r,o=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!n||void 0===n[e.route.id]);if(e.route.lazy||o){i=!0,s=a>=0?s.slice(0,a+1):[s[0]];break}}}return s.reduceRight(((e,l,c)=>{let u,d=!1,h=null,p=null;r&&(u=o&&l.route.id?o[l.route.id]:void 0,h=l.route.errorElement||ge,i&&(a<0&&0===c?(Ce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,p=null):a===c&&(d=!0,p=l.route.hydrateFallbackElement||null)));let m=n.concat(s.slice(0,c+1)),f=()=>{let n;return n=u?h:d?p:l.route.Component?t.createElement(l.route.Component,null):l.route.element?l.route.element:e,t.createElement(ye,{match:l,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:n})};return r&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?t.createElement(ve,{location:r.location,revalidation:r.revalidation,component:h,error:u,children:f(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):f()}),null)}function xe(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function we(e){let n=t.useContext(Z);return y(n,xe(e)),n}function _e(e){let n=t.useContext(ee);return y(n,xe(e)),n}function Ee(e){let n=function(e){let n=t.useContext(ie);return y(n,xe(e)),n}(e),r=n.matches[n.matches.length-1];return y(r.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),r.route.id}function ke(){var e;let n=t.useContext(ae),r=_e("useRouteError"),s=Ee("useRouteError");return void 0!==n?n:null===(e=r.errors)||void 0===e?void 0:e[s]}var Se={};function Ce(e,t,n){t||Se[e]||(Se[e]=!0,b(!1,n))}t.memo((function(e){let{routes:t,future:n,state:r}=e;return me(t,void 0,r,n)}));function Ne(e){y(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function je(e){let{basename:n="/",children:r=null,location:s,navigationType:o="POP",navigator:i,static:a=!1}=e;y(!le(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=t.useMemo((()=>({basename:l,navigator:i,static:a,future:{}})),[l,i,a]);"string"===typeof s&&(s=E(s));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:m="default"}=s,f=t.useMemo((()=>{let e=B(u,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:p,key:m},navigationType:o}}),[l,u,d,h,p,m,o]);return b(null!=f,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(u).concat(d).concat(h,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==f?null:t.createElement(se.Provider,{value:c},t.createElement(oe.Provider,{children:r,value:f}))}function Te(e){let{children:t,location:n}=e;return me(Pe(t),n)}t.Component;function Pe(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return t.Children.forEach(e,((e,s)=>{if(!t.isValidElement(e))return;let o=[...n,s];if(e.type===t.Fragment)return void r.push.apply(r,Pe(e.props.children,o));y(e.type===Ne,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),y(!e.props.index||!e.props.children,"An index route cannot have child routes.");let i={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=Pe(e.props.children,o)),r.push(i)})),r}var Ie="get",Le="application/x-www-form-urlencoded";function Ae(e){return null!=e&&"string"===typeof e.tagName}function Oe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map((e=>[n,e])):[[n,r]])}),[]))}var Re=null;var De=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Me(e){return null==e||De.has(e)?e:(b(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Le,'"')),null)}function Ue(e,t){let n,r,s,o,i;if(Ae(a=e)&&"form"===a.tagName.toLowerCase()){let i=e.getAttribute("action");r=i?B(i,t):null,n=e.getAttribute("method")||Ie,s=Me(e.getAttribute("enctype"))||Le,o=new FormData(e)}else if(function(e){return Ae(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Ae(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let i=e.form;if(null==i)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=e.getAttribute("formaction")||i.getAttribute("action");if(r=a?B(a,t):null,n=e.getAttribute("formmethod")||i.getAttribute("method")||Ie,s=Me(e.getAttribute("formenctype"))||Me(i.getAttribute("enctype"))||Le,o=new FormData(i,e),!function(){if(null===Re)try{new FormData(document.createElement("form"),0),Re=!1}catch(e){Re=!0}return Re}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";o.append("".concat(e,"x"),"0"),o.append("".concat(e,"y"),"0")}else t&&o.append(t,r)}}else{if(Ae(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ie,r=null,s=Le,i=e}var a;return o&&"text/plain"===s&&(i=o,o=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:o,body:i}}function Fe(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function ze(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function Be(e){return null!=e&&"string"===typeof e.page}function Ve(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function qe(e,t,n,r,s,o){let i=(e,t)=>!n[t]||e.route.id!==n[t].route.id,a=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===o?t.filter(((e,t)=>i(e,t)||a(e,t))):"data"===o?t.filter(((t,o)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(i(t,o)||a(t,o))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function He(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map((e=>{let r=t.routes[e.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s})).flat(1),[...new Set(r)];var r}function We(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,s)=>{if(t&&!Be(s)&&"script"===s.as&&s.href&&r.has(s.href))return e;let o=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(s));return n.has(o)||(n.add(o),e.push({key:o,link:s})),e}),[])}function Ge(e){return{__html:e}}Symbol("SingleFetchRedirect");var Ke=new Set([100,101,204,205]);function Ye(e,t){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===B(n.pathname,t)?n.pathname="".concat(t.replace(/\/$/,""),"/_root.data"):n.pathname="".concat(n.pathname.replace(/\/$/,""),".data"),n}t.Component;function Qe(e){let{error:n,isOutsideRemixApp:r}=e;console.error(n);let s,o=t.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if(J(n))return t.createElement(Je,{title:"Unhandled Thrown Response!"},t.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),o);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return t.createElement(Je,{title:"Application Error!",isOutsideRemixApp:r},t.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),t.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},s.stack),o)}function Je(e){var n;let{title:r,renderScripts:s,isOutsideRemixApp:o,children:i}=e,{routeModules:a}=tt();return null!==a.root&&void 0!==n&&n.Layout&&!o?i:t.createElement("html",{lang:"en"},t.createElement("head",null,t.createElement("meta",{charSet:"utf-8"}),t.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),t.createElement("title",null,r)),t.createElement("body",null,t.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},i,s?t.createElement(lt,null):null)))}function Xe(e){return!0===e}function $e(){let e=t.useContext(Z);return Fe(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Ze(){let e=t.useContext(ee);return Fe(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var et=t.createContext(void 0);function tt(){let e=t.useContext(et);return Fe(e,"You must render this element inside a <HydratedRouter> element"),e}function nt(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function rt(e,t,n){if(n&&!at)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function st(e){let{page:n}=e,r=s(e,d),{router:o}=$e(),i=t.useMemo((()=>S(o.routes,n,o.basename)),[o.routes,n,o.basename]);return i?t.createElement(it,c({page:n,matches:i},r)):null}function ot(e){let{manifest:n,routeModules:r}=tt(),[s,o]=t.useState([]);return t.useEffect((()=>{let t=!1;return async function(e,t,n){return We((await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await ze(r,n);return e.links?e.links():[]}return[]})))).flat(1).filter(Ve).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?c(c({},e),{},{rel:"prefetch",as:"style"}):c(c({},e),{},{rel:"prefetch"}))))}(e,n,r).then((e=>{t||o(e)})),()=>{t=!0}}),[e,n,r]),s}function it(e){let{page:n,matches:r}=e,o=s(e,h),i=ce(),{manifest:a,routeModules:l}=tt(),{basename:u}=$e(),{loaderData:d,matches:p}=Ze(),m=t.useMemo((()=>qe(n,r,p,a,i,"data")),[n,r,p,a,i]),f=t.useMemo((()=>qe(n,r,p,a,i,"assets")),[n,r,p,a,i]),g=t.useMemo((()=>{if(n===i.pathname+i.search+i.hash)return[];let e=new Set,t=!1;if(r.forEach((n=>{var r;let s=a.routes[n.route.id];s&&s.hasLoader&&(!m.some((e=>e.route.id===n.route.id))&&n.route.id in d&&null!==(r=l[n.route.id])&&void 0!==r&&r.shouldRevalidate||s.hasClientLoader?t=!0:e.add(n.route.id))})),0===e.size)return[];let s=Ye(n,u);return t&&e.size>0&&s.searchParams.set("_routes",r.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[s.pathname+s.search]}),[u,d,i,a,m,r,n,l]),v=t.useMemo((()=>He(f,a)),[f,a]),y=ot(f);return t.createElement(t.Fragment,null,g.map((e=>t.createElement("link",c({key:e,rel:"prefetch",as:"fetch",href:e},o)))),v.map((e=>t.createElement("link",c({key:e,rel:"modulepreload",href:e},o)))),y.map((e=>{let{key:n,link:r}=e;return t.createElement("link",c({key:n},r))})))}et.displayName="FrameworkContext";var at=!1;function lt(e){let{manifest:n,serverHandoffString:r,isSpaMode:o,ssr:i,renderMeta:a}=tt(),{router:l,static:d,staticContext:h}=$e(),{matches:p}=Ze(),m=Xe(i);a&&(a.didRenderScripts=!0);let f=rt(p,null,o);t.useEffect((()=>{0}),[]);let g=t.useMemo((()=>{var o;let i=h?"window.__reactRouterContext = ".concat(r,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",a=d?"".concat(null!==n.hmr&&void 0!==o&&o.runtime?"import ".concat(JSON.stringify(n.hmr.runtime),";"):"").concat(m?"":"import ".concat(JSON.stringify(n.url)),";\n").concat(f.map(((e,t)=>{let r="route".concat(t),s=n.routes[e.route.id];Fe(s,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:o,clientLoaderModule:i,clientMiddlewareModule:a,hydrateFallbackModule:l,module:c}=s,u=[...o?[{module:o,varName:"".concat(r,"_clientAction")}]:[],...i?[{module:i,varName:"".concat(r,"_clientLoader")}]:[],...a?[{module:a,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===u.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[u.map((e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";'))).join("\n"),"const ".concat(r," = {").concat(u.map((e=>"...".concat(e.varName))).join(","),"};")].join("\n")})).join("\n"),"\n  ").concat(m?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=s(e,u),o=new Set(t.state.matches.map((e=>e.route.id))),i=t.state.location.pathname.split("/").filter(Boolean),a=["/"];for(i.pop();i.length>0;)a.push("/".concat(i.join("/"))),i.pop();a.forEach((e=>{let n=S(t.routes,e,t.basename);n&&n.forEach((e=>o.add(e.route.id)))}));let l=[...o].reduce(((e,t)=>Object.assign(e,{[t]:r.routes[t]})),{});return c(c({},r),{},{routes:l,sri:!!n||void 0})}(n,l),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(f.map(((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t))).join(","),"};\n\nimport(").concat(JSON.stringify(n.entry.module),");"):" ";return t.createElement(t.Fragment,null,t.createElement("script",c(c({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ge(i),type:void 0})),t.createElement("script",c(c({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ge(a),type:"module",async:!0})))}),[]),v=at?[]:(n.entry.imports.concat(He(f,n,{includeHydrateFallback:!0})),[...new Set(y)]);var y;let b="object"===typeof n.sri?n.sri:{};return at?null:t.createElement(t.Fragment,null,"object"===typeof n.sri?t.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:b})}}):null,m?null:t.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:e.crossOrigin,integrity:b[n.url],suppressHydrationWarning:!0}),t.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:e.crossOrigin,integrity:b[n.entry.module],suppressHydrationWarning:!0}),v.map((n=>t.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:e.crossOrigin,integrity:b[n],suppressHydrationWarning:!0}))),g)}function ct(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var ut="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{ut&&(window.__reactRouterVersion="7.5.1")}catch(Lj){}function dt(e){let{basename:n,children:r,window:s}=e,o=t.useRef();null==o.current&&(o.current=v({window:s,v5Compat:!0}));let i=o.current,[a,l]=t.useState({action:i.action,location:i.location}),c=t.useCallback((e=>{t.startTransition((()=>l(e)))}),[l]);return t.useLayoutEffect((()=>i.listen(c)),[i,c]),t.createElement(je,{basename:n,children:r,location:a.location,navigationType:a.action,navigator:i})}var ht=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pt=t.forwardRef((function(e,n){let r,{onClick:o,discover:i="render",prefetch:a="none",relative:l,reloadDocument:u,replace:d,state:h,target:m,to:f,preventScrollReset:g,viewTransition:v}=e,x=s(e,p),{basename:w}=t.useContext(se),E="string"===typeof f&&ht.test(f),k=!1;if("string"===typeof f&&E&&(r=f,ut))try{let e=new URL(window.location.href),t=f.startsWith("//")?new URL(e.protocol+f):new URL(f),n=B(t.pathname,w);t.origin===e.origin&&null!=n?f=n+t.search+t.hash:k=!0}catch(Lj){b(!1,'<Link to="'.concat(f,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let S=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};y(le(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=t.useContext(se),{hash:o,pathname:i,search:a}=pe(e,{relative:n}),l=i;return"/"!==r&&(l="/"===i?r:G([r,i])),s.createHref({pathname:l,search:a,hash:o})}(f,{relative:l}),[C,N,j]=function(e,n){let r=t.useContext(et),[s,o]=t.useState(!1),[i,a]=t.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=n,p=t.useRef(null);t.useEffect((()=>{if("render"===e&&a(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{a(e.isIntersecting)}))}),{threshold:.5});return p.current&&e.observe(p.current),()=>{e.disconnect()}}}),[e]),t.useEffect((()=>{if(s){let e=setTimeout((()=>{a(!0)}),100);return()=>{clearTimeout(e)}}}),[s]);let m=()=>{o(!0)},f=()=>{o(!1),a(!1)};return r?"intent"!==e?[i,p,{}]:[i,p,{onFocus:nt(l,m),onBlur:nt(c,f),onMouseEnter:nt(u,m),onMouseLeave:nt(d,f),onTouchStart:nt(h,m)}]:[!1,p,{}]}(a,x),T=function(e){let{target:n,replace:r,state:s,preventScrollReset:o,relative:i,viewTransition:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=he(),c=ce(),u=pe(e,{relative:i});return t.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:_(c)===_(u);l(e,{replace:n,state:s,preventScrollReset:o,relative:i,viewTransition:a})}}),[c,l,u,r,s,n,e,o,i,a])}(f,{replace:d,state:h,target:m,preventScrollReset:g,relative:l,viewTransition:v});let P=t.createElement("a",c(c(c({},x),j),{},{href:r||S,onClick:k||u?o:function(e){o&&o(e),e.defaultPrevented||T(e)},ref:ct(n,N),target:m,"data-discover":E||"render"!==i?void 0:"true"}));return C&&!E?t.createElement(t.Fragment,null,P,t.createElement(st,{page:S})):P}));pt.displayName="Link",t.forwardRef((function(e,n){let{"aria-current":r="page",caseSensitive:o=!1,className:i="",end:a=!1,style:l,to:u,viewTransition:d,children:h}=e,p=s(e,m),f=pe(u,{relative:p.relative}),g=ce(),v=t.useContext(ee),{navigator:b,basename:x}=t.useContext(se),w=null!=v&&function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.useContext(te);y(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=gt("useViewTransitionState"),o=pe(e,{relative:n.relative});if(!r.isTransitioning)return!1;let i=B(r.currentLocation.pathname,s)||r.currentLocation.pathname,a=B(r.nextLocation.pathname,s)||r.nextLocation.pathname;return null!=U(o.pathname,a)||null!=U(o.pathname,i)}(f)&&!0===d,_=b.encodeLocation?b.encodeLocation(f).pathname:f.pathname,E=g.pathname,k=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;o||(E=E.toLowerCase(),k=k?k.toLowerCase():null,_=_.toLowerCase()),k&&x&&(k=B(k,x)||k);const S="/"!==_&&_.endsWith("/")?_.length-1:_.length;let C,N=E===_||!a&&E.startsWith(_)&&"/"===E.charAt(S),j=null!=k&&(k===_||!a&&k.startsWith(_)&&"/"===k.charAt(_.length)),T={isActive:N,isPending:j,isTransitioning:w},P=N?r:void 0;C="function"===typeof i?i(T):[i,N?"active":null,j?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let I="function"===typeof l?l(T):l;return t.createElement(pt,c(c({},p),{},{"aria-current":P,className:C,ref:n,style:I,to:u,viewTransition:d}),"function"===typeof h?h(T):h)})).displayName="NavLink";var mt=t.forwardRef(((e,n)=>{let{discover:r="render",fetcherKey:o,navigate:i,reloadDocument:a,replace:l,state:u,method:d=Ie,action:h,onSubmit:p,relative:m,preventScrollReset:g,viewTransition:v}=e,b=s(e,f),x=xt(),w=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=t.useContext(se),s=t.useContext(ie);y(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),i=c({},pe(e||".",{relative:n})),a=ce();if(null==e){i.search=a.search;let e=new URLSearchParams(i.search),t=e.getAll("index");if(t.some((e=>""===e))){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();i.search=n?"?".concat(n):""}}e&&"."!==e||!o.route.index||(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(i.pathname="/"===i.pathname?r:G([r,i.pathname]));return _(i)}(h,{relative:m}),E="get"===d.toLowerCase()?"get":"post",k="string"===typeof h&&ht.test(h);return t.createElement("form",c(c({ref:n,method:E,action:w,onSubmit:a?p:e=>{if(p&&p(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||d;x(t||e.currentTarget,{fetcherKey:o,method:n,navigate:i,replace:l,state:u,relative:m,preventScrollReset:g,viewTransition:v})}},b),{},{"data-discover":k||"render"!==r?void 0:"true"}))}));function ft(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function gt(e){let n=t.useContext(Z);return y(n,ft(e)),n}function vt(e){b("undefined"!==typeof URLSearchParams,"You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let n=t.useRef(Oe(e)),r=t.useRef(!1),s=ce(),o=t.useMemo((()=>function(e,t){let n=Oe(e);return t&&t.forEach(((e,r)=>{n.has(r)||t.getAll(r).forEach((e=>{n.append(r,e)}))})),n}(s.search,r.current?null:n.current)),[s.search]),i=he(),a=t.useCallback(((e,t)=>{const n=Oe("function"===typeof e?e(o):e);r.current=!0,i("?"+n,t)}),[i,o]);return[o,a]}mt.displayName="Form";var yt=0,bt=()=>"__".concat(String(++yt),"__");function xt(){let{router:e}=gt("useSubmit"),{basename:n}=t.useContext(se),r=Ee("useRouteId");return t.useCallback((async function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:o,method:i,encType:a,formData:l,body:c}=Ue(t,n);if(!1===s.navigate){let t=s.fetcherKey||bt();await e.fetch(t,r,s.action||o,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||i,formEncType:s.encType||a,flushSync:s.flushSync})}else await e.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||i,formEncType:s.encType||a,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})}),[e,n,r])}new TextEncoder;var wt=n(901),_t=n.n(wt),Et=n(949),kt=n.n(Et),St=n(403),Ct=n.n(St);const Nt=["children"],jt=["children"];var Tt,Pt,It=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(It||{}),Lt={rel:["amphtml","canonical","alternate"]},At={type:["application/ld+json"]},Ot={charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]},Rt=Object.values(It),Dt={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Mt=Object.entries(Dt).reduce(((e,t)=>{let[n,r]=t;return e[r]=n,e}),{}),Ut="data-rh",Ft="defaultTitle",zt="defer",Bt="encodeSpecialCharacters",Vt="onChangeClientState",qt="titleTemplate",Ht="prioritizeSeoTags",Wt=(e,t)=>{for(let n=e.length-1;n>=0;n-=1){const r=e[n];if(Object.prototype.hasOwnProperty.call(r,t))return r[t]}return null},Gt=e=>{let t=Wt(e,"title");const n=Wt(e,qt);if(Array.isArray(t)&&(t=t.join("")),n&&t)return n.replace(/%s/g,(()=>t));const r=Wt(e,Ft);return t||r||void 0},Kt=e=>Wt(e,Vt)||(()=>{}),Yt=(e,t)=>t.filter((t=>"undefined"!==typeof t[e])).map((t=>t[e])).reduce(((e,t)=>c(c({},e),t)),{}),Qt=(e,t)=>t.filter((e=>"undefined"!==typeof e.base)).map((e=>e.base)).reverse().reduce(((t,n)=>{if(!t.length){const r=Object.keys(n);for(let s=0;s<r.length;s+=1){const o=r[s].toLowerCase();if(-1!==e.indexOf(o)&&n[o])return t.concat(n)}}return t}),[]),Jt=(e,t,n)=>{const r={};return n.filter((t=>{return!!Array.isArray(t[e])||("undefined"!==typeof t[e]&&(n="Helmet: ".concat(e,' should be of type "Array". Instead found type "').concat(typeof t[e],'"'),console&&"function"===typeof console.warn&&console.warn(n)),!1);var n})).map((t=>t[e])).reverse().reduce(((e,n)=>{const s={};n.filter((e=>{let n;const o=Object.keys(e);for(let r=0;r<o.length;r+=1){const s=o[r],i=s.toLowerCase();-1===t.indexOf(i)||"rel"===n&&"canonical"===e[n].toLowerCase()||"rel"===i&&"stylesheet"===e[i].toLowerCase()||(n=i),-1===t.indexOf(s)||"innerHTML"!==s&&"cssText"!==s&&"itemprop"!==s||(n=s)}if(!n||!e[n])return!1;const i=e[n].toLowerCase();return r[n]||(r[n]={}),s[n]||(s[n]={}),!r[n][i]&&(s[n][i]=!0,!0)})).reverse().forEach((t=>e.push(t)));const o=Object.keys(s);for(let t=0;t<o.length;t+=1){const e=o[t],n=c(c({},r[e]),s[e]);r[e]=n}return e}),[]).reverse()},Xt=(e,t)=>{if(Array.isArray(e)&&e.length)for(let n=0;n<e.length;n+=1){if(e[n][t])return!0}return!1},$t=e=>Array.isArray(e)?e.join(""):e,Zt=(e,t)=>Array.isArray(e)?e.reduce(((e,n)=>(((e,t)=>{const n=Object.keys(e);for(let r=0;r<n.length;r+=1)if(t[n[r]]&&t[n[r]].includes(e[n[r]]))return!0;return!1})(n,t)?e.priority.push(n):e.default.push(n),e)),{priority:[],default:[]}):{default:e,priority:[]},en=(e,t)=>c(c({},e),{},{[t]:void 0}),tn=["noscript","script","style"],nn=function(e){return!1===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},rn=e=>Object.keys(e).reduce(((t,n)=>{const r="undefined"!==typeof e[n]?"".concat(n,'="').concat(e[n],'"'):"".concat(n);return t?"".concat(t," ").concat(r):r}),""),sn=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce(((t,n)=>(t[Dt[n]||n]=e[n],t)),t)},on=(e,n)=>n.map(((n,r)=>{const s={key:r,[Ut]:!0};return Object.keys(n).forEach((e=>{const t=Dt[e]||e;if("innerHTML"===t||"cssText"===t){const e=n.innerHTML||n.cssText;s.dangerouslySetInnerHTML={__html:e}}else s[t]=n[e]})),t.createElement(e,s)})),an=function(e,n){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];switch(e){case"title":return{toComponent:()=>((e,n,r)=>{const s=sn(r,{key:n,[Ut]:!0});return[t.createElement("title",s,n)]})(0,n.title,n.titleAttributes),toString:()=>((e,t,n,r)=>{const s=rn(n),o=$t(t);return s?"<".concat(e," ").concat(Ut,'="true" ').concat(s,">").concat(nn(o,r),"</").concat(e,">"):"<".concat(e," ").concat(Ut,'="true">').concat(nn(o,r),"</").concat(e,">")})(e,n.title,n.titleAttributes,r)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>sn(n),toString:()=>rn(n)};default:return{toComponent:()=>on(e,n),toString:()=>function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return t.reduce(((t,r)=>{const s=r,o=Object.keys(s).filter((e=>!("innerHTML"===e||"cssText"===e))).reduce(((e,t)=>{const r="undefined"===typeof s[t]?t:"".concat(t,'="').concat(nn(s[t],n),'"');return e?"".concat(e," ").concat(r):r}),""),i=s.innerHTML||s.cssText||"",a=-1===tn.indexOf(e);return"".concat(t,"<").concat(e," ").concat(Ut,'="true" ').concat(o).concat(a?"/>":">".concat(i,"</").concat(e,">"))}),"")}(e,n,r)}}},ln=e=>{const{baseTag:t,bodyAttributes:n,encode:r=!0,htmlAttributes:s,noscriptTags:o,styleTags:i,title:a="",titleAttributes:l,prioritizeSeoTags:c}=e;let{linkTags:u,metaTags:d,scriptTags:h}=e,p={toComponent:()=>{},toString:()=>""};return c&&({priorityMethods:p,linkTags:u,metaTags:d,scriptTags:h}=(e=>{let{metaTags:t,linkTags:n,scriptTags:r,encode:s}=e;const o=Zt(t,Ot),i=Zt(n,Lt),a=Zt(r,At);return{priorityMethods:{toComponent:()=>[...on("meta",o.priority),...on("link",i.priority),...on("script",a.priority)],toString:()=>"".concat(an("meta",o.priority,s)," ").concat(an("link",i.priority,s)," ").concat(an("script",a.priority,s))},metaTags:o.default,linkTags:i.default,scriptTags:a.default}})(e)),{priority:p,base:an("base",t,r),bodyAttributes:an("bodyAttributes",n,r),htmlAttributes:an("htmlAttributes",s,r),link:an("link",u,r),meta:an("meta",d,r),noscript:an("noscript",o,r),script:an("script",h,r),style:an("style",i,r),title:an("title",{title:a,titleAttributes:l},r)}},cn=[],un=!("undefined"===typeof window||!window.document||!window.document.createElement),dn=class{constructor(e,t){a(this,"instances",[]),a(this,"canUseDOM",un),a(this,"context",void 0),a(this,"value",{setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?cn:this.instances,add:e=>{(this.canUseDOM?cn:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?cn:this.instances).indexOf(e);(this.canUseDOM?cn:this.instances).splice(t,1)}}}),this.context=e,this.canUseDOM=t||!1,t||(e.helmet=ln({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},hn=t.createContext({}),pn=(Tt=class e extends t.Component{constructor(t){super(t),a(this,"helmetData",void 0),this.helmetData=new dn(this.props.context||{},e.canUseDOM)}render(){return t.createElement(hn.Provider,{value:this.helmetData.value},this.props.children)}},a(Tt,"canUseDOM",un),Tt),mn=(e,t)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll("".concat(e,"[").concat(Ut,"]")),s=[].slice.call(r),o=[];let i;return t&&t.length&&t.forEach((t=>{const n=document.createElement(e);for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))if("innerHTML"===e)n.innerHTML=t.innerHTML;else if("cssText"===e)n.styleSheet?n.styleSheet.cssText=t.cssText:n.appendChild(document.createTextNode(t.cssText));else{const r=e,s="undefined"===typeof t[r]?"":t[r];n.setAttribute(e,s)}n.setAttribute(Ut,"true"),s.some(((e,t)=>(i=t,n.isEqualNode(e))))?s.splice(i,1):o.push(n)})),s.forEach((e=>{var t;return null===(t=e.parentNode)||void 0===t?void 0:t.removeChild(e)})),o.forEach((e=>n.appendChild(e))),{oldTags:s,newTags:o}},fn=(e,t)=>{const n=document.getElementsByTagName(e)[0];if(!n)return;const r=n.getAttribute(Ut),s=r?r.split(","):[],o=[...s],i=Object.keys(t);for(const a of i){const e=t[a]||"";n.getAttribute(a)!==e&&n.setAttribute(a,e),-1===s.indexOf(a)&&s.push(a);const r=o.indexOf(a);-1!==r&&o.splice(r,1)}for(let a=o.length-1;a>=0;a-=1)n.removeAttribute(o[a]);s.length===o.length?n.removeAttribute(Ut):n.getAttribute(Ut)!==i.join(",")&&n.setAttribute(Ut,i.join(","))},gn=(e,t)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:s,linkTags:o,metaTags:i,noscriptTags:a,onChangeClientState:l,scriptTags:c,styleTags:u,title:d,titleAttributes:h}=e;fn("body",r),fn("html",s),((e,t)=>{"undefined"!==typeof e&&document.title!==e&&(document.title=$t(e)),fn("title",t)})(d,h);const p={baseTag:mn("base",n),linkTags:mn("link",o),metaTags:mn("meta",i),noscriptTags:mn("noscript",a),scriptTags:mn("script",c),styleTags:mn("style",u)},m={},f={};Object.keys(p).forEach((e=>{const{newTags:t,oldTags:n}=p[e];t.length&&(m[e]=t),n.length&&(f[e]=p[e].oldTags)})),t&&t(),l(e,m,f)},vn=null,yn=e=>{vn&&cancelAnimationFrame(vn),e.defer?vn=requestAnimationFrame((()=>{gn(e,(()=>{vn=null}))})):(gn(e),vn=null)},bn=class extends t.Component{constructor(){super(...arguments),a(this,"rendered",!1)}shouldComponentUpdate(e){return!Ct()(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let n=null;const r=(s=e.get().map((e=>{const t=c({},e.props);return delete t.context,t})),{baseTag:Qt(["href"],s),bodyAttributes:Yt("bodyAttributes",s),defer:Wt(s,zt),encode:Wt(s,Bt),htmlAttributes:Yt("htmlAttributes",s),linkTags:Jt("link",["rel","href"],s),metaTags:Jt("meta",["name","charset","http-equiv","property","itemprop"],s),noscriptTags:Jt("noscript",["innerHTML"],s),onChangeClientState:Kt(s),scriptTags:Jt("script",["src","innerHTML"],s),styleTags:Jt("style",["cssText"],s),title:Gt(s),titleAttributes:Yt("titleAttributes",s),prioritizeSeoTags:Xt(s,Ht)});var s;pn.canUseDOM?yn(r):ln&&(n=ln(r)),t(n)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},xn=(Pt=class extends t.Component{shouldComponentUpdate(e){return!_t()(en(this.props,"helmetData"),en(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error("<".concat(e.type," /> elements are self-closing and can not contain children. Refer to our API for more information."))}}flattenArrayTypeChildren(e,t,n,r){return c(c({},t),{},{[e.type]:[...t[e.type]||[],c(c({},n),this.mapNestedChildrenToProps(e,r))]})}mapObjectTypeChildren(e,t,n,r){switch(e.type){case"title":return c(c({},t),{},{[e.type]:r,titleAttributes:c({},n)});case"body":return c(c({},t),{},{bodyAttributes:c({},n)});case"html":return c(c({},t),{},{htmlAttributes:c({},n)});default:return c(c({},t),{},{[e.type]:c({},n)})}}mapArrayTypeChildrenToProps(e,t){let n=c({},t);return Object.keys(e).forEach((t=>{n=c(c({},n),{},{[t]:e[t]})})),n}warnOnInvalidChildren(e,t){return kt()(Rt.some((t=>e.type===t)),"function"===typeof e.type?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":"Only elements types ".concat(Rt.join(", ")," are allowed. Helmet does not support rendering <").concat(e.type,"> elements. Refer to our API for more information.")),kt()(!t||"string"===typeof t||Array.isArray(t)&&!t.some((e=>"string"!==typeof e)),"Helmet expects a string as a child of <".concat(e.type,">. Did you forget to wrap your children in braces? ( <").concat(e.type,">{``}</").concat(e.type,"> ) Refer to our API for more information.")),!0}mapChildrenToProps(e,n){let r={};return t.Children.forEach(e,(e=>{if(!e||!e.props)return;const t=e.props,{children:o}=t,i=s(t,Nt),a=Object.keys(i).reduce(((e,t)=>(e[Mt[t]||t]=i[t],e)),{});let{type:l}=e;switch("symbol"===typeof l?l=l.toString():this.warnOnInvalidChildren(e,o),l){case"Symbol(react.fragment)":n=this.mapChildrenToProps(o,n);break;case"link":case"meta":case"noscript":case"script":case"style":r=this.flattenArrayTypeChildren(e,r,a,o);break;default:n=this.mapObjectTypeChildren(e,n,a,o)}})),this.mapArrayTypeChildrenToProps(r,n)}render(){const e=this.props,{children:n}=e,r=s(e,jt);let o=c({},r),{helmetData:i}=r;if(n&&(o=this.mapChildrenToProps(n,o)),i&&!(i instanceof dn)){i=new dn(i.context,!0),delete o.helmetData}return i?t.createElement(bn,c(c({},o),{},{context:i.value})):t.createElement(hn.Consumer,null,(e=>t.createElement(bn,c(c({},o),{},{context:e}))))}},a(Pt,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),Pt);const wn={pt:{tab_overview:"Vis\xe3o Geral",tab_itinerary:"Itiner\xe1rio",tab_details:"Detalhes",tab_included:"Inclu\xeddo",tab_map:"Mapa",nav_home:"In\xedcio",nav_tours:"Tours",nav_about:"Sobre N\xf3s",nav_contact:"Contacto",nav_admin:"Admin",home_title:"9 Rocks Tours",home_subtitle:"Descubra Portugal de forma aut\xeantica",home_description:"Tours gastron\xf3micos e culturais \xfanicos pelos tesouros escondidos de Portugal",home_cta:"Explorar Tours",home_featured_tours:"Tours em Destaque",home_featured_tours_description:"Descubra experi\xeancias \xfanicas pelos tesouros escondidos de Portugal",why_choose_us_title:"Porqu\xea escolher a 9 Rocks Tours?",why_choose_us_subtitle:"A sua experi\xeancia em Portugal come\xe7a aqui",specialized_guides_title:"Guias Especializados",specialized_guides_description:"Guias locais experientes que conhecem cada segredo de Portugal",small_groups_title:"Grupos Pequenos",small_groups_description:"M\xe1ximo 4 pessoas por tour para uma experi\xeancia mais pessoal. Fale connosco para grupos maiores de 4 pessoas, temos uma solu\xe7\xe3o.",authentic_experiences_title:"Experi\xeancias Aut\xeanticas",authentic_experiences_description:"Descubra Portugal como um local, n\xe3o como um turista",view_all_tours:"Ver Todos os Tours",years_experience:"Anos Experi\xeancia",tours_completed:"Tours Realizados",average_rating:"Avalia\xe7\xe3o M\xe9dia",satisfied_clients:"Clientes Satisfeitos",tours_page_subtitle:"Explore as nossas experi\xeancias \xfanicas por Portugal",tours_filter_all:"Todos os Tours",cta_ready_for_experience:"Pronto para uma experi\xeancia \xfanica?",cta_join_us_description:"Junte-se a n\xf3s e descubra os sabores e hist\xf3rias de Portugal",cta_contact_us:"Entre em Contacto",about_page_title:"Sobre a 9 Rocks Tours",about_page_description:"Somos especialistas em tours gastron\xf3micos e culturais por Portugal. A nossa miss\xe3o \xe9 mostrar-lhe os tesouros escondidos do nosso belo pa\xeds.",contact_page_title:"Contacte-nos",contact_phone:"Telefone",contact_address:"Morada",tour_type_gastronomic:"Gastron\xf3mico",tour_type_cultural:"Cultural",tour_type_mixed:"Misto",tour_type_custom:"Personalizado",tour_duration:"Dura\xe7\xe3o",tour_price:"Pre\xe7o",tour_participants:"Participantes",tour_location:"Localiza\xe7\xe3o",tour_includes:"Inclu\xeddo",tour_excludes:"N\xe3o inclu\xeddo",tour_route:"Percurso",tour_availability:"Disponibilidade",tour_book_now:"Reservar Agora",tour_view_details:"Ver Detalhes",tour_hours:"horas",tour_max_people:"m\xe1x. pessoas",tour_type_label:"Tipo:",tour_duration_label:"Dura\xe7\xe3o:",tour_max_group:"Grupo m\xe1ximo:",tour_deposit_info:"Dep\xf3sito (30%):",tour_remaining_payment:"Restante no dia do tour:",tour_description:"Descri\xe7\xe3o",tour_included:"Inclu\xeddo",tour_not_included:"N\xe3o Inclu\xeddo",tour_per_person:"por pessoa",tour_no_dates_available:"Sem datas dispon\xedveis no momento",tour_instant_confirmation:"Confirma\xe7\xe3o imediata",tour_free_cancellation:"Cancelamento gratuito at\xe9 24h antes",tour_professional_guide:"Guia profissional",tour_reserve_now:"Reservar Agora",tour_select_date:"Selecione uma data",tour_person:"pessoa",tour_people:"pessoas",tour_details_highlights:"Destaques",tour_details_full_description:"Descri\xe7\xe3o Completa",tour_details_itinerary:"Itiner\xe1rio",tour_details_includes:"Inclu\xeddo",tour_details_excludes:"N\xe3o inclu\xeddo",tour_details_per_person:"por pessoa",tour_details_select_date:"Selecione a data",tour_details_participants:"Participantes",tour_details_book_now:"Reservar Agora",tour_details_free_cancellation:"\u2713 Cancelamento gratuito","tour_details.instant_confirmation":"Confirma\xe7\xe3o Instant\xe2nea","tour_details.mobile_ticket":"Bilhete M\xf3vel","tour_details.small_groups":"Grupos Pequenos","tour_details.live_guide":"Guia ao Vivo","tour_details.what_youll_do":"O que vai fazer","tour_details.experience_highlights":"Destaques da Experi\xeancia","tour_details.free_cancellation_title":"Cancelamento Gratuito","tour_details.free_cancellation_description":"Cancele at\xe9 24 horas antes sem custos","tour_details.guide_languages":"Portugu\xeas, Ingl\xeas e Espanhol","tour_details.from":"Pre\xe7o total","tour_details.book_now_pay_later":"Reserve agora e pague depois - Sem taxas de reserva",itinerary_tour_schedule:"Itiner\xe1rio do Tour",itinerary_detailed_schedule:"Itiner\xe1rio Detalhado",itinerary_duration:"Dura\xe7\xe3o",itinerary_activities:"atividades",itinerary_main_stops:"Hor\xe1rios principais",itinerary_included_activities:"Atividades inclu\xeddas",itinerary_detailed_program:"Programa Detalhado",itinerary_tour_program:"Programa do Tour",itinerary_tour_in:"Tour em",itinerary_unique_experience:"Experi\xeancia \xfanica pelos pontos de interesse",itinerary_guided_visit:"Visita guiada pelos principais locais",itinerary_local_stories:"Hist\xf3rias e curiosidades locais",itinerary_photo_time:"Tempo para fotografias e descobertas",itinerary_additional_info:"Informa\xe7\xe3o Adicional",itinerary_small_group:"Grupo pequeno",itinerary_max:"m\xe1ximo",itinerary_people:"pessoas",itinerary_professional_guide:"Guia profissional inclu\xeddo",itinerary_tour_region:"Regi\xe3o do Tour",itinerary_important_info:"Informa\xe7\xf5es Importantes",itinerary_group:"Grupo",itinerary_payment:"Pagamento",itinerary_payment_details:"30% dep\xf3sito + 70% no dia",itinerary_cancellation:"Cancelamento",itinerary_cancellation_details:"Gratuito at\xe9 24h antes",itinerary_activity_at:"Atividade \xe0s {time}",itinerary_other_stops:"Outras paradas",itinerary_tour_info:"Informa\xe7\xf5es do Tour",itinerary_meeting_point:"Ponto de encontro confirmado 24h antes",itinerary_whatsapp_contact:"Guia contact\xe1vel via WhatsApp",itinerary_flexible_schedule:"Hor\xe1rios flex\xedveis conforme ritmo do grupo",sidebar_total_price:"Pre\xe7o total do tour",sidebar_deposit:"Dep\xf3sito (30%):",sidebar_remaining:"Restante no dia do tour:",sidebar_dates_available:"datas dispon\xedveis",sidebar_instant_confirmation:"Confirma\xe7\xe3o imediata",sidebar_free_cancellation:"Cancelamento gratuito at\xe9 24h antes",sidebar_professional_guide:"Guia profissional",sidebar_type:"Tipo:",sidebar_duration:"Dura\xe7\xe3o:",sidebar_max_group:"Grupo m\xe1ximo:",common_save:"Guardar",common_cancel:"Cancelar",common_delete:"Eliminar",common_edit:"Editar",common_back:"Voltar",common_next:"Seguinte",common_previous:"Anterior",common_close:"Fechar",common_yes:"Sim",common_no:"N\xe3o",common_try_again:"Tentar Novamente",common_hours:"horas",common_hour:"hora",common_person:"pessoa",common_people:"pessoas",common_up_to:"At\xe9",booking_title:"Reservar Tour",booking_customer_name:"Nome Completo",booking_customer_email:"Email",booking_customer_phone:"Telefone",booking_selected_date:"Data Selecionada",booking_participants:"N\xfamero de Participantes",booking_special_requests:"Pedidos Especiais",booking_payment_method:"M\xe9todo de Pagamento",booking_submit:"Confirmar Reserva",booking_total:"Total",booking_success_title:"Reserva Confirmada!",booking_success_description:"Obrigado pela sua reserva. Receber\xe1 um email de confirma\xe7\xe3o em breve.",payment_paypal:"PayPal",payment_multibanco:"Multibanco",payment_mbway:"MBWay",payment_credit_card:"Cart\xe3o de Cr\xe9dito",payment_processing:"A processar pagamento...",payment_success:"Pagamento realizado com sucesso!",payment_error:"Erro no pagamento. Tente novamente.",payment_success_title:"Pagamento Realizado!",payment_success_description:"O seu pagamento foi processado com sucesso. A sua reserva est\xe1 confirmada.",payment_cancel_title:"Pagamento Cancelado",payment_cancel_description:"O pagamento foi cancelado. Pode tentar novamente quando estiver pronto.",back_to_home:"Voltar ao In\xedcio",admin_title:"Painel de Administra\xe7\xe3o",admin_login:"Entrar",admin_logout:"Sair",admin_tours:"Gest\xe3o de Tours",admin_bookings:"Reservas",admin_stats:"Estat\xedsticas",admin_add_tour:"Adicionar Tour",admin_edit_tour:"Editar Tour",admin_delete_tour:"Eliminar Tour",admin_active:"Ativo",admin_inactive:"Inativo",terms_and_conditions_title:"Termos e Condi\xe7\xf5es de Reserva",terms_and_conditions_short:"termos e condi\xe7\xf5es",terms_and_conditions_accept:"Aceito os",terms_and_conditions_content:"TERMOS E CONDI\xc7\xd5ES - 9 ROCKS TOURS\n\n1. RESERVAS E PAGAMENTOS\n\u2022 Dep\xf3sito de 30% obrigat\xf3rio para confirmar reserva\n\u2022 Restante pagamento no dia do tour\n\u2022 Pagamentos aceites: Cart\xe3o, MB Way, PayPal\n\u2022 Reservas sujeitas a disponibilidade\n\n2. CANCELAMENTOS\n\u2022 Cancelamento gratuito at\xe9 24 horas antes do tour\n\u2022 Cancelamentos com menos de 24h: sem reembolso\n\u2022 Condi\xe7\xf5es meteorol\xf3gicas extremas: reagendamento gratuito\n\u2022 Em caso de doen\xe7a: apresentar atestado m\xe9dico\n\n3. POL\xcdTICAS DO TOUR\n\u2022 M\xe1ximo 4 pessoas por tour (grupos maiores sob consulta)\n\u2022 Chegada 15 minutos antes da hora marcada\n\u2022 Tours em portugu\xeas, ingl\xeas e espanhol\n\u2022 N\xe3o inclu\xeddo: refei\xe7\xf5es principais, transporte para ponto encontro\n\n4. RESPONSABILIDADES\n\u2022 Participantes respons\xe1veis pelos seus pertences\n\u2022 Seguro de acidentes pessoais recomendado\n\u2022 Atividade n\xe3o recomendada para mobilidade reduzida\n\u2022 Menores acompanhados por adulto respons\xe1vel\n\n5. PROTE\xc7\xc3O DE DADOS\n\u2022 Dados pessoais protegidos conforme RGPD\n\u2022 Informa\xe7\xf5es usadas apenas para contacto do tour\n\u2022 Direito de acesso, retifica\xe7\xe3o e elimina\xe7\xe3o de dados\n\nAo reservar, aceita estes termos integralmente.",message_success:"Sucesso!",message_error:"Erro ao carregar os dados. Por favor, tente novamente.",message_loading:"A carregar...",message_no_tours:"N\xe3o h\xe1 tours dispon\xedveis.",message_book_success:"Reserva realizada com sucesso!","message.success":"Sucesso!","message.error":"Erro ao carregar os dados. Por favor, tente novamente.","message.loading":"A carregar..."},en:{tab_overview:"Overview",tab_itinerary:"Itinerary",tab_details:"Details",tab_included:"Included",tab_map:"Map",nav_home:"Home",nav_tours:"Tours",nav_about:"About Us",nav_contact:"Contact",nav_admin:"Admin",home_title:"9 Rocks Tours",home_subtitle:"Discover Portugal authentically",home_description:"Unique gastronomic and cultural tours through Portugal's hidden treasures",home_cta:"Explore Tours",home_featured_tours:"Featured Tours",home_featured_tours_description:"Discover unique experiences through Portugal's hidden treasures",why_choose_us_title:"Why choose 9 Rocks Tours?",why_choose_us_subtitle:"Your Portuguese experience starts here",specialized_guides_title:"Specialized Guides",specialized_guides_description:"Experienced local guides who know every secret of Portugal",small_groups_title:"Small Groups",small_groups_description:"Maximum 4 people per tour for a more personal experience. Contact us for groups larger than 4 people, we have a solution.",authentic_experiences_title:"Authentic Experiences",authentic_experiences_description:"Discover Portugal like a local, not like a tourist",view_all_tours:"View All Tours",years_experience:"Years Experience",tours_completed:"Tours Completed",average_rating:"Average Rating",satisfied_clients:"Satisfied Clients",tours_page_subtitle:"Explore our unique experiences through Portugal",tours_filter_all:"All Tours",cta_ready_for_experience:"Ready for a unique experience?",cta_join_us_description:"Join us and discover the flavors and stories of Portugal",cta_contact_us:"Get in Touch",about_page_title:"About 9 Rocks Tours",about_page_description:"We are specialists in gastronomic and cultural tours through Portugal. Our mission is to show you the hidden treasures of our beautiful country.",contact_page_title:"Contact Us",contact_phone:"Phone",contact_address:"Address",tour_type_gastronomic:"Gastronomic",tour_type_cultural:"Cultural",tour_type_mixed:"Mixed",tour_type_custom:"Custom",tour_duration:"Tour Duration",tour_price:"Price",tour_participants:"Participants",tour_location:"Location",tour_includes:"What's included",tour_excludes:"What's not included",tour_route:"Route",tour_availability:"Availability",tour_book_now:"Book Now",tour_view_details:"View Details",tour_hours:"hours",tour_max_people:"max people",tour_description:"Description",tour_included:"Included",tour_not_included:"Not Included",tour_per_person:"per person",tour_no_dates_available:"No available dates at the moment",tour_instant_confirmation:"Instant confirmation",tour_free_cancellation:"Free cancellation up to 24h before",tour_professional_guide:"Professional Guide",tour_reserve_now:"Book Now",tour_select_date:"Select a date",tour_person:"person",tour_people:"people",tour_mobile_ticket_accepted:"Mobile ticket accepted",tour_max_participants:"Max. 4 people",tour_locations_title:"Tour locations:",tour_type_label:"Type:",tour_duration_label:"Duration:",tour_max_group:"Max group:",tour_deposit_info:"Deposit (30%):",tour_remaining_payment:"Remaining on tour day:","tour_details.instant_confirmation":"Instant Confirmation","tour_details.mobile_ticket":"Mobile Ticket","tour_details.small_groups":"Small Groups","tour_details.live_guide":"Live Guide","tour_details.what_youll_do":"What you'll do","tour_details.experience_highlights":"Experience Highlights","tour_details.free_cancellation_title":"Free Cancellation","tour_details.free_cancellation_description":"Cancel up to 24 hours in advance at no cost","tour_details.guide_languages":"Portuguese, English and Spanish","tour_details.from":"Total price","tour_details.book_now_pay_later":"Book now and pay later - No booking fees",itinerary_tour_schedule:"Tour Schedule",itinerary_detailed_schedule:"Detailed Itinerary",itinerary_duration:"Duration",itinerary_activities:"activities",itinerary_main_stops:"Main stops",itinerary_included_activities:"Included activities",itinerary_detailed_program:"Detailed Program",itinerary_tour_program:"Tour Program",itinerary_tour_in:"Tour in",itinerary_unique_experience:"Unique experience through points of interest",itinerary_guided_visit:"Guided visit to main locations",itinerary_local_stories:"Local stories and curiosities",itinerary_photo_time:"Time for photos and discoveries",itinerary_additional_info:"Additional Information",itinerary_small_group:"Small group",itinerary_max:"maximum",itinerary_people:"people",itinerary_professional_guide:"Professional guide included",itinerary_tour_region:"Tour Region",itinerary_important_info:"Important Information",itinerary_group:"Group",itinerary_payment:"Payment",itinerary_payment_details:"30% deposit + 70% on tour day",itinerary_cancellation:"Cancellation",itinerary_cancellation_details:"Free up to 24h before",itinerary_activity_at:"Activity at {time}",itinerary_other_stops:"Other stops",itinerary_tour_info:"Tour Information",itinerary_meeting_point:"Meeting point confirmed 24h before",itinerary_whatsapp_contact:"Guide contactable via WhatsApp",itinerary_flexible_schedule:"Flexible schedule according to group pace",sidebar_total_price:"Total tour price",sidebar_deposit:"Deposit (30%):",sidebar_remaining:"Remaining on tour day:",sidebar_dates_available:"available dates",sidebar_instant_confirmation:"Instant confirmation",sidebar_free_cancellation:"Free cancellation up to 24h before",sidebar_professional_guide:"Professional guide",sidebar_type:"Type:",sidebar_duration:"Duration:",sidebar_max_group:"Max group:",common_save:"Save",common_cancel:"Cancel",common_delete:"Delete",common_edit:"Edit",common_back:"Back",common_next:"Next",common_previous:"Previous",common_close:"Close",common_yes:"Yes",common_no:"No",common_try_again:"Try Again",common_hours:"hours",common_hour:"hour",common_person:"person",common_people:"people",common_up_to:"Up to",try_again:"Try Again",booking_title:"Book Tour",booking_customer_name:"Full Name",booking_customer_email:"Email",booking_customer_phone:"Phone",booking_selected_date:"Selected Date",booking_participants:"Number of Participants",booking_special_requests:"Special Requests",booking_payment_method:"Payment Method",booking_submit:"Confirm Booking",booking_total:"Total",booking_success_title:"Booking Confirmed!",booking_success_description:"Thank you for your booking. You will receive a confirmation email shortly.",payment_paypal:"PayPal",payment_multibanco:"Multibanco",payment_mbway:"MBWay",payment_credit_card:"Credit Card",payment_processing:"Processing payment...",payment_success:"Payment successful!",payment_error:"Payment error. Please try again.",payment_success_title:"Payment Successful!",payment_success_description:"Your payment has been processed successfully. Your booking is confirmed.",payment_cancel_title:"Payment Cancelled",payment_cancel_description:"The payment was cancelled. You can try again when ready.",back_to_home:"Back to Home",admin_title:"Administration Panel",admin_login:"Login",admin_logout:"Logout",admin_tours:"Tour Management",admin_bookings:"Bookings",admin_stats:"Statistics",admin_add_tour:"Add Tour",admin_edit_tour:"Edit Tour",admin_delete_tour:"Delete Tour",admin_active:"Active",admin_inactive:"Inactive",terms_and_conditions_title:"Booking Terms and Conditions",terms_and_conditions_short:"terms and conditions",terms_and_conditions_accept:"I accept the",terms_and_conditions_content:"TERMS AND CONDITIONS - 9 ROCKS TOURS\n\n1. BOOKINGS AND PAYMENTS\n\u2022 30% deposit required to confirm booking\n\u2022 Remaining payment on tour day\n\u2022 Accepted payments: Card, MB Way, PayPal\n\u2022 Bookings subject to availability\n\n2. CANCELLATIONS\n\u2022 Free cancellation up to 24 hours before tour\n\u2022 Cancellations less than 24h: no refund\n\u2022 Extreme weather conditions: free rescheduling\n\u2022 In case of illness: medical certificate required\n\n3. TOUR POLICIES\n\u2022 Maximum 4 people per tour (larger groups on request)\n\u2022 Arrival 15 minutes before scheduled time\n\u2022 Tours in Portuguese, English and Spanish\n\u2022 Not included: main meals, transport to meeting point\n\n4. RESPONSIBILITIES\n\u2022 Participants responsible for their belongings\n\u2022 Personal accident insurance recommended\n\u2022 Activity not recommended for reduced mobility\n\u2022 Minors accompanied by responsible adult\n\n5. DATA PROTECTION\n\u2022 Personal data protected according to GDPR\n\u2022 Information used only for tour contact\n\u2022 Right of access, rectification and data deletion\n\nBy booking, you accept these terms in full.","message.success":"Success!","message.error":"Error loading data. Please try again.","message.loading":"Loading...","message.no_tours":"No tours available.","message.book_success":"Booking successful!",message_success:"Success!",message_error:"Error loading data. Please try again.",message_loading:"Loading...",message_no_tours:"No tours available.",message_book_success:"Booking successful!"},es:{tab_overview:"Resumen",tab_itinerary:"Itinerario",tab_details:"Detalles",tab_included:"Incluido",tab_map:"Mapa",nav_home:"Inicio",nav_tours:"Tours",nav_about:"Sobre Nosotros",nav_contact:"Contacto",nav_admin:"Admin",home_title:"9 Rocks Tours",home_subtitle:"Descubre Portugal aut\xe9nticamente",home_description:"Tours gastron\xf3micos y culturales \xfanicos por los tesoros escondidos de Portugal",home_cta:"Explorar Tours",home_featured_tours:"Tours Destacados",home_featured_tours_description:"Descubre experiencias \xfanicas por los tesoros escondidos de Portugal",why_choose_us_title:"\xbfPor qu\xe9 elegir 9 Rocks Tours?",why_choose_us_subtitle:"Tu experiencia portuguesa comienza aqu\xed",specialized_guides_title:"Gu\xedas Especializados",specialized_guides_description:"Gu\xedas locales experimentados que conocen cada secreto de Portugal",small_groups_title:"Grupos Peque\xf1os",small_groups_description:"M\xe1ximo 4 personas por tour para una experiencia m\xe1s personal. Cont\xe1ctanos para grupos de m\xe1s de 4 personas, tenemos una soluci\xf3n.",authentic_experiences_title:"Experiencias Aut\xe9nticas",authentic_experiences_description:"Descubre Portugal como un local, no como un turista",view_all_tours:"Ver Todos los Tours",years_experience:"A\xf1os de Experiencia",tours_completed:"Tours Realizados",average_rating:"Valoraci\xf3n Media",satisfied_clients:"Clientes Satisfechos",tours_page_subtitle:"Explora nuestras experiencias \xfanicas por Portugal",tours_filter_all:"Todos los Tours",cta_ready_for_experience:"\xbfListo para una experiencia \xfanica?",cta_join_us_description:"\xdanete a nosotros y descubre los sabores e historias de Portugal",cta_contact_us:"Ponte en Contacto",about_page_title:"Sobre 9 Rocks Tours",about_page_description:"Somos especialistas en tours gastron\xf3micos y culturales por Portugal. Nuestra misi\xf3n es mostrarte los tesoros escondidos de nuestro hermoso pa\xeds.",contact_page_title:"Cont\xe1ctanos",contact_phone:"Tel\xe9fono",contact_address:"Direcci\xf3n",tour_type_gastronomic:"Gastron\xf3mico",tour_type_cultural:"Cultural",tour_type_mixed:"Mixto",tour_type_custom:"Personalizado",tour_duration:"Duraci\xf3n del Tour",tour_price:"Precio",tour_participants:"Participantes",tour_location:"Ubicaci\xf3n",tour_includes:"Qu\xe9 est\xe1 incluido",tour_excludes:"Qu\xe9 no est\xe1 incluido",tour_route:"Ruta",tour_availability:"Disponibilidad",tour_book_now:"Reservar Ahora",tour_view_details:"Ver Detalles",tour_hours:"horas",tour_max_people:"m\xe1x. personas",tour_description:"Descripci\xf3n",tour_included:"Incluido",tour_not_included:"No Incluido",tour_reserve_now:"Reservar Ahora",tour_no_dates_available:"No hay fechas disponibles en este momento",tour_instant_confirmation:"Confirmaci\xf3n instant\xe1nea",tour_free_cancellation:"Cancelaci\xf3n gratuita hasta 24h antes",tour_professional_guide:"Gu\xeda Profesional",tour_select_date:"Selecciona una fecha",tour_person:"persona",tour_people:"personas",tour_mobile_ticket_accepted:"Billete m\xf3vil aceptado",tour_max_participants:"M\xe1x. 4 personas",tour_locations_title:"Ubicaciones del tour:",tour_type_label:"Tipo:",tour_duration_label:"Duraci\xf3n:",tour_max_group:"Grupo m\xe1ximo:",tour_deposit_info:"Dep\xf3sito (30%):",tour_remaining_payment:"Restante el d\xeda del tour:","tour_details.instant_confirmation":"Confirmaci\xf3n Instant\xe1nea","tour_details.mobile_ticket":"Billete M\xf3vil","tour_details.small_groups":"Grupos Peque\xf1os","tour_details.live_guide":"Gu\xeda en Vivo","tour_details.what_youll_do":"Lo que har\xe1s","tour_details.experience_highlights":"Aspectos Destacados de la Experiencia","tour_details.free_cancellation_title":"Cancelaci\xf3n Gratuita","tour_details.free_cancellation_description":"Cancela hasta 24 horas antes sin costo","tour_details.guide_languages":"Portugu\xe9s, Ingl\xe9s y Espa\xf1ol","tour_details.from":"Precio total","tour_details.book_now_pay_later":"Reserva ahora y paga despu\xe9s - Sin tasas de reserva",itinerary_tour_schedule:"Horario del Tour",itinerary_detailed_schedule:"Itinerario Detallado",itinerary_duration:"Duraci\xf3n",itinerary_activities:"actividades",itinerary_main_stops:"Paradas principales",itinerary_included_activities:"Actividades incluidas",itinerary_detailed_program:"Programa Detallado",itinerary_tour_program:"Programa del Tour",itinerary_tour_in:"Tour en",itinerary_unique_experience:"Experiencia \xfanica por puntos de inter\xe9s",itinerary_guided_visit:"Visita guiada a lugares principales",itinerary_local_stories:"Historias y curiosidades locales",itinerary_photo_time:"Tiempo para fotos y descubrimientos",itinerary_additional_info:"Informaci\xf3n Adicional",itinerary_small_group:"Grupo peque\xf1o",itinerary_max:"m\xe1ximo",itinerary_people:"personas",itinerary_professional_guide:"Gu\xeda profesional incluido",itinerary_tour_region:"Regi\xf3n del Tour",itinerary_important_info:"Informaci\xf3n Importante",itinerary_group:"Grupo",itinerary_payment:"Pago",itinerary_payment_details:"30% dep\xf3sito + 70% el d\xeda del tour",itinerary_cancellation:"Cancelaci\xf3n",itinerary_cancellation_details:"Gratuita hasta 24h antes",itinerary_activity_at:"Actividad a las {time}",itinerary_other_stops:"Otras paradas",itinerary_tour_info:"Informaci\xf3n del Tour",itinerary_meeting_point:"Punto de encuentro confirmado 24h antes",itinerary_whatsapp_contact:"Gu\xeda contactable v\xeda WhatsApp",itinerary_flexible_schedule:"Horarios flexibles seg\xfan ritmo del grupo",sidebar_total_price:"Precio total del tour",sidebar_deposit:"Dep\xf3sito (30%):",sidebar_remaining:"Restante el d\xeda del tour:",sidebar_dates_available:"fechas disponibles",sidebar_instant_confirmation:"Confirmaci\xf3n inmediata",sidebar_free_cancellation:"Cancelaci\xf3n gratuita hasta 24h antes",sidebar_professional_guide:"Gu\xeda profesional",sidebar_type:"Tipo:",sidebar_duration:"Duraci\xf3n:",sidebar_max_group:"Grupo m\xe1ximo:",common_save:"Guardar",common_cancel:"Cancelar",common_delete:"Eliminar",common_edit:"Editar",common_back:"Volver",common_next:"Siguiente",common_previous:"Anterior",common_close:"Cerrar",common_yes:"S\xed",common_no:"No",common_try_again:"Intentar de Nuevo",common_hours:"horas",common_hour:"hora",common_person:"persona",common_people:"personas",common_up_to:"Hasta",try_again:"Intentar de Nuevo",booking_title:"Reservar Tour",booking_customer_name:"Nombre Completo",booking_customer_email:"Email",booking_customer_phone:"Tel\xe9fono",booking_selected_date:"Fecha Seleccionada",booking_participants:"N\xfamero de Participantes",booking_special_requests:"Solicitudes Especiales",booking_payment_method:"M\xe9todo de Pago",booking_submit:"Confirmar Reserva",booking_total:"Total",booking_success_title:"\xa1Reserva Confirmada!",booking_success_description:"Gracias por tu reserva. Recibir\xe1s un email de confirmaci\xf3n en breve.",payment_paypal:"PayPal",payment_multibanco:"Multibanco",payment_mbway:"MBWay",payment_credit_card:"Tarjeta de Cr\xe9dito",payment_processing:"Procesando pago...",payment_success:"\xa1Pago exitoso!",payment_error:"Error en el pago. Int\xe9ntalo de nuevo.",payment_success_title:"\xa1Pago Exitoso!",payment_success_description:"Tu pago ha sido procesado exitosamente. Tu reserva est\xe1 confirmada.",payment_cancel_title:"Pago Cancelado",payment_cancel_description:"El pago fue cancelado. Puedes intentar de nuevo cuando est\xe9s listo.",back_to_home:"Volver al Inicio",admin_title:"Panel de Administraci\xf3n",admin_login:"Entrar",admin_logout:"Salir",admin_tours:"Gesti\xf3n de Tours",admin_bookings:"Reservas",admin_stats:"Estad\xedsticas",admin_add_tour:"A\xf1adir Tour",admin_edit_tour:"Editar Tour",admin_delete_tour:"Eliminar Tour",admin_active:"Activo",admin_inactive:"Inactivo",terms_and_conditions_title:"T\xe9rminos y Condiciones de Reserva",terms_and_conditions_short:"t\xe9rminos y condiciones",terms_and_conditions_accept:"Acepto los",terms_and_conditions_content:"T\xc9RMINOS Y CONDICIONES - 9 ROCKS TOURS\n\n1. RESERVAS Y PAGOS\n\u2022 Dep\xf3sito del 30% obligatorio para confirmar reserva\n\u2022 Pago restante el d\xeda del tour\n\u2022 Pagos aceptados: Tarjeta, MB Way, PayPal\n\u2022 Reservas sujetas a disponibilidad\n\n2. CANCELACIONES\n\u2022 Cancelaci\xf3n gratuita hasta 24 horas antes del tour\n\u2022 Cancelaciones con menos de 24h: sin reembolso\n\u2022 Condiciones meteorol\xf3gicas extremas: reprogramaci\xf3n gratuita\n\u2022 En caso de enfermedad: presentar certificado m\xe9dico\n\n3. POL\xcdTICAS DEL TOUR\n\u2022 M\xe1ximo 4 personas por tour (grupos mayores bajo consulta)\n\u2022 Llegada 15 minutos antes de la hora programada\n\u2022 Tours en portugu\xe9s, ingl\xe9s y espa\xf1ol\n\u2022 No incluido: comidas principales, transporte al punto de encuentro\n\n4. RESPONSABILIDADES\n\u2022 Participantes responsables de sus pertenencias\n\u2022 Seguro de accidentes personales recomendado\n\u2022 Actividad no recomendada para movilidad reducida\n\u2022 Menores acompa\xf1ados por adulto responsable\n\n5. PROTECCI\xd3N DE DATOS\n\u2022 Datos personales protegidos seg\xfan RGPD\n\u2022 Informaci\xf3n utilizada solo para contacto del tour\n\u2022 Derecho de acceso, rectificaci\xf3n y eliminaci\xf3n de datos\n\nAl reservar, acepta estos t\xe9rminos \xedntegramente.",message_success:"\xa1\xc9xito!",message_error:"Error al cargar los datos. Por favor, int\xe9ntalo de nuevo.",message_loading:"Cargando...",message_no_tours:"No hay tours disponibles.",message_book_success:"\xa1Reserva exitosa!","message.success":"\xa1\xc9xito!","message.error":"Error al cargar los datos. Por favor, int\xe9ntalo de nuevo.","message.loading":"Cargando...","message.no_tours":"No hay tours disponibles.","message.book_success":"\xa1Reserva exitosa!"}};const _n=new class{constructor(){this.currentLanguage=this.getStoredLanguage()||"pt",this.supportedLanguages=["pt","en","es"],this.translations=wn}getStoredLanguage(){return localStorage.getItem("9rocks_language")}setLanguage(e){this.supportedLanguages.includes(e)&&(this.currentLanguage=e,localStorage.setItem("9rocks_language",e),document.dispatchEvent(new CustomEvent("languageChanged",{detail:e})))}getCurrentLanguage(){const e=localStorage.getItem("9rocks_language");return e&&this.supportedLanguages.includes(e)&&(this.currentLanguage=e),this.currentLanguage}getSupportedLanguages(){return this.supportedLanguages}t(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return"";const n=this.getCurrentLanguage();let r=this.translations[n][e];return r||(r=this.translations.en[e]||this.translations.pt[e]),r?(t&&"object"===typeof t&&Object.keys(t).forEach((e=>{const n=new RegExp("{".concat(e,"}"),"g");r=r.replace(n,t[e])})),r):(console.warn("Translation key not found: ".concat(e," for language: ").concat(n)),e)}getLanguageFlag(e){return{pt:"\ud83c\uddf5\ud83c\uddf9",en:"\ud83c\uddec\ud83c\udde7",es:"\ud83c\uddea\ud83c\uddf8"}[e]||"\ud83c\udff3\ufe0f"}getLanguageName(e){return{pt:"Portugu\xeas",en:"English",es:"Espa\xf1ol"}[e]||e}};var En=n(414);const kn=e=>{let{className:n=""}=e;const[r,s]=(0,t.useState)(_n.getCurrentLanguage()),[o,i]=(0,t.useState)(!1);(0,t.useEffect)((()=>{const e=e=>{s(e.detail),i(!1)};return document.addEventListener("languageChanged",e),()=>{document.removeEventListener("languageChanged",e)}}),[]);const a=e=>({pt:"\ud83c\uddf5\ud83c\uddf9",en:"\ud83c\uddec\ud83c\udde7",es:"\ud83c\uddea\ud83c\uddf8"}[e]||"\ud83c\udff3\ufe0f"),l=e=>({pt:"Portugu\xeas",en:"English",es:"Espa\xf1ol"}[e]||e);return(0,En.jsxs)("div",{className:"relative inline-block text-left ".concat(n),children:[(0,En.jsx)("div",{children:(0,En.jsxs)("button",{type:"button",className:"inline-flex items-center justify-center w-full rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:()=>i(!o),"aria-expanded":"true","aria-haspopup":"true",children:[(0,En.jsx)("span",{className:"mr-2 text-lg",children:a(r)}),(0,En.jsx)("span",{children:l(r)}),(0,En.jsx)("svg",{className:"-mr-1 ml-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,En.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})}),o&&(0,En.jsx)("div",{className:"origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none z-50",children:(0,En.jsx)("div",{className:"py-1",role:"menu","aria-orientation":"vertical",children:_n.getSupportedLanguages().map((e=>(0,En.jsxs)("button",{className:"".concat(r===e?"bg-gray-100 text-gray-900":"text-gray-700"," group flex items-center px-4 py-2 text-sm hover:bg-gray-100 hover:text-gray-900 w-full text-left"),role:"menuitem",onClick:()=>(e=>{_n.setLanguage(e),s(e),i(!1),window.location.reload()})(e),children:[(0,En.jsx)("span",{className:"mr-3 text-lg",children:a(e)}),(0,En.jsx)("span",{children:l(e)}),r===e&&(0,En.jsx)("svg",{className:"ml-auto h-4 w-4 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,En.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},e)))})})]})},Sn=()=>{const[e,n]=(0,t.useState)(_n.getCurrentLanguage());(0,t.useEffect)((()=>{const e=e=>{n(e.detail)};return document.addEventListener("languageChanged",e),()=>{document.removeEventListener("languageChanged",e)}}),[]);const r=(0,t.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _n.t(e,t)}),[e]),s=(0,t.useCallback)((()=>e),[e]);return(0,t.useMemo)((()=>({t:r,language:e,getCurrentLanguage:s})),[r,e,s])},Cn=()=>{const[e,n]=(0,t.useState)(!1),r=ce(),{t:s}=Sn(),o=[{name:s("nav_home"),href:"/"},{name:s("nav_tours"),href:"/tours"},{name:s("nav_about"),href:"/about"},{name:s("nav_contact"),href:"/contact"}],i=e=>r.pathname===e;return(0,En.jsx)("header",{className:"bg-white shadow-lg",children:(0,En.jsxs)("nav",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,En.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,En.jsx)("div",{className:"flex items-center",children:(0,En.jsx)(pt,{to:"/",className:"flex items-center",children:(0,En.jsx)("div",{className:"flex-shrink-0",children:(0,En.jsxs)("h1",{className:"text-2xl font-bold text-gray-900",children:[(0,En.jsx)("span",{className:"text-indigo-600",children:"9 Rocks"})," Tours"]})})})}),(0,En.jsx)("div",{className:"hidden md:block",children:(0,En.jsx)("div",{className:"ml-10 flex items-baseline space-x-4",children:o.map((e=>(0,En.jsx)(pt,{to:e.href,className:"px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200 ".concat(i(e.href)?"bg-indigo-100 text-indigo-700":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"),children:e.name},e.name)))})}),(0,En.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,En.jsx)(kn,{}),(0,En.jsx)("div",{className:"md:hidden",children:(0,En.jsxs)("button",{type:"button",className:"bg-gray-100 inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500","aria-controls":"mobile-menu","aria-expanded":"false",onClick:()=>n(!e),children:[(0,En.jsx)("span",{className:"sr-only",children:"Open main menu"}),e?(0,En.jsx)("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,En.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}):(0,En.jsx)("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,En.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})]})})]})]}),e&&(0,En.jsx)("div",{className:"md:hidden",id:"mobile-menu",children:(0,En.jsx)("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3 border-t border-gray-200",children:o.map((e=>(0,En.jsx)(pt,{to:e.href,className:"block px-3 py-2 rounded-md text-base font-medium transition-colors duration-200 ".concat(i(e.href)?"bg-indigo-100 text-indigo-700":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"),onClick:()=>n(!1),children:e.name},e.name)))})})]})})};var Nn=n(942),jn=n.n(Nn),Tn=n(876),Pn=n.n(Tn),In=n(470),Ln=n.n(In),An="bodyAttributes",On="htmlAttributes",Rn="titleAttributes",Dn={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"},Mn=(Object.keys(Dn).map((function(e){return Dn[e]})),"charset"),Un="cssText",Fn="href",zn="http-equiv",Bn="innerHTML",Vn="itemprop",qn="name",Hn="property",Wn="rel",Gn="src",Kn="target",Yn={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Qn="defaultTitle",Jn="defer",Xn="encodeSpecialCharacters",$n="onChangeClientState",Zn="titleTemplate",er=Object.keys(Yn).reduce((function(e,t){return e[Yn[t]]=t,e}),{}),tr=[Dn.NOSCRIPT,Dn.SCRIPT,Dn.STYLE],nr="data-react-helmet",rr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sr=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),or=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ir=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},ar=function(e){return!1===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},lr=function(e){var t=pr(e,Dn.TITLE),n=pr(e,Zn);if(n&&t)return n.replace(/%s/g,(function(){return Array.isArray(t)?t.join(""):t}));var r=pr(e,Qn);return t||r||void 0},cr=function(e){return pr(e,$n)||function(){}},ur=function(e,t){return t.filter((function(t){return"undefined"!==typeof t[e]})).map((function(t){return t[e]})).reduce((function(e,t){return or({},e,t)}),{})},dr=function(e,t){return t.filter((function(e){return"undefined"!==typeof e[Dn.BASE]})).map((function(e){return e[Dn.BASE]})).reverse().reduce((function(t,n){if(!t.length)for(var r=Object.keys(n),s=0;s<r.length;s++){var o=r[s].toLowerCase();if(-1!==e.indexOf(o)&&n[o])return t.concat(n)}return t}),[])},hr=function(e,t,n){var r={};return n.filter((function(t){return!!Array.isArray(t[e])||("undefined"!==typeof t[e]&&yr("Helmet: "+e+' should be of type "Array". Instead found type "'+rr(t[e])+'"'),!1)})).map((function(t){return t[e]})).reverse().reduce((function(e,n){var s={};n.filter((function(e){for(var n=void 0,o=Object.keys(e),i=0;i<o.length;i++){var a=o[i],l=a.toLowerCase();-1===t.indexOf(l)||n===Wn&&"canonical"===e[n].toLowerCase()||l===Wn&&"stylesheet"===e[l].toLowerCase()||(n=l),-1===t.indexOf(a)||a!==Bn&&a!==Un&&a!==Vn||(n=a)}if(!n||!e[n])return!1;var c=e[n].toLowerCase();return r[n]||(r[n]={}),s[n]||(s[n]={}),!r[n][c]&&(s[n][c]=!0,!0)})).reverse().forEach((function(t){return e.push(t)}));for(var o=Object.keys(s),i=0;i<o.length;i++){var a=o[i],l=Ln()({},r[a],s[a]);r[a]=l}return e}),[]).reverse()},pr=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.hasOwnProperty(t))return r[t]}return null},mr=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout((function(){mr(t)}),0)}}(),fr=function(e){return clearTimeout(e)},gr="undefined"!==typeof window?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||mr:n.g.requestAnimationFrame||mr,vr="undefined"!==typeof window?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||fr:n.g.cancelAnimationFrame||fr,yr=function(e){return console&&"function"===typeof console.warn&&console.warn(e)},br=null,xr=function(e,t){var n=e.baseTag,r=e.bodyAttributes,s=e.htmlAttributes,o=e.linkTags,i=e.metaTags,a=e.noscriptTags,l=e.onChangeClientState,c=e.scriptTags,u=e.styleTags,d=e.title,h=e.titleAttributes;Er(Dn.BODY,r),Er(Dn.HTML,s),_r(d,h);var p={baseTag:kr(Dn.BASE,n),linkTags:kr(Dn.LINK,o),metaTags:kr(Dn.META,i),noscriptTags:kr(Dn.NOSCRIPT,a),scriptTags:kr(Dn.SCRIPT,c),styleTags:kr(Dn.STYLE,u)},m={},f={};Object.keys(p).forEach((function(e){var t=p[e],n=t.newTags,r=t.oldTags;n.length&&(m[e]=n),r.length&&(f[e]=p[e].oldTags)})),t&&t(),l(e,m,f)},wr=function(e){return Array.isArray(e)?e.join(""):e},_r=function(e,t){"undefined"!==typeof e&&document.title!==e&&(document.title=wr(e)),Er(Dn.TITLE,t)},Er=function(e,t){var n=document.getElementsByTagName(e)[0];if(n){for(var r=n.getAttribute(nr),s=r?r.split(","):[],o=[].concat(s),i=Object.keys(t),a=0;a<i.length;a++){var l=i[a],c=t[l]||"";n.getAttribute(l)!==c&&n.setAttribute(l,c),-1===s.indexOf(l)&&s.push(l);var u=o.indexOf(l);-1!==u&&o.splice(u,1)}for(var d=o.length-1;d>=0;d--)n.removeAttribute(o[d]);s.length===o.length?n.removeAttribute(nr):n.getAttribute(nr)!==i.join(",")&&n.setAttribute(nr,i.join(","))}},kr=function(e,t){var n=document.head||document.querySelector(Dn.HEAD),r=n.querySelectorAll(e+"["+nr+"]"),s=Array.prototype.slice.call(r),o=[],i=void 0;return t&&t.length&&t.forEach((function(t){var n=document.createElement(e);for(var r in t)if(t.hasOwnProperty(r))if(r===Bn)n.innerHTML=t.innerHTML;else if(r===Un)n.styleSheet?n.styleSheet.cssText=t.cssText:n.appendChild(document.createTextNode(t.cssText));else{var a="undefined"===typeof t[r]?"":t[r];n.setAttribute(r,a)}n.setAttribute(nr,"true"),s.some((function(e,t){return i=t,n.isEqualNode(e)}))?s.splice(i,1):o.push(n)})),s.forEach((function(e){return e.parentNode.removeChild(e)})),o.forEach((function(e){return n.appendChild(e)})),{oldTags:s,newTags:o}},Sr=function(e){return Object.keys(e).reduce((function(t,n){var r="undefined"!==typeof e[n]?n+'="'+e[n]+'"':""+n;return t?t+" "+r:r}),"")},Cr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,n){return t[Yn[n]||n]=e[n],t}),t)},Nr=function(e,n,r){switch(e){case Dn.TITLE:return{toComponent:function(){return function(e,n,r){var s,o=((s={key:n})[nr]=!0,s),i=Cr(r,o);return[t.createElement(Dn.TITLE,i,n)]}(0,n.title,n.titleAttributes)},toString:function(){return function(e,t,n,r){var s=Sr(n),o=wr(t);return s?"<"+e+" "+nr+'="true" '+s+">"+ar(o,r)+"</"+e+">":"<"+e+" "+nr+'="true">'+ar(o,r)+"</"+e+">"}(e,n.title,n.titleAttributes,r)}};case An:case On:return{toComponent:function(){return Cr(n)},toString:function(){return Sr(n)}};default:return{toComponent:function(){return function(e,n){return n.map((function(n,r){var s,o=((s={key:r})[nr]=!0,s);return Object.keys(n).forEach((function(e){var t=Yn[e]||e;if(t===Bn||t===Un){var r=n.innerHTML||n.cssText;o.dangerouslySetInnerHTML={__html:r}}else o[t]=n[e]})),t.createElement(e,o)}))}(e,n)},toString:function(){return function(e,t,n){return t.reduce((function(t,r){var s=Object.keys(r).filter((function(e){return!(e===Bn||e===Un)})).reduce((function(e,t){var s="undefined"===typeof r[t]?t:t+'="'+ar(r[t],n)+'"';return e?e+" "+s:s}),""),o=r.innerHTML||r.cssText||"",i=-1===tr.indexOf(e);return t+"<"+e+" "+nr+'="true" '+s+(i?"/>":">"+o+"</"+e+">")}),"")}(e,n,r)}}}},jr=function(e){var t=e.baseTag,n=e.bodyAttributes,r=e.encode,s=e.htmlAttributes,o=e.linkTags,i=e.metaTags,a=e.noscriptTags,l=e.scriptTags,c=e.styleTags,u=e.title,d=void 0===u?"":u,h=e.titleAttributes;return{base:Nr(Dn.BASE,t,r),bodyAttributes:Nr(An,n,r),htmlAttributes:Nr(On,s,r),link:Nr(Dn.LINK,o,r),meta:Nr(Dn.META,i,r),noscript:Nr(Dn.NOSCRIPT,a,r),script:Nr(Dn.SCRIPT,l,r),style:Nr(Dn.STYLE,c,r),title:Nr(Dn.TITLE,{title:d,titleAttributes:h},r)}},Tr=function(e){var n,r;return r=n=function(n){function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,n.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,n),r.prototype.shouldComponentUpdate=function(e){return!_t()(this.props,e)},r.prototype.mapNestedChildrenToProps=function(e,t){if(!t)return null;switch(e.type){case Dn.SCRIPT:case Dn.NOSCRIPT:return{innerHTML:t};case Dn.STYLE:return{cssText:t}}throw new Error("<"+e.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},r.prototype.flattenArrayTypeChildren=function(e){var t,n=e.child,r=e.arrayTypeChildren,s=e.newChildProps,o=e.nestedChildren;return or({},r,((t={})[n.type]=[].concat(r[n.type]||[],[or({},s,this.mapNestedChildrenToProps(n,o))]),t))},r.prototype.mapObjectTypeChildren=function(e){var t,n,r=e.child,s=e.newProps,o=e.newChildProps,i=e.nestedChildren;switch(r.type){case Dn.TITLE:return or({},s,((t={})[r.type]=i,t.titleAttributes=or({},o),t));case Dn.BODY:return or({},s,{bodyAttributes:or({},o)});case Dn.HTML:return or({},s,{htmlAttributes:or({},o)})}return or({},s,((n={})[r.type]=or({},o),n))},r.prototype.mapArrayTypeChildrenToProps=function(e,t){var n=or({},t);return Object.keys(e).forEach((function(t){var r;n=or({},n,((r={})[t]=e[t],r))})),n},r.prototype.warnOnInvalidChildren=function(e,t){return!0},r.prototype.mapChildrenToProps=function(e,n){var r=this,s={};return t.Children.forEach(e,(function(e){if(e&&e.props){var t=e.props,o=t.children,i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,n){return t[er[n]||n]=e[n],t}),t)}(ir(t,["children"]));switch(r.warnOnInvalidChildren(e,o),e.type){case Dn.LINK:case Dn.META:case Dn.NOSCRIPT:case Dn.SCRIPT:case Dn.STYLE:s=r.flattenArrayTypeChildren({child:e,arrayTypeChildren:s,newChildProps:i,nestedChildren:o});break;default:n=r.mapObjectTypeChildren({child:e,newProps:n,newChildProps:i,nestedChildren:o})}}})),n=this.mapArrayTypeChildrenToProps(s,n)},r.prototype.render=function(){var n=this.props,r=n.children,s=ir(n,["children"]),o=or({},s);return r&&(o=this.mapChildrenToProps(r,o)),t.createElement(e,o)},sr(r,null,[{key:"canUseDOM",set:function(t){e.canUseDOM=t}}]),r}(t.Component),n.propTypes={base:jn().object,bodyAttributes:jn().object,children:jn().oneOfType([jn().arrayOf(jn().node),jn().node]),defaultTitle:jn().string,defer:jn().bool,encodeSpecialCharacters:jn().bool,htmlAttributes:jn().object,link:jn().arrayOf(jn().object),meta:jn().arrayOf(jn().object),noscript:jn().arrayOf(jn().object),onChangeClientState:jn().func,script:jn().arrayOf(jn().object),style:jn().arrayOf(jn().object),title:jn().string,titleAttributes:jn().object,titleTemplate:jn().string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var t=e.rewind();return t||(t=jr({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),t},r}(Pn()((function(e){return{baseTag:dr([Fn,Kn],e),bodyAttributes:ur(An,e),defer:pr(e,Jn),encode:pr(e,Xn),htmlAttributes:ur(On,e),linkTags:hr(Dn.LINK,[Wn,Fn],e),metaTags:hr(Dn.META,[qn,Mn,zn,Hn,Vn],e),noscriptTags:hr(Dn.NOSCRIPT,[Bn],e),onChangeClientState:cr(e),scriptTags:hr(Dn.SCRIPT,[Gn,Bn],e),styleTags:hr(Dn.STYLE,[Un],e),title:lr(e),titleAttributes:ur(Rn,e)}}),(function(e){br&&vr(br),e.defer?br=gr((function(){xr(e,(function(){br=null}))})):(xr(e),br=null)}),jr)((function(){return null})));Tr.renderStatic=Tr.rewind;const Pr=e=>{let{title:t,description:n,lang:r,ogImage:s="/images/9rocks-tours-og.jpg",tourSchema:o=null,keywords:i=null,noindex:a=!1}=e;const l=ce(),{t:c,getCurrentLanguage:u}=Sn(),d={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:"3000",FAST_REFRESH:!0,REACT_APP_BACKEND_URL:"http://localhost:8000",REACT_APP_FIREBASE_API_KEY:"AIzaSyD80GYkjPKfIbVW747zb3s7jXSuVfBJTe4",REACT_APP_FIREBASE_APP_ID:"1:742946187892:web:2b0d2bcb974d4564327f21",REACT_APP_FIREBASE_AUTH_DOMAIN:"tours-81516-acfbc.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"742946187892",REACT_APP_FIREBASE_PROJECT_ID:"tours-81516-acfbc",REACT_APP_FIREBASE_STORAGE_BUCKET:"tours-81516-acfbc.firebasestorage.app",REACT_APP_Maps_API_KEY:"AIzaSyDse8LirlT11c0BVj40XoZaqnJLBU2GNWU"}.REACT_APP_BASE_URL||"https://9rocks.pt",h="".concat(d).concat(l.pathname),p=r||u(),m=(()=>{const e=l.pathname.replace(/^\/(en|es)/,"")||"/";return[{lang:"pt",href:"".concat(d).concat(e)},{lang:"en",href:"".concat(d,"/en").concat(e)},{lang:"es",href:"".concat(d,"/es").concat(e)}]})(),f=t||"".concat(c("seo_default_title")," | 9 Rocks Tours"),g=n||c("seo_default_description"),v=i||{pt:"tours portugal, tours lisboa, tours porto, tours sintra, tours gastron\xf3micos portugal, tours culturais portugal",en:"portugal tours, lisbon tours, porto tours, sintra tours, gastronomic tours portugal, cultural tours portugal",es:"tours portugal, tours lisboa, tours oporto, tours sintra, tours gastron\xf3micos portugal, tours culturales portugal"}[p];return(0,En.jsxs)(Tr,{children:[(0,En.jsx)("html",{lang:p}),(0,En.jsx)("title",{children:f}),(0,En.jsx)("meta",{name:"description",content:g}),(0,En.jsx)("meta",{name:"keywords",content:v}),(0,En.jsx)("meta",{charset:"UTF-8"}),(0,En.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),a?(0,En.jsx)("meta",{name:"robots",content:"noindex, nofollow"}):(0,En.jsx)("meta",{name:"robots",content:"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"}),(0,En.jsx)("link",{rel:"canonical",href:h}),m.map((e=>(0,En.jsx)("link",{rel:"alternate",hreflang:e.lang,href:e.href},e.lang))),(0,En.jsx)("link",{rel:"alternate",hreflang:"x-default",href:m[0].href}),(0,En.jsx)("meta",{property:"og:title",content:f}),(0,En.jsx)("meta",{property:"og:description",content:g}),(0,En.jsx)("meta",{property:"og:url",content:h}),(0,En.jsx)("meta",{property:"og:image",content:"".concat(d).concat(s)}),(0,En.jsx)("meta",{property:"og:image:width",content:"1200"}),(0,En.jsx)("meta",{property:"og:image:height",content:"630"}),(0,En.jsx)("meta",{property:"og:type",content:"website"}),(0,En.jsx)("meta",{property:"og:locale",content:{pt:"pt_PT",en:"en_US",es:"es_ES"}[p]}),(0,En.jsx)("meta",{property:"og:site_name",content:"9 Rocks Tours"}),(0,En.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,En.jsx)("meta",{name:"twitter:title",content:f}),(0,En.jsx)("meta",{name:"twitter:description",content:g}),(0,En.jsx)("meta",{name:"twitter:image",content:"".concat(d).concat(s)}),(0,En.jsx)("meta",{name:"twitter:site",content:"@9RocksTours"}),o&&(0,En.jsx)("script",{type:"application/ld+json",children:JSON.stringify(o)}),(0,En.jsx)("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),(0,En.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:!0}),(0,En.jsx)("link",{rel:"dns-prefetch",href:"https://www.googletagmanager.com"}),(0,En.jsx)("link",{rel:"dns-prefetch",href:"https://firebasestorage.googleapis.com"}),(0,En.jsx)("meta",{name:"author",content:"9 Rocks Tours"}),(0,En.jsx)("meta",{name:"company",content:"9 Rocks Tours"}),(0,En.jsx)("meta",{name:"geo.region",content:"PT"}),(0,En.jsx)("meta",{name:"geo.placename",content:"Lisboa, Portugal"}),(0,En.jsx)("meta",{name:"format-detection",content:"telephone=no"}),(0,En.jsx)("meta",{name:"mobile-web-app-capable",content:"yes"}),(0,En.jsx)("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),(0,En.jsx)("meta",{name:"apple-mobile-web-app-status-bar-style",content:"default"}),(0,En.jsx)("meta",{name:"theme-color",content:"#4F46E5"}),(0,En.jsx)("meta",{name:"msapplication-navbutton-color",content:"#4F46E5"}),(0,En.jsx)("meta",{name:"apple-mobile-web-app-status-bar-style",content:"#4F46E5"})]})};function Ir(e,t){return function(){return e.apply(t,arguments)}}const{toString:Lr}=Object.prototype,{getPrototypeOf:Ar}=Object,{iterator:Or,toStringTag:Rr}=Symbol,Dr=(Mr=Object.create(null),e=>{const t=Lr.call(e);return Mr[t]||(Mr[t]=t.slice(8,-1).toLowerCase())});var Mr;const Ur=e=>(e=e.toLowerCase(),t=>Dr(t)===e),Fr=e=>t=>typeof t===e,{isArray:zr}=Array,Br=Fr("undefined");const Vr=Ur("ArrayBuffer");const qr=Fr("string"),Hr=Fr("function"),Wr=Fr("number"),Gr=e=>null!==e&&"object"===typeof e,Kr=e=>{if("object"!==Dr(e))return!1;const t=Ar(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Rr in e)&&!(Or in e)},Yr=Ur("Date"),Qr=Ur("File"),Jr=Ur("Blob"),Xr=Ur("FileList"),$r=Ur("URLSearchParams"),[Zr,es,ts,ns]=["ReadableStream","Request","Response","Headers"].map(Ur);function rs(e,t){let n,r,{allOwnKeys:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),zr(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=s?Object.getOwnPropertyNames(e):Object.keys(e),o=r.length;let i;for(n=0;n<o;n++)i=r[n],t.call(null,e[i],i,e)}}function ss(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,s=n.length;for(;s-- >0;)if(r=n[s],t===r.toLowerCase())return r;return null}const os="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,is=e=>!Br(e)&&e!==os;const as=(ls="undefined"!==typeof Uint8Array&&Ar(Uint8Array),e=>ls&&e instanceof ls);var ls;const cs=Ur("HTMLFormElement"),us=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),ds=Ur("RegExp"),hs=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};rs(n,((n,s)=>{let o;!1!==(o=t(n,s,e))&&(r[s]=o||n)})),Object.defineProperties(e,r)};const ps=Ur("AsyncFunction"),ms=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],os.addEventListener("message",(e=>{let{source:t,data:s}=e;t===os&&s===n&&r.length&&r.shift()()}),!1),e=>{r.push(e),os.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,Hr(os.postMessage)),fs="undefined"!==typeof queueMicrotask?queueMicrotask.bind(os):"undefined"!==typeof process&&process.nextTick||ms,gs={isArray:zr,isArrayBuffer:Vr,isBuffer:function(e){return null!==e&&!Br(e)&&null!==e.constructor&&!Br(e.constructor)&&Hr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Hr(e.append)&&("formdata"===(t=Dr(e))||"object"===t&&Hr(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Vr(e.buffer),t},isString:qr,isNumber:Wr,isBoolean:e=>!0===e||!1===e,isObject:Gr,isPlainObject:Kr,isReadableStream:Zr,isRequest:es,isResponse:ts,isHeaders:ns,isUndefined:Br,isDate:Yr,isFile:Qr,isBlob:Jr,isRegExp:ds,isFunction:Hr,isStream:e=>Gr(e)&&Hr(e.pipe),isURLSearchParams:$r,isTypedArray:as,isFileList:Xr,forEach:rs,merge:function e(){const{caseless:t}=is(this)&&this||{},n={},r=(r,s)=>{const o=t&&ss(n,s)||s;Kr(n[o])&&Kr(r)?n[o]=e(n[o],r):Kr(r)?n[o]=e({},r):zr(r)?n[o]=r.slice():n[o]=r};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&rs(arguments[s],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return rs(t,((t,r)=>{n&&Hr(t)?e[r]=Ir(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let s,o,i;const a={};if(t=t||{},null==e)return t;do{for(s=Object.getOwnPropertyNames(e),o=s.length;o-- >0;)i=s[o],r&&!r(i,e,t)||a[i]||(t[i]=e[i],a[i]=!0);e=!1!==n&&Ar(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Dr,kindOfTest:Ur,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(zr(e))return e;let t=e.length;if(!Wr(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Or]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:cs,hasOwnProperty:us,hasOwnProp:us,reduceDescriptors:hs,freezeMethods:e=>{hs(e,((t,n)=>{if(Hr(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Hr(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return zr(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:ss,global:os,isContextDefined:is,isSpecCompliantForm:function(e){return!!(e&&Hr(e.append)&&"FormData"===e[Rr]&&e[Or])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(Gr(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const s=zr(e)?[]:{};return rs(e,((e,t)=>{const o=n(e,r+1);!Br(o)&&(s[t]=o)})),t[r]=void 0,s}}return e};return n(e,0)},isAsyncFn:ps,isThenable:e=>e&&(Gr(e)||Hr(e))&&Hr(e.then)&&Hr(e.catch),setImmediate:ms,asap:fs,isIterable:e=>null!=e&&Hr(e[Or])};function vs(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}gs.inherits(vs,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:gs.toJSONObject(this.config),code:this.code,status:this.status}}});const ys=vs.prototype,bs={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{bs[e]={value:e}})),Object.defineProperties(vs,bs),Object.defineProperty(ys,"isAxiosError",{value:!0}),vs.from=(e,t,n,r,s,o)=>{const i=Object.create(ys);return gs.toFlatObject(e,i,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),vs.call(i,e.message,t,n,r,s),i.cause=e,i.name=e.name,o&&Object.assign(i,o),i};const xs=vs;function ws(e){return gs.isPlainObject(e)||gs.isArray(e)}function _s(e){return gs.endsWith(e,"[]")?e.slice(0,-2):e}function Es(e,t,n){return e?e.concat(t).map((function(e,t){return e=_s(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const ks=gs.toFlatObject(gs,{},null,(function(e){return/^is[A-Z]/.test(e)}));const Ss=function(e,t,n){if(!gs.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=gs.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!gs.isUndefined(t[e])}))).metaTokens,s=n.visitor||c,o=n.dots,i=n.indexes,a=(n.Blob||"undefined"!==typeof Blob&&Blob)&&gs.isSpecCompliantForm(t);if(!gs.isFunction(s))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(gs.isDate(e))return e.toISOString();if(gs.isBoolean(e))return e.toString();if(!a&&gs.isBlob(e))throw new xs("Blob is not supported. Use a Buffer instead.");return gs.isArrayBuffer(e)||gs.isTypedArray(e)?a&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,s){let a=e;if(e&&!s&&"object"===typeof e)if(gs.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(gs.isArray(e)&&function(e){return gs.isArray(e)&&!e.some(ws)}(e)||(gs.isFileList(e)||gs.endsWith(n,"[]"))&&(a=gs.toArray(e)))return n=_s(n),a.forEach((function(e,r){!gs.isUndefined(e)&&null!==e&&t.append(!0===i?Es([n],r,o):null===i?n:n+"[]",l(e))})),!1;return!!ws(e)||(t.append(Es(s,n,o),l(e)),!1)}const u=[],d=Object.assign(ks,{defaultVisitor:c,convertValue:l,isVisitable:ws});if(!gs.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!gs.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),gs.forEach(n,(function(n,o){!0===(!(gs.isUndefined(n)||null===n)&&s.call(t,n,gs.isString(o)?o.trim():o,r,d))&&e(n,r?r.concat(o):[o])})),u.pop()}}(e),t};function Cs(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Ns(e,t){this._pairs=[],e&&Ss(e,this,t)}const js=Ns.prototype;js.append=function(e,t){this._pairs.push([e,t])},js.toString=function(e){const t=e?function(t){return e.call(this,t,Cs)}:Cs;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const Ts=Ns;function Ps(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Is(e,t,n){if(!t)return e;const r=n&&n.encode||Ps;gs.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let o;if(o=s?s(t,n):gs.isURLSearchParams(t)?t.toString():new Ts(t,n).toString(r),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}const Ls=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){gs.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},As={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Os={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Ts,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Rs="undefined"!==typeof window&&"undefined"!==typeof document,Ds="object"===typeof navigator&&navigator||void 0,Ms=Rs&&(!Ds||["ReactNative","NativeScript","NS"].indexOf(Ds.product)<0),Us="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Fs=Rs&&window.location.href||"http://localhost",zs=c(c({},e),Os);const Bs=function(e){function t(e,n,r,s){let o=e[s++];if("__proto__"===o)return!0;const i=Number.isFinite(+o),a=s>=e.length;if(o=!o&&gs.isArray(r)?r.length:o,a)return gs.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!i;r[o]&&gs.isObject(r[o])||(r[o]=[]);return t(e,n,r[o],s)&&gs.isArray(r[o])&&(r[o]=function(e){const t={},n=Object.keys(e);let r;const s=n.length;let o;for(r=0;r<s;r++)o=n[r],t[o]=e[o];return t}(r[o])),!i}if(gs.isFormData(e)&&gs.isFunction(e.entries)){const n={};return gs.forEachEntry(e,((e,r)=>{t(function(e){return gs.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const Vs={transitional:As,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,s=gs.isObject(e);s&&gs.isHTMLForm(e)&&(e=new FormData(e));if(gs.isFormData(e))return r?JSON.stringify(Bs(e)):e;if(gs.isArrayBuffer(e)||gs.isBuffer(e)||gs.isStream(e)||gs.isFile(e)||gs.isBlob(e)||gs.isReadableStream(e))return e;if(gs.isArrayBufferView(e))return e.buffer;if(gs.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Ss(e,new zs.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return zs.isNode&&gs.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=gs.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Ss(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return s||r?(t.setContentType("application/json",!1),function(e,t,n){if(gs.isString(e))try{return(t||JSON.parse)(e),gs.trim(e)}catch(Lj){if("SyntaxError"!==Lj.name)throw Lj}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Vs.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(gs.isResponse(e)||gs.isReadableStream(e))return e;if(e&&gs.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(Lj){if(n){if("SyntaxError"===Lj.name)throw xs.from(Lj,xs.ERR_BAD_RESPONSE,this,null,this.response);throw Lj}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:zs.classes.FormData,Blob:zs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};gs.forEach(["delete","get","head","post","put","patch"],(e=>{Vs.headers[e]={}}));const qs=Vs,Hs=gs.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ws=Symbol("internals");function Gs(e){return e&&String(e).trim().toLowerCase()}function Ks(e){return!1===e||null==e?e:gs.isArray(e)?e.map(Ks):String(e)}function Ys(e,t,n,r,s){return gs.isFunction(r)?r.call(this,t,n):(s&&(t=n),gs.isString(t)?gs.isString(r)?-1!==t.indexOf(r):gs.isRegExp(r)?r.test(t):void 0:void 0)}class Qs{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function s(e,t,n){const s=Gs(t);if(!s)throw new Error("header name must be a non-empty string");const o=gs.findKey(r,s);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||t]=Ks(e))}const o=(e,t)=>gs.forEach(e,((e,n)=>s(e,n,t)));if(gs.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(gs.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))o((e=>{const t={};let n,r,s;return e&&e.split("\n").forEach((function(e){s=e.indexOf(":"),n=e.substring(0,s).trim().toLowerCase(),r=e.substring(s+1).trim(),!n||t[n]&&Hs[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(gs.isObject(e)&&gs.isIterable(e)){let n,r,s={};for(const t of e){if(!gs.isArray(t))throw TypeError("Object iterator must return a key-value pair");s[r=t[0]]=(n=s[r])?gs.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}o(s,t)}else null!=e&&s(t,e,n);return this}get(e,t){if(e=Gs(e)){const n=gs.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(gs.isFunction(t))return t.call(this,e,n);if(gs.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Gs(e)){const n=gs.findKey(this,e);return!(!n||void 0===this[n]||t&&!Ys(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function s(e){if(e=Gs(e)){const s=gs.findKey(n,e);!s||t&&!Ys(0,n[s],s,t)||(delete n[s],r=!0)}}return gs.isArray(e)?e.forEach(s):s(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const s=t[n];e&&!Ys(0,this[s],s,e,!0)||(delete this[s],r=!0)}return r}normalize(e){const t=this,n={};return gs.forEach(this,((r,s)=>{const o=gs.findKey(n,s);if(o)return t[o]=Ks(r),void delete t[s];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(s):String(s).trim();i!==s&&delete t[s],t[i]=Ks(r),n[i]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return gs.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&gs.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[Ws]=this[Ws]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=Gs(e);t[r]||(!function(e,t){const n=gs.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,s){return this[r].call(this,t,e,n,s)},configurable:!0})}))}(n,e),t[r]=!0)}return gs.isArray(e)?e.forEach(r):r(e),this}}Qs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),gs.reduceDescriptors(Qs.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),gs.freezeMethods(Qs);const Js=Qs;function Xs(e,t){const n=this||qs,r=t||n,s=Js.from(r.headers);let o=r.data;return gs.forEach(e,(function(e){o=e.call(n,o,s.normalize(),t?t.status:void 0)})),s.normalize(),o}function $s(e){return!(!e||!e.__CANCEL__)}function Zs(e,t,n){xs.call(this,null==e?"canceled":e,xs.ERR_CANCELED,t,n),this.name="CanceledError"}gs.inherits(Zs,xs,{__CANCEL__:!0});const eo=Zs;function to(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new xs("Request failed with status code "+n.status,[xs.ERR_BAD_REQUEST,xs.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const no=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s,o=0,i=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),c=r[i];s||(s=l),n[o]=a,r[o]=l;let u=i,d=0;for(;u!==o;)d+=n[u++],u%=e;if(o=(o+1)%e,o===i&&(i=(i+1)%e),l-s<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}};const ro=function(e,t){let n,r,s=0,o=1e3/t;const i=function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();s=o,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-s;for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];t>=o?i(l,e):(n=l,r||(r=setTimeout((()=>{r=null,i(n)}),o-t)))},()=>n&&i(n)]},so=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const s=no(50,250);return ro((n=>{const o=n.loaded,i=n.lengthComputable?n.total:void 0,a=o-r,l=s(a);r=o;e({loaded:o,total:i,progress:i?o/i:void 0,bytes:a,rate:l||void 0,estimated:l&&i&&o<=i?(i-o)/l:void 0,event:n,lengthComputable:null!=i,[t?"download":"upload"]:!0})}),n)},oo=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},io=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return gs.asap((()=>e(...n)))},ao=zs.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,zs.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(zs.origin),zs.navigator&&/(msie|trident)/i.test(zs.navigator.userAgent)):()=>!0,lo=zs.hasStandardBrowserEnv?{write(e,t,n,r,s,o){const i=[e+"="+encodeURIComponent(t)];gs.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),gs.isString(r)&&i.push("path="+r),gs.isString(s)&&i.push("domain="+s),!0===o&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function co(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const uo=e=>e instanceof Js?c({},e):e;function ho(e,t){t=t||{};const n={};function r(e,t,n,r){return gs.isPlainObject(e)&&gs.isPlainObject(t)?gs.merge.call({caseless:r},e,t):gs.isPlainObject(t)?gs.merge({},t):gs.isArray(t)?t.slice():t}function s(e,t,n,s){return gs.isUndefined(t)?gs.isUndefined(e)?void 0:r(void 0,e,0,s):r(e,t,0,s)}function o(e,t){if(!gs.isUndefined(t))return r(void 0,t)}function i(e,t){return gs.isUndefined(t)?gs.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,s,o){return o in t?r(n,s):o in e?r(void 0,n):void 0}const l={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a,headers:(e,t,n)=>s(uo(e),uo(t),0,!0)};return gs.forEach(Object.keys(Object.assign({},e,t)),(function(r){const o=l[r]||s,i=o(e[r],t[r],r);gs.isUndefined(i)&&o!==a||(n[r]=i)})),n}const po=e=>{const t=ho({},e);let n,{data:r,withXSRFToken:s,xsrfHeaderName:o,xsrfCookieName:i,headers:a,auth:l}=t;if(t.headers=a=Js.from(a),t.url=Is(co(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),gs.isFormData(r))if(zs.hasStandardBrowserEnv||zs.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(n=a.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}if(zs.hasStandardBrowserEnv&&(s&&gs.isFunction(s)&&(s=s(t)),s||!1!==s&&ao(t.url))){const e=o&&i&&lo.read(i);e&&a.set(o,e)}return t},mo="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=po(e);let s=r.data;const o=Js.from(r.headers).normalize();let i,a,l,c,u,{responseType:d,onUploadProgress:h,onDownloadProgress:p}=r;function m(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(i),r.signal&&r.signal.removeEventListener("abort",i)}let f=new XMLHttpRequest;function g(){if(!f)return;const r=Js.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());to((function(e){t(e),m()}),(function(e){n(e),m()}),{data:d&&"text"!==d&&"json"!==d?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:r,config:e,request:f}),f=null}f.open(r.method.toUpperCase(),r.url,!0),f.timeout=r.timeout,"onloadend"in f?f.onloadend=g:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(g)},f.onabort=function(){f&&(n(new xs("Request aborted",xs.ECONNABORTED,e,f)),f=null)},f.onerror=function(){n(new xs("Network Error",xs.ERR_NETWORK,e,f)),f=null},f.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const s=r.transitional||As;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new xs(t,s.clarifyTimeoutError?xs.ETIMEDOUT:xs.ECONNABORTED,e,f)),f=null},void 0===s&&o.setContentType(null),"setRequestHeader"in f&&gs.forEach(o.toJSON(),(function(e,t){f.setRequestHeader(t,e)})),gs.isUndefined(r.withCredentials)||(f.withCredentials=!!r.withCredentials),d&&"json"!==d&&(f.responseType=r.responseType),p&&([l,u]=so(p,!0),f.addEventListener("progress",l)),h&&f.upload&&([a,c]=so(h),f.upload.addEventListener("progress",a),f.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(i=t=>{f&&(n(!t||t.type?new eo(null,e,f):t),f.abort(),f=null)},r.cancelToken&&r.cancelToken.subscribe(i),r.signal&&(r.signal.aborted?i():r.signal.addEventListener("abort",i)));const v=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);v&&-1===zs.protocols.indexOf(v)?n(new xs("Unsupported protocol "+v+":",xs.ERR_BAD_REQUEST,e)):f.send(s||null)}))},fo=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const s=function(e){if(!n){n=!0,i();const t=e instanceof Error?e:this.reason;r.abort(t instanceof xs?t:new eo(t instanceof Error?t.message:t))}};let o=t&&setTimeout((()=>{o=null,s(new xs("timeout ".concat(t," of ms exceeded"),xs.ETIMEDOUT))}),t);const i=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(s):e.removeEventListener("abort",s)})),e=null)};e.forEach((e=>e.addEventListener("abort",s)));const{signal:a}=r;return a.unsubscribe=()=>gs.asap(i),a}};function go(e,t){this.v=e,this.k=t}function vo(e){return function(){return new yo(e.apply(this,arguments))}}function yo(e){var t,n;function r(t,n){try{var o=e[t](n),i=o.value,a=i instanceof go;Promise.resolve(a?i.v:i).then((function(n){if(a){var l="return"===t?"return":"next";if(!i.k||n.done)return r(l,n);n=e[l](n).value}s(o.done?"return":"normal",n)}),(function(e){r("throw",e)}))}catch(e){s("throw",e)}}function s(e,s){switch(e){case"return":t.resolve({value:s,done:!0});break;case"throw":t.reject(s);break;default:t.resolve({value:s,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,s){return new Promise((function(o,i){var a={key:e,arg:s,resolve:o,reject:i,next:null};n?n=n.next=a:(t=n=a,r(e,s))}))},"function"!=typeof e.return&&(this.return=void 0)}function bo(e){return new go(e,0)}function xo(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise((function(n){n(e[t](r))})),{done:!1,value:new go(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function wo(e){var t,n,r,s=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);s--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new _o(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function _o(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return _o=function(e){this.s=e,this.n=e.next},_o.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new _o(e)}yo.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},yo.prototype.next=function(e){return this._invoke("next",e)},yo.prototype.throw=function(e){return this._invoke("throw",e)},yo.prototype.return=function(e){return this._invoke("return",e)};const Eo=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,s=0;for(;s<n;)r=s+t,yield e.slice(s,r),s=r},ko=function(){var e=vo((function*(e,t){var n,r=!1,s=!1;try{for(var o,i=wo(So(e));r=!(o=yield bo(i.next())).done;r=!1){const e=o.value;yield*xo(wo(Eo(e,t)))}}catch(a){s=!0,n=a}finally{try{r&&null!=i.return&&(yield bo(i.return()))}finally{if(s)throw n}}}));return function(t,n){return e.apply(this,arguments)}}(),So=function(){var e=vo((function*(e){if(e[Symbol.asyncIterator])return void(yield*xo(wo(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield bo(t.read());if(e)break;yield n}}finally{yield bo(t.cancel())}}));return function(t){return e.apply(this,arguments)}}(),Co=(e,t,n,r)=>{const s=ko(e,t);let o,i=0,a=e=>{o||(o=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await s.next();if(t)return a(),void e.close();let o=r.byteLength;if(n){let e=i+=o;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw a(t),t}},cancel:e=>(a(e),s.return())},{highWaterMark:2})},No="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,jo=No&&"function"===typeof ReadableStream,To=No&&("function"===typeof TextEncoder?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Po=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(Lj){return!1}},Io=jo&&Po((()=>{let e=!1;const t=new Request(zs.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),Lo=jo&&Po((()=>gs.isReadableStream(new Response("").body))),Ao={stream:Lo&&(e=>e.body)};var Oo;No&&(Oo=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!Ao[e]&&(Ao[e]=gs.isFunction(Oo[e])?t=>t[e]():(t,n)=>{throw new xs("Response type '".concat(e,"' is not supported"),xs.ERR_NOT_SUPPORT,n)})})));const Ro=async(e,t)=>{const n=gs.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(gs.isBlob(e))return e.size;if(gs.isSpecCompliantForm(e)){const t=new Request(zs.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return gs.isArrayBufferView(e)||gs.isArrayBuffer(e)?e.byteLength:(gs.isURLSearchParams(e)&&(e+=""),gs.isString(e)?(await To(e)).byteLength:void 0)})(t):n},Do=No&&(async e=>{let{url:t,method:n,data:r,signal:s,cancelToken:o,timeout:i,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:d,withCredentials:h="same-origin",fetchOptions:p}=po(e);u=u?(u+"").toLowerCase():"text";let m,f=fo([s,o&&o.toAbortSignal()],i);const g=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let v;try{if(l&&Io&&"get"!==n&&"head"!==n&&0!==(v=await Ro(d,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(gs.isFormData(r)&&(e=n.headers.get("content-type"))&&d.setContentType(e),n.body){const[e,t]=oo(v,so(io(l)));r=Co(n.body,65536,e,t)}}gs.isString(h)||(h=h?"include":"omit");const s="credentials"in Request.prototype;m=new Request(t,c(c({},p),{},{signal:f,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:s?h:void 0}));let o=await fetch(m,p);const i=Lo&&("stream"===u||"response"===u);if(Lo&&(a||i&&g)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=o[t]}));const t=gs.toFiniteNumber(o.headers.get("content-length")),[n,r]=a&&oo(t,so(io(a),!0))||[];o=new Response(Co(o.body,65536,n,(()=>{r&&r(),g&&g()})),e)}u=u||"text";let y=await Ao[gs.findKey(Ao,u)||"text"](o,e);return!i&&g&&g(),await new Promise(((t,n)=>{to(t,n,{data:y,headers:Js.from(o.headers),status:o.status,statusText:o.statusText,config:e,request:m})}))}catch(y){if(g&&g(),y&&"TypeError"===y.name&&/Load failed|fetch/i.test(y.message))throw Object.assign(new xs("Network Error",xs.ERR_NETWORK,e,m),{cause:y.cause||y});throw xs.from(y,y&&y.code,e,m)}}),Mo={http:null,xhr:mo,fetch:Do};gs.forEach(Mo,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Lj){}Object.defineProperty(e,"adapterName",{value:t})}}));const Uo=e=>"- ".concat(e),Fo=e=>gs.isFunction(e)||null===e||!1===e,zo=e=>{e=gs.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let o=0;o<t;o++){let t;if(n=e[o],r=n,!Fo(n)&&(r=Mo[(t=String(n)).toLowerCase()],void 0===r))throw new xs("Unknown adapter '".concat(t,"'"));if(r)break;s[t||"#"+o]=r}if(!r){const e=Object.entries(s).map((e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(Uo).join("\n"):" "+Uo(e[0]):"as no adapter specified";throw new xs("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function Bo(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new eo(null,e)}function Vo(e){Bo(e),e.headers=Js.from(e.headers),e.data=Xs.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return zo(e.adapter||qs.adapter)(e).then((function(t){return Bo(e),t.data=Xs.call(e,e.transformResponse,t),t.headers=Js.from(t.headers),t}),(function(t){return $s(t)||(Bo(e),t&&t.response&&(t.response.data=Xs.call(e,e.transformResponse,t.response),t.response.headers=Js.from(t.response.headers))),Promise.reject(t)}))}const qo="1.10.0",Ho={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Ho[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const Wo={};Ho.transitional=function(e,t,n){function r(e,t){return"[Axios v"+qo+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,s,o)=>{if(!1===e)throw new xs(r(s," has been removed"+(t?" in "+t:"")),xs.ERR_DEPRECATED);return t&&!Wo[s]&&(Wo[s]=!0,console.warn(r(s," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,s,o)}},Ho.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const Go={assertOptions:function(e,t,n){if("object"!==typeof e)throw new xs("options must be an object",xs.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const o=r[s],i=t[o];if(i){const t=e[o],n=void 0===t||i(t,o,e);if(!0!==n)throw new xs("option "+o+" must be "+n,xs.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new xs("Unknown option "+o,xs.ERR_BAD_OPTION)}},validators:Ho},Ko=Go.validators;class Yo{constructor(e){this.defaults=e||{},this.interceptors={request:new Ls,response:new Ls}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(Lj){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=ho(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:s}=t;void 0!==n&&Go.assertOptions(n,{silentJSONParsing:Ko.transitional(Ko.boolean),forcedJSONParsing:Ko.transitional(Ko.boolean),clarifyTimeoutError:Ko.transitional(Ko.boolean)},!1),null!=r&&(gs.isFunction(r)?t.paramsSerializer={serialize:r}:Go.assertOptions(r,{encode:Ko.function,serialize:Ko.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Go.assertOptions(t,{baseUrl:Ko.spelling("baseURL"),withXsrfToken:Ko.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=s&&gs.merge(s.common,s[t.method]);s&&gs.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete s[e]})),t.headers=Js.concat(o,s);const i=[];let a=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,i.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,d=0;if(!a){const e=[Vo.bind(this),void 0];for(e.unshift.apply(e,i),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=i.length;let h=t;for(d=0;d<u;){const e=i[d++],t=i[d++];try{h=e(h)}catch(p){t.call(this,p);break}}try{c=Vo.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return Is(co((e=ho(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}gs.forEach(["delete","get","head","options"],(function(e){Yo.prototype[e]=function(t,n){return this.request(ho(n||{},{method:e,url:t,data:(n||{}).data}))}})),gs.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,s){return this.request(ho(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Yo.prototype[e]=t(),Yo.prototype[e+"Form"]=t(!0)}));const Qo=Yo;class Jo{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,s){n.reason||(n.reason=new eo(e,r,s),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Jo((function(t){e=t})),cancel:e}}}const Xo=Jo;const $o={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries($o).forEach((e=>{let[t,n]=e;$o[n]=t}));const Zo=$o;const ei=function e(t){const n=new Qo(t),r=Ir(Qo.prototype.request,n);return gs.extend(r,Qo.prototype,n,{allOwnKeys:!0}),gs.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(ho(t,n))},r}(qs);ei.Axios=Qo,ei.CanceledError=eo,ei.CancelToken=Xo,ei.isCancel=$s,ei.VERSION=qo,ei.toFormData=Ss,ei.AxiosError=xs,ei.Cancel=ei.CanceledError,ei.all=function(e){return Promise.all(e)},ei.spread=function(e){return function(t){return e.apply(null,t)}},ei.isAxiosError=function(e){return gs.isObject(e)&&!0===e.isAxiosError},ei.mergeConfig=ho,ei.AxiosHeaders=Js,ei.formToJSON=e=>Bs(gs.isHTMLForm(e)?new FormData(e):e),ei.getAdapter=zo,ei.HttpStatusCode=Zo,ei.default=ei;const ti=ei,ni="http://localhost:8000";var ri=n(604);const si=["onPaymentComplete","autoNavigateOnSuccess"],oi="http://localhost:8000",ii=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{onPaymentComplete:o=null,autoNavigateOnSuccess:i=!0}=r,[a,l]=(s(r,si),(0,t.useState)(!1)),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(null),[p,m]=(0,t.useState)(""),[f,g]=(0,t.useState)(null),[v,y]=(0,t.useState)(""),[b,x]=(0,t.useState)(""),[w,_]=(0,t.useState)(0),E=(0,t.useCallback)((async()=>{try{if(e.id&&"string"===typeof e.id&&e.id.length>5)return e.id;console.log("\ud83d\udd04 Criando booking...");const t={tour_id:"3fc881fd-2490-43aa-9b42-51943275bf73",customer_name:"".concat(e.firstName||"Jo\xe3o"," ").concat(e.lastName||"Silva"),customer_email:e.email||"joao@teste.com",customer_phone:e.phone||"+351912345678",selected_date:e.date||"2025-08-15",participants:parseInt(e.numberOfPeople||1),special_requests:e.specialRequests||"Teste pagamento premium",payment_method:"stripe_embedded"};console.log("\ud83d\udce4 Enviando payload:",t);const n=await ti.post("".concat(oi,"/api/bookings"),t),r=n.data.id||n.data.booking_id||n.data._id;return console.log("\u2705 Booking criado:",r),r}catch(p){var t;throw console.error("\u274c Erro ao criar booking:",p),console.error("\u274c Response data:",null===(t=p.response)||void 0===t?void 0:t.data),p}}),[e]),k=(0,t.useCallback)((async()=>{try{console.log("\ud83d\ude80 Inicializando Stripe para cart\xf5es + MB WAY...");const{loadStripe:t}=await Promise.resolve().then(n.bind(n,202)),r=await ti.get("".concat(oi,"/api/payments/stripe/config"));if(!r.data.publishable_key)throw new Error("Chave p\xfablica do Stripe n\xe3o encontrada");const s=await t(r.data.publishable_key);g(Promise.resolve(s));let o=d;o||(o=await E(),h(o));const i={amount:e.depositAmount||5,currency:"eur",tour_id:"3fc881fd-2490-43aa-9b42-51943275bf73",booking_id:o,customer_email:e.email||"joao@teste.com",customer_name:"".concat(e.firstName||"Jo\xe3o"," ").concat(e.lastName||"Silva")};console.log("\ud83d\udce4 Criando Payment Intent:",i);const a=await ti.post("".concat(oi,"/api/payments/create-intent"),i);if(!a.data.client_secret)throw new Error("Client Secret n\xe3o recebido");return y(a.data.client_secret),x(a.data.payment_intent_id),console.log("\u2705 Stripe inicializado para cart\xf5es + MB WAY"),{stripe:s,clientSecret:a.data.client_secret,paymentIntentId:a.data.payment_intent_id}}catch(p){var t,r,s;throw console.error("\u274c Erro na inicializa\xe7\xe3o Stripe:",p),console.error("\u274c Response data:",null===(t=p.response)||void 0===t?void 0:t.data),m((null===(r=p.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.detail)||p.message||"Erro ao inicializar pagamento"),p}}),[e,d,E]),S=(0,t.useCallback)((async()=>{try{if(console.log("\ud83d\ude80 Inicializando sistema de pagamento..."),!e||!e.depositAmount)throw new Error("Dados de booking inv\xe1lidos");const t=e.depositAmount||5;_(t),await k(),l(!0),console.log("\u2705 Sistema inicializado")}catch(p){console.error("\u274c Erro na inicializa\xe7\xe3o:",p),m(p.message||"Erro na inicializa\xe7\xe3o")}}),[e,k]);(0,t.useEffect)((()=>{!e||a||p||S()}),[e,a,p,S]);const C=(0,t.useCallback)((async(e,t)=>{if(!e||!t||!v)throw new Error("Stripe n\xe3o est\xe1 pronto");try{u(!0),m(""),console.log("\ud83d\udd04 Confirmando pagamento Stripe...");const{error:n,paymentIntent:r}=await e.confirmPayment({elements:t,confirmParams:{return_url:"".concat(window.location.origin,"/payment/success?booking_id=").concat(d)},redirect:"if_required"});if(n)throw console.error("\u274c Erro no pagamento:",n),new Error(n.message);if(r&&"succeeded"===r.status)return console.log("\u2705 Pagamento bem-sucedido!"),o&&o({success:!0,status:"completed",paymentIntent:r,bookingId:d,method:"stripe_cards_mbway",amount:w,savings:0}),i&&setTimeout((()=>{window.location.href="/payment/success?booking_id=".concat(d)}),1e3),{success:!0,paymentIntent:r,bookingId:d};if(r&&"processing"===r.status)return console.log("\u23f3 Pagamento em processamento (MB WAY)..."),{success:!0,status:"processing",paymentIntent:r,bookingId:d,message:"Aguarde a confirma\xe7\xe3o no seu telem\xf3vel"};throw new Error("Pagamento n\xe3o completado")}finally{u(!1)}}),[v,d,w,o,i]),N=(0,t.useCallback)((e=>new Intl.NumberFormat("pt-PT",{style:"currency",currency:"EUR"}).format(e)),[]),j=(0,t.useCallback)((()=>{var t;return{version:"embedded_web_simplified_v1",hook_state:{isInitialized:a,isProcessing:c,bookingId:d,currentAmount:w,hasClientSecret:!!v,hasError:!!p},stripe_state:{stripe_ready:!!f,client_secret_ready:!!v,payment_intent_id:b},booking_data:{tour_id:null===e||void 0===e||null===(t=e.tour)||void 0===t?void 0:t.id,customer_email:null===e||void 0===e?void 0:e.email,participants:null===e||void 0===e?void 0:e.numberOfPeople,deposit_amount:null===e||void 0===e?void 0:e.depositAmount},last_error:p}}),[a,c,d,w,v,p,f,b,e]);return{isInitialized:a,isProcessing:c,bookingId:d,currentAmount:w,error:p,stripePromise:f,clientSecret:v,paymentIntentId:b,initialize:S,confirmStripePayment:C,getDebugInfo:j,formatCurrency:N,isReady:a&&!!f&&!!v&&!p,hasError:!!p,canPay:!c&&a&&!!v,setError:m,setIsProcessing:u}},ai=e=>{let{onProcessing:n,onError:r,onSuccess:s,currentAmount:o,bookingId:i}=e;const a=(0,ri.useStripe)(),l=(0,ri.useElements)(),[c,u]=(0,t.useState)(!1);return(0,En.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),a&&l){u(!0),n(!0);try{const{error:e,paymentIntent:t}=await a.confirmPayment({elements:l,confirmParams:{return_url:"".concat(window.location.origin,"/payment/success?booking_id=").concat(i)},redirect:"if_required"});e?r(e.message||"Erro no pagamento"):t&&("succeeded"===t.status?s({paymentIntent:t,method:"stripe_embedded",status:"completed"}):"processing"===t.status&&s({paymentIntent:t,method:"mbway",status:"processing",message:"\u23f3 Aguarde a confirma\xe7\xe3o no seu telem\xf3vel MB WAY"}))}catch(t){console.error("\u274c Erro inesperado no pagamento:",t),r("Erro inesperado no pagamento")}finally{u(!1),n(!1)}}else r("Sistema de pagamento n\xe3o est\xe1 pronto")},className:"space-y-6",children:[(0,En.jsx)("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:(0,En.jsx)(ri.PaymentElement,{options:{layout:"tabs",fields:{billingDetails:{name:"auto",email:"auto"}}}})}),(0,En.jsx)("button",{type:"submit",disabled:c||!a||!l,className:"w-full py-4 px-6 rounded-xl font-bold text-lg transition-all duration-300 ".concat(!c&&a&&l?"bg-blue-600 hover:bg-blue-700 text-white shadow-lg hover:shadow-xl transform hover:scale-[1.02]":"bg-gray-400 cursor-not-allowed text-gray-200"),children:c?(0,En.jsxs)("div",{className:"flex items-center justify-center",children:[(0,En.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-2 border-white border-t-transparent mr-3"}),"A processar..."]}):(0,En.jsxs)("div",{className:"flex items-center justify-center",children:[(0,En.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,En.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"\ud83d\udcb3 Pagar ",(d=o,new Intl.NumberFormat("pt-PT",{style:"currency",currency:"EUR"}).format(d))]})}),(0,En.jsxs)("div",{className:"flex items-center justify-center space-x-4 text-xs text-gray-500",children:[(0,En.jsxs)("div",{className:"flex items-center",children:[(0,En.jsx)("svg",{className:"w-4 h-4 mr-1 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,En.jsx)("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}),"SSL Seguro"]}),(0,En.jsxs)("div",{className:"flex items-center",children:[(0,En.jsx)("svg",{className:"w-4 h-4 mr-1 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,En.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Confirma\xe7\xe3o Instant\xe2nea"]}),(0,En.jsx)("div",{className:"flex items-center",children:(0,En.jsx)("span",{className:"text-green-600 font-medium",children:"\ud83d\udcb3 Cart\xf5es + \ud83d\udcf1 MB WAY"})})]})]});var d},li=e=>{var n,r,s;let{bookingData:o,onPaymentSuccess:i,onBack:a}=e;const[l,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(""),{isInitialized:p,isProcessing:m,bookingId:f,currentAmount:g,error:v,stripePromise:y,clientSecret:b,formatCurrency:x,isReady:w,setError:_,getDebugInfo:E}=ii(o,{onPaymentComplete:k});function k(e){var t;(console.log("\ud83c\udf89 Pagamento completado:",e),e.success&&i)&&i({method:e.method,transaction_id:null===(t=e.paymentIntent)||void 0===t?void 0:t.id,booking_id:e.bookingId,amount:e.amount,savings:0,status:e.status})}const S=d||v;return(0,En.jsxs)("div",{className:"max-w-2xl mx-auto p-6 bg-white",children:[(0,En.jsxs)("div",{className:"text-center mb-8",children:[(0,En.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"\ud83d\udcb3 Pagamento por Cart\xe3o ou MB WAY"}),(0,En.jsx)("p",{className:"text-lg text-gray-600",children:x(g||o.depositAmount||5)})]}),S&&(0,En.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:(0,En.jsxs)("div",{className:"flex",children:[(0,En.jsx)("svg",{className:"w-5 h-5 text-red-600 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,En.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),(0,En.jsxs)("div",{children:[(0,En.jsx)("div",{className:"text-red-800 font-medium",children:"Erro no pagamento"}),(0,En.jsx)("div",{className:"text-red-700 text-sm mt-1",children:S}),(0,En.jsx)("button",{onClick:()=>{h(""),_("")},className:"text-red-600 text-sm underline mt-2 hover:text-red-800",children:"Tentar novamente"})]})]})}),w&&y&&b?(0,En.jsx)("div",{className:"mb-8",children:(0,En.jsx)(ri.Elements,{stripe:y,options:{clientSecret:b,appearance:{theme:"stripe",variables:{colorPrimary:"#2563eb",colorBackground:"#ffffff",colorText:"#1f2937",colorDanger:"#dc2626",borderRadius:"8px"}}},children:(0,En.jsx)(ai,{onProcessing:u,onError:h,onSuccess:e=>{"processing"===e.status?(h(""),alert("\u23f3 Pagamento MB WAY iniciado! Confirme no seu telem\xf3vel.")):k(c(c({success:!0},e),{},{bookingId:f,amount:g||o.depositAmount||5,savings:0}))},currentAmount:g||o.depositAmount||5,bookingId:f})})}):S?null:(0,En.jsxs)("div",{className:"text-center py-8",children:[(0,En.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-2 border-blue-600 border-t-transparent mx-auto mb-4"}),(0,En.jsx)("p",{className:"text-gray-600",children:"Carregando sistema de pagamento..."})]}),(0,En.jsxs)("div",{className:"bg-gray-50 rounded-xl p-6 mb-6",children:[(0,En.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"\ud83d\udccb Resumo"}),(0,En.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,En.jsxs)("div",{className:"flex justify-between",children:[(0,En.jsx)("span",{className:"text-gray-600",children:"Tour:"}),(0,En.jsx)("span",{className:"font-medium",children:(null===(n=o.tour)||void 0===n||null===(r=n.name)||void 0===r?void 0:r.pt)||(null===(s=o.tour)||void 0===s?void 0:s.name)||"Tour de Teste"})]}),(0,En.jsxs)("div",{className:"flex justify-between",children:[(0,En.jsx)("span",{className:"text-gray-600",children:"Data:"}),(0,En.jsx)("span",{className:"font-medium",children:o.date?new Date(o.date+"T00:00:00").toLocaleDateString("pt-PT",{day:"numeric",month:"long"}):"15 de agosto"})]}),(0,En.jsxs)("div",{className:"flex justify-between",children:[(0,En.jsx)("span",{className:"text-gray-600",children:"Participantes:"}),(0,En.jsx)("span",{className:"font-medium",children:o.numberOfPeople||1})]}),(0,En.jsx)("div",{className:"border-t pt-2 mt-2",children:(0,En.jsxs)("div",{className:"flex justify-between text-lg font-bold",children:[(0,En.jsx)("span",{children:"Total:"}),(0,En.jsx)("span",{className:"text-blue-600",children:x(g||o.depositAmount||5)})]})})]})]}),(0,En.jsx)("div",{className:"text-center",children:(0,En.jsx)("button",{onClick:a,disabled:l||m,className:"text-blue-600 hover:text-blue-700 font-medium py-2 disabled:opacity-50",children:"\u2190 Voltar aos dados da reserva"})}),!1,(0,En.jsxs)("div",{className:"mt-6 text-center",children:[(0,En.jsxs)("div",{className:"flex items-center justify-center space-x-4 text-xs text-gray-500",children:[(0,En.jsxs)("span",{className:"flex items-center",children:[(0,En.jsx)("svg",{className:"w-4 h-4 mr-1 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,En.jsx)("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}),"Pagamento 100% seguro"]}),(0,En.jsxs)("span",{className:"flex items-center",children:[(0,En.jsx)("svg",{className:"w-4 h-4 mr-1 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,En.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Confirma\xe7\xe3o instant\xe2nea"]})]}),(0,En.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:"Suporte a Visa, Mastercard, American Express e MB WAY"})]})]})},ci=()=>{const{t:e,getCurrentLanguage:n}=Sn(),r=n(),[s,o]=(0,t.useState)(!0),[i,a]=(0,t.useState)(null),[l,c]=(0,t.useState)(0),[u,d]=(0,t.useState)(!1),h=[{id:"fallback_1",title:{pt:"Sintra M\xe1gica",en:"Magical Sintra",es:"Sintra M\xe1gica"},subtitle:{pt:"Descubra pal\xe1cios encantados",en:"Discover enchanted palaces",es:"Descubre palacios encantados"},imageUrl:"https://media.timeout.com/images/105732838/1920/1080/image.webp"},{id:"fallback_2",title:{pt:"Porto Aut\xeantico",en:"Authentic Porto",es:"Oporto Aut\xe9ntico"},subtitle:{pt:"Sabores e tradi\xe7\xf5es do Norte",en:"Northern flavors and traditions",es:"Sabores y tradiciones del Norte"},imageUrl:"https://images.unsplash.com/photo-1555881400-69e38bb0c85f?ixlib=rb-4.0.3&auto=format&fit=crop&w=2000&q=80"}],p=[{key:"all",labels:{pt:"Todos os Tours",en:"All Tours",es:"Todos los Tours"},order:0},{key:"cultural",labels:{pt:"Cultural",en:"Cultural",es:"Cultural"},order:1},{key:"gastronomic",labels:{pt:"Gastron\xf3mico",en:"Gastronomic",es:"Gastron\xf3mico"},order:2}],[m,f]=(0,t.useState)(h),[g,v]=(0,t.useState)([]),[y,b]=(0,t.useState)(p),[x,w]=(0,t.useState)("all"),_=(0,t.useCallback)((async()=>{o(!0),a(null);try{const[e,t,n]=await Promise.all([ti.get("".concat(ni,"/api/config/hero-images")),ti.get("".concat(ni,"/api/config/tour-filters")),ti.get("".concat(ni,"/api/tours?active_only=true&featured=true"))]);if(Array.isArray(e.data)&&e.data.length>0?f(e.data):(console.warn("Hero images from backend is empty, using fallback."),f(h)),Array.isArray(t.data)&&t.data.length>0){const e=t.data.some((e=>"all"===e.key)),n={key:"all",labels:{pt:"Todos os Tours",en:"All Tours",es:"Todos los Tours"},order:-1},r=e?t.data:[n,...t.data];r.sort(((e,t)=>(e.order||0)-(t.order||0))),b(r)}else console.warn("Tour filters from backend is empty, using defaults."),b(p);Array.isArray(n.data)?v(n.data):(console.error("Tours data from backend is not an array."),v([]))}catch(t){console.error("\u274c Failed to load page data:",t),a(e("message_error")),f(h),b(p),v([])}finally{o(!1)}}),[e]);(0,t.useEffect)((()=>{_()}),[_]),(0,t.useEffect)((()=>{if(m.length>1){const e=setInterval((()=>{c((e=>(e+1)%m.length))}),4e3);return()=>clearInterval(e)}}),[m.length]);const E=e=>e&&(e[r]||e.en||e.pt)||"",k=e=>{var t,n;return e.labels&&e.labels[r]?e.labels[r]:(null===(t=e.labels)||void 0===t?void 0:t.en)||(null===(n=e.labels)||void 0===n?void 0:n.pt)||e.key||"Filter"},S=e=>{const t="en"===r?"":"/".concat(r);return"".concat(t).concat(e)},C="all"===x?g:g.filter((e=>e.tour_type===x));return s?(0,En.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-indigo-50 to-purple-100",children:(0,En.jsxs)("div",{className:"text-center max-w-md",children:[(0,En.jsx)("div",{className:"animate-spin rounded-full h-20 w-20 border-4 border-indigo-600 border-t-transparent mx-auto mb-6"}),(0,En.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"9 Rocks Tours"}),(0,En.jsx)("p",{className:"text-lg text-gray-600 mb-6",children:e("message_loading")})]})}):i?(0,En.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-red-50",children:(0,En.jsxs)("div",{className:"text-center max-w-lg bg-white p-8 rounded-lg shadow-lg border border-red-200",children:[(0,En.jsx)("div",{className:"text-5xl mb-4",children:"\ud83d\ude22"}),(0,En.jsx)("h2",{className:"text-2xl font-bold text-red-800 mb-3",children:"Ocorreu um Erro"}),(0,En.jsx)("p",{className:"text-red-700 mb-6",children:i}),(0,En.jsx)("button",{onClick:()=>window.location.reload(),className:"bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition-colors",children:"\ud83d\udd04 Tentar Novamente"})]})}):(0,En.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,En.jsx)(Pr,{title:"9 Rocks Tours - Epic Adventures in Portugal",description:"Discover hidden paradises with exclusive tours",lang:r}),(0,En.jsxs)("div",{className:"relative h-screen overflow-hidden",children:[(0,En.jsx)("div",{className:"absolute inset-0",children:m.map(((e,t)=>(0,En.jsxs)("div",{className:"absolute inset-0 transition-opacity duration-1000 ".concat(t===l?"opacity-100":"opacity-0"),children:[(0,En.jsx)("img",{src:e.imageUrl,alt:E(e.title),className:"w-full h-full object-cover",loading:0===t?"eager":"lazy",onError:e=>{e.target.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="1920" height="1080"><rect width="1920" height="1080" fill="%23e5e7eb"/><text x="960" y="540" text-anchor="middle" fill="%236b7280" font-size="48">Image not available</text></svg>'}}),(0,En.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-40"})]},e.id)))}),(0,En.jsx)("div",{className:"relative z-10 h-full flex items-center justify-center",children:(0,En.jsxs)("div",{className:"text-center text-white px-4 max-w-4xl mx-auto",children:[(0,En.jsx)("h1",{className:"text-5xl md:text-7xl font-bold mb-6 tracking-tight",children:(0,En.jsx)("span",{className:"bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent",children:m[l]?E(m[l].title):e("home_title")})}),(0,En.jsx)("p",{className:"text-xl md:text-3xl mb-4 font-light opacity-90",children:m[l]?E(m[l].subtitle):e("home_subtitle")}),(0,En.jsx)("p",{className:"text-lg md:text-xl mb-12 opacity-80 max-w-2xl mx-auto leading-relaxed",children:e("home_description")}),(0,En.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[(0,En.jsx)("a",{href:"#tours",className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-8 py-4 rounded-full font-semibold text-lg hover:from-indigo-700 hover:to-purple-700 transition-all duration-300 transform hover:scale-105 shadow-xl",children:e("home_cta")}),(0,En.jsx)(pt,{to:S("/contact"),className:"border-2 border-white text-white px-8 py-4 rounded-full font-semibold text-lg hover:bg-white hover:text-gray-900 transition-all duration-300",children:e("cta_contact_us")})]})]})}),m.length>1&&(0,En.jsx)("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 flex space-x-3 z-20",children:m.map(((e,t)=>(0,En.jsx)("button",{onClick:()=>c(t),className:"w-3 h-3 rounded-full transition-all duration-300 ".concat(t===l?"bg-white scale-125":"bg-white bg-opacity-50 hover:bg-opacity-75")},t)))})]}),!1,(0,En.jsx)("div",{className:"bg-white py-16",children:(0,En.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,En.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 items-center justify-items-center opacity-60",children:[(0,En.jsxs)("div",{className:"text-center",children:[(0,En.jsx)("div",{className:"text-3xl font-bold text-gray-900",children:"500+"}),(0,En.jsx)("div",{className:"text-sm text-gray-600",children:e("tours_completed")})]}),(0,En.jsxs)("div",{className:"text-center",children:[(0,En.jsx)("div",{className:"text-3xl font-bold text-gray-900",children:"4.9\u2605"}),(0,En.jsx)("div",{className:"text-sm text-gray-600",children:e("average_rating")})]}),(0,En.jsxs)("div",{className:"text-center",children:[(0,En.jsx)("div",{className:"text-3xl font-bold text-gray-900",children:"98%"}),(0,En.jsx)("div",{className:"text-sm text-gray-600",children:e("satisfied_clients")})]}),(0,En.jsxs)("div",{className:"text-center",children:[(0,En.jsx)("div",{className:"text-3xl font-bold text-gray-900",children:"5"}),(0,En.jsx)("div",{className:"text-sm text-gray-600",children:e("years_experience")})]})]})})}),(0,En.jsxs)("div",{id:"tours",className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[(0,En.jsxs)("div",{className:"text-center mb-16",children:[(0,En.jsx)("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:e("home_featured_tours")}),(0,En.jsx)("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:e("home_featured_tours_description")})]}),(0,En.jsx)("div",{className:"flex flex-wrap justify-center gap-4 mb-16",children:y.map((e=>(0,En.jsx)("button",{onClick:()=>w(e.key),className:"px-8 py-4 rounded-full font-semibold transition-all duration-300 ".concat(x===e.key?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-lg transform scale-105":"bg-white text-gray-700 border-2 border-gray-200 hover:border-indigo-300 hover:shadow-md"),children:k(e)},e.key)))}),0===C.length?(0,En.jsx)("div",{className:"text-center py-16",children:(0,En.jsx)("div",{className:"text-gray-500 text-xl",children:e("message_no_tours")})}):(0,En.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:C.map(((t,n)=>{return(0,En.jsxs)("div",{className:"group bg-white rounded-2xl shadow-xl overflow-hidden hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2",children:[(0,En.jsxs)("div",{className:"h-64 relative overflow-hidden",children:[t.images&&t.images.length>0?(0,En.jsx)("img",{src:t.images[0],alt:E(t.name),className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700",loading:"lazy"}):(0,En.jsx)("div",{className:"w-full h-full bg-gradient-to-br from-gray-200 to-gray-300 flex items-center justify-center",children:(0,En.jsx)("svg",{className:"w-20 h-20 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,En.jsx)("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})})}),(0,En.jsx)("div",{className:"absolute top-4 left-4",children:(0,En.jsx)("span",{className:"px-4 py-2 rounded-full text-sm font-bold text-white shadow-lg bg-gradient-to-r from-indigo-400 to-purple-500",children:t.tour_type||"Tour"})}),(0,En.jsxs)("div",{className:"absolute bottom-4 right-4 bg-black bg-opacity-70 text-white px-3 py-1 rounded-full text-sm",children:[t.duration_hours,"h \u2022 ",t.max_participants," pessoas"]})]}),(0,En.jsxs)("div",{className:"p-6",children:[(0,En.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-3 group-hover:text-indigo-600 transition-colors",children:E(t.name)}),(0,En.jsx)("p",{className:"text-gray-600 mb-4 text-sm leading-relaxed line-clamp-2",children:E(t.short_description)}),(0,En.jsx)("div",{className:"space-y-2 mb-6",children:(0,En.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,En.jsx)("svg",{className:"w-4 h-4 mr-2 text-indigo-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,En.jsx)("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),t.location]})}),(0,En.jsxs)("div",{className:"flex items-center justify-between",children:[(0,En.jsx)("div",{children:(0,En.jsx)("span",{className:"text-3xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:(r=t.price,new Intl.NumberFormat("pt-PT",{style:"currency",currency:"EUR"}).format(r))})}),(0,En.jsx)(pt,{to:S("/tour/".concat(t.id)),className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-6 py-3 rounded-full font-semibold hover:from-indigo-700 hover:to-purple-700 transition-all duration-300 transform hover:scale-105 shadow-lg",children:e("tour_view_details")})]})]})]},t.id);var r}))})]}),(0,En.jsx)("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 py-20",children:(0,En.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,En.jsxs)("div",{className:"text-center mb-16",children:[(0,En.jsx)("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:e("why_choose_us_title")}),(0,En.jsx)("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:e("why_choose_us_subtitle")})]}),(0,En.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,En.jsxs)("div",{className:"text-center group",children:[(0,En.jsx)("div",{className:"w-20 h-20 bg-gradient-to-r from-indigo-600 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform duration-300",children:(0,En.jsxs)("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,En.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,En.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(0,En.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:e("specialized_guides_title")}),(0,En.jsx)("p",{className:"text-gray-600",children:e("specialized_guides_description")})]}),(0,En.jsxs)("div",{className:"text-center group",children:[(0,En.jsx)("div",{className:"w-20 h-20 bg-gradient-to-r from-indigo-600 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform duration-300",children:(0,En.jsx)("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,En.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,En.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:e("small_groups_title")}),(0,En.jsx)("p",{className:"text-gray-600",children:e("small_groups_description")})]}),(0,En.jsxs)("div",{className:"text-center group",children:[(0,En.jsx)("div",{className:"w-20 h-20 bg-gradient-to-r from-indigo-600 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform duration-300",children:(0,En.jsx)("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,En.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),(0,En.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:e("authentic_experiences_title")}),(0,En.jsx)("p",{className:"text-gray-600",children:e("authentic_experiences_description")})]})]})]})}),(0,En.jsx)("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-20",children:(0,En.jsxs)("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[(0,En.jsx)("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:e("cta_ready_for_experience")}),(0,En.jsx)("p",{className:"text-xl md:text-2xl mb-10 opacity-90",children:e("cta_join_us_description")}),(0,En.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,En.jsx)(pt,{to:S("/tours"),className:"bg-white text-indigo-600 px-8 py-4 rounded-full font-bold text-lg hover:bg-gray-100 transition-all duration-300 transform hover:scale-105 shadow-xl",children:e("view_all_tours")}),(0,En.jsx)(pt,{to:S("/contact"),className:"border-2 border-white text-white px-8 py-4 rounded-full font-bold text-lg hover:bg-white hover:text-indigo-600 transition-all duration-300",children:e("cta_contact_us")})]})]})})]})},ui=e=>{let{itinerary:t,currentLanguage:n="pt"}=e;if(!t||!t[n]||0===t[n].length)return(0,En.jsx)("p",{children:"Itiner\xe1rio n\xe3o dispon\xedvel neste idioma."});const r=t[n];return(0,En.jsx)("div",{className:"space-y-6",children:r.map(((e,t)=>{return(0,En.jsxs)("div",{className:"relative flex items-start",children:[(0,En.jsxs)("div",{className:"flex flex-col items-center mr-4",children:[(0,En.jsx)("div",{className:"bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold z-10",children:(n=e.type,{visit:"\ud83c\udfdb\ufe0f",meal:"\ud83c\udf7d\ufe0f",transport:"\ud83d\ude90",activity:"\ud83c\udfaf",view:"\ud83d\udcf8"}[n]||"\ud83d\udccd")}),t<r.length-1&&(0,En.jsx)("div",{className:"w-px h-full bg-gray-300 mt-2"})]}),(0,En.jsxs)("div",{className:"pt-1",children:[(0,En.jsx)("h4",{className:"text-base font-semibold text-gray-800",children:e.title}),(0,En.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:e.duration})]})]},t);var n}))})};var di,hi,pi=n(119);function mi(e){return mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mi(e)}function fi(e){var t=function(e,t){if("object"!=mi(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=mi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==mi(t)?t:t+""}function gi(e,t,n){return(t=fi(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var yi=vi(hi?di:(hi=1,di=function(e,t,n,r,s,o,i,a){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,s,o,i,a],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}})),bi=(0,t.createContext)(null);function xi(e,t,n,r){var s,o,i={};return s=e,o=(e,s)=>{var o=n[s];o!==t[s]&&(i[s]=o,e(r,o))},Object.keys(s).forEach((e=>o(s[e],e))),i}function wi(e,t,n){var r,s,o,i=(r=n,s=function(n,r,s){return"function"===typeof e[s]&&n.push(google.maps.event.addListener(t,r,e[s])),n},o=[],Object.keys(r).reduce((function(e,t){return s(e,r[t],t)}),o));return i}function _i(e){google.maps.event.removeListener(e)}function Ei(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(_i)}function ki(e){var{updaterMap:t,eventMap:n,prevProps:r,nextProps:s,instance:o}=e,i=wi(s,o,n);return xi(t,r,s,o),i}var Si={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},Ci={extraMapTypes(e,t){t.forEach((function(t,n){e.mapTypes.set(String(n),t)}))},center(e,t){e.setCenter(t)},clickableIcons(e,t){e.setClickableIcons(t)},heading(e,t){e.setHeading(t)},mapTypeId(e,t){e.setMapTypeId(t)},options(e,t){e.setOptions(t)},streetView(e,t){e.setStreetView(t)},tilt(e,t){e.setTilt(t)},zoom(e,t){e.setZoom(t)}};(0,t.memo)((function(e){var{children:n,options:r,id:s,mapContainerStyle:o,mapContainerClassName:i,center:a,onClick:l,onDblClick:c,onDrag:u,onDragEnd:d,onDragStart:h,onMouseMove:p,onMouseOut:m,onMouseOver:f,onMouseDown:g,onMouseUp:v,onRightClick:y,onCenterChanged:b,onLoad:x,onUnmount:w}=e,[_,E]=(0,t.useState)(null),k=(0,t.useRef)(null),[S,C]=(0,t.useState)(null),[N,j]=(0,t.useState)(null),[T,P]=(0,t.useState)(null),[I,L]=(0,t.useState)(null),[A,O]=(0,t.useState)(null),[R,D]=(0,t.useState)(null),[M,U]=(0,t.useState)(null),[F,z]=(0,t.useState)(null),[B,V]=(0,t.useState)(null),[q,H]=(0,t.useState)(null),[W,G]=(0,t.useState)(null),[K,Y]=(0,t.useState)(null);return(0,t.useEffect)((()=>{r&&null!==_&&_.setOptions(r)}),[_,r]),(0,t.useEffect)((()=>{null!==_&&"undefined"!==typeof a&&_.setCenter(a)}),[_,a]),(0,t.useEffect)((()=>{_&&c&&(null!==N&&google.maps.event.removeListener(N),j(google.maps.event.addListener(_,"dblclick",c)))}),[c]),(0,t.useEffect)((()=>{_&&d&&(null!==T&&google.maps.event.removeListener(T),P(google.maps.event.addListener(_,"dragend",d)))}),[d]),(0,t.useEffect)((()=>{_&&h&&(null!==I&&google.maps.event.removeListener(I),L(google.maps.event.addListener(_,"dragstart",h)))}),[h]),(0,t.useEffect)((()=>{_&&g&&(null!==A&&google.maps.event.removeListener(A),O(google.maps.event.addListener(_,"mousedown",g)))}),[g]),(0,t.useEffect)((()=>{_&&p&&(null!==R&&google.maps.event.removeListener(R),D(google.maps.event.addListener(_,"mousemove",p)))}),[p]),(0,t.useEffect)((()=>{_&&m&&(null!==M&&google.maps.event.removeListener(M),U(google.maps.event.addListener(_,"mouseout",m)))}),[m]),(0,t.useEffect)((()=>{_&&f&&(null!==F&&google.maps.event.removeListener(F),z(google.maps.event.addListener(_,"mouseover",f)))}),[f]),(0,t.useEffect)((()=>{_&&v&&(null!==B&&google.maps.event.removeListener(B),V(google.maps.event.addListener(_,"mouseup",v)))}),[v]),(0,t.useEffect)((()=>{_&&y&&(null!==q&&google.maps.event.removeListener(q),H(google.maps.event.addListener(_,"rightclick",y)))}),[y]),(0,t.useEffect)((()=>{_&&l&&(null!==W&&google.maps.event.removeListener(W),G(google.maps.event.addListener(_,"click",l)))}),[l]),(0,t.useEffect)((()=>{_&&u&&(null!==K&&google.maps.event.removeListener(K),Y(google.maps.event.addListener(_,"drag",u)))}),[u]),(0,t.useEffect)((()=>{_&&b&&(null!==S&&google.maps.event.removeListener(S),C(google.maps.event.addListener(_,"center_changed",b)))}),[l]),(0,t.useEffect)((()=>{var e=null===k.current?null:new google.maps.Map(k.current,r);return E(e),null!==e&&x&&x(e),()=>{null!==e&&w&&w(e)}}),[]),(0,En.jsx)("div",{id:s,ref:k,style:o,className:i,children:(0,En.jsx)(bi.Provider,{value:_,children:null!==_?n:null})})}));class Ni extends t.PureComponent{constructor(){super(...arguments),gi(this,"state",{map:null}),gi(this,"registeredEvents",[]),gi(this,"mapRef",null),gi(this,"getInstance",(()=>null===this.mapRef?null:new google.maps.Map(this.mapRef,this.props.options))),gi(this,"panTo",(e=>{var t=this.getInstance();t&&t.panTo(e)})),gi(this,"setMapCallback",(()=>{null!==this.state.map&&this.props.onLoad&&this.props.onLoad(this.state.map)})),gi(this,"getRef",(e=>{this.mapRef=e}))}componentDidMount(){var e=this.getInstance();this.registeredEvents=ki({updaterMap:Ci,eventMap:Si,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{map:e}}),this.setMapCallback)}componentDidUpdate(e){null!==this.state.map&&(Ei(this.registeredEvents),this.registeredEvents=ki({updaterMap:Ci,eventMap:Si,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){null!==this.state.map&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),Ei(this.registeredEvents))}render(){return(0,En.jsx)("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:(0,En.jsx)(bi.Provider,{value:this.state.map,children:null!==this.state.map?this.props.children:null})})}}function ji(e,t,n,r,s,o,i){try{var a=e[o](i),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(r,s)}function Ti(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var o=e.apply(t,n);function i(e){ji(o,r,s,i,a,"next",e)}function a(e){ji(o,r,s,i,a,"throw",e)}i(void 0)}))}}function Pi(e){var{googleMapsApiKey:t,googleMapsClientId:n,version:r="weekly",language:s,region:o,libraries:i,channel:a,mapIds:l,authReferrerPolicy:c,apiUrl:u="https://maps.googleapis.com"}=e,d=[];return yi(t&&n||!(t&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),t?d.push("key=".concat(t)):n&&d.push("client=".concat(n)),r&&d.push("v=".concat(r)),s&&d.push("language=".concat(s)),o&&d.push("region=".concat(o)),i&&i.length&&d.push("libraries=".concat(i.sort().join(","))),a&&d.push("channel=".concat(a)),l&&l.length&&d.push("map_ids=".concat(l.join(","))),c&&d.push("auth_referrer_policy=".concat(c)),d.push("loading=async"),d.push("callback=initMap"),"".concat(u,"/maps/api/js?").concat(d.join("&"))}var Ii="undefined"!==typeof document;function Li(e){var{url:t,id:n,nonce:r}=e;return Ii?new Promise((function(e,s){var o=document.getElementById(n),i=window;if(o){var a=o.getAttribute("data-state");if(o.src===t&&"error"!==a){if("ready"===a)return e(n);var l=i.initMap,c=o.onerror;return i.initMap=function(){l&&l(),e(n)},void(o.onerror=function(e){c&&c(e),s(e)})}o.remove()}var u=document.createElement("script");u.type="text/javascript",u.src=t,u.id=n,u.async=!0,u.nonce=r||"",u.onerror=function(e){u.setAttribute("data-state","error"),s(e)},i.initMap=function(){u.setAttribute("data-state","ready"),e(n)},document.head.appendChild(u)})).catch((e=>{throw console.error("injectScript error: ",e),e})):Promise.reject(new Error("document is undefined"))}function Ai(e){var t=e.href;return!(!t||0!==t.indexOf("https://fonts.googleapis.com/css?family=Roboto")&&0!==t.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text"))||("style"===e.tagName.toLowerCase()&&e.styleSheet&&e.styleSheet.cssText&&0===e.styleSheet.cssText.replace("\r\n","").indexOf(".gm-style")?(e.styleSheet.cssText="",!0):"style"===e.tagName.toLowerCase()&&e.innerHTML&&0===e.innerHTML.replace("\r\n","").indexOf(".gm-style")?(e.innerHTML="",!0):"style"===e.tagName.toLowerCase()&&!e.styleSheet&&!e.innerHTML)}function Oi(){var e=document.getElementsByTagName("head")[0];if(e){var t=e.insertBefore.bind(e);e.insertBefore=function(n,r){return Ai(n)||Reflect.apply(t,e,[n,r]),n};var n=e.appendChild.bind(e);e.appendChild=function(t){return Ai(t)||Reflect.apply(n,e,[t]),t}}}var Ri=!1;function Di(){return(0,En.jsx)("div",{children:"Loading..."})}var Mi,Ui={id:"script-loader",version:"weekly"};class Fi extends t.PureComponent{constructor(){super(...arguments),gi(this,"check",null),gi(this,"state",{loaded:!1}),gi(this,"cleanupCallback",(()=>{delete window.google.maps,this.injectScript()})),gi(this,"isCleaningUp",Ti((function*(){return new Promise((function(e){if(Ri){if(Ii)var t=window.setInterval((function(){Ri||(window.clearInterval(t),e())}),1)}else e()}))}))),gi(this,"cleanup",(()=>{Ri=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter((function(e){return"string"===typeof e.src&&e.src.includes("maps.googleapis")})).forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)})),Array.prototype.slice.call(document.getElementsByTagName("link")).filter((function(e){return"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"===e.href})).forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)})),Array.prototype.slice.call(document.getElementsByTagName("style")).filter((function(e){return void 0!==e.innerText&&e.innerText.length>0&&e.innerText.includes(".gm-")})).forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))})),gi(this,"injectScript",(()=>{this.props.preventGoogleFontsLoading&&Oi(),yi(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id),Li({id:this.props.id,nonce:this.props.nonce,url:Pi(this.props)}).then((()=>{this.props.onLoad&&this.props.onLoad(),this.setState((function(){return{loaded:!0}}))})).catch((e=>{this.props.onError&&this.props.onError(e),console.error("\n          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (".concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",") to <LoadScript />\n          Otherwise it is a Network issue.\n        "))}))})),gi(this,"getRef",(e=>{this.check=e}))}componentDidMount(){if(Ii){if(window.google&&window.google.maps&&!Ri)return void console.error("google api is already presented");this.isCleaningUp().then(this.injectScript).catch((function(e){console.error("Error at injecting script after cleaning up: ",e)}))}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Ii&&e.language!==this.props.language&&(this.cleanup(),this.setState((function(){return{loaded:!1}}),this.cleanupCallback))}componentWillUnmount(){if(Ii){this.cleanup();window.setTimeout((()=>{this.check||(delete window.google,Ri=!1)}),1),this.props.onUnmount&&this.props.onUnmount()}}render(){return(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||(0,En.jsx)(Di,{})]})}}function zi(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}gi(Fi,"defaultProps",Ui);var Bi=["loadingElement","onLoad","onError","onUnmount","children"],Vi=(0,En.jsx)(Di,{});(0,t.memo)((function(e){var{loadingElement:n,onLoad:r,onError:s,onUnmount:o,children:i}=e,a=zi(e,Bi),{isLoaded:l,loadError:c}=function(e){var{id:n=Ui.id,version:r=Ui.version,nonce:s,googleMapsApiKey:o,googleMapsClientId:i,language:a,region:l,libraries:c,preventGoogleFontsLoading:u,channel:d,mapIds:h,authReferrerPolicy:p,apiUrl:m="https://maps.googleapis.com"}=e,f=(0,t.useRef)(!1),[g,v]=(0,t.useState)(!1),[y,b]=(0,t.useState)(void 0);(0,t.useEffect)((function(){return f.current=!0,()=>{f.current=!1}}),[]),(0,t.useEffect)((function(){Ii&&u&&Oi()}),[u]),(0,t.useEffect)((function(){g&&yi(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")}),[g]);var x=Pi({version:r,googleMapsApiKey:o,googleMapsClientId:i,language:a,region:l,libraries:c,channel:d,mapIds:h,authReferrerPolicy:p,apiUrl:m});(0,t.useEffect)((function(){function e(){f.current&&(v(!0),Mi=x)}Ii&&(window.google&&window.google.maps&&Mi===x?e():Li({id:n,url:x,nonce:s}).then(e).catch((function(e){f.current&&b(e),console.warn("\n        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (".concat(o||"-",") or Client ID (").concat(i||"-",")\n        Otherwise it is a Network issue.\n      ")),console.error(e)})))}),[n,x,s]);var w=(0,t.useRef)(void 0);return(0,t.useEffect)((function(){w.current&&c!==w.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),w.current=c}),[c]),{isLoaded:g,loadError:y,url:x}}(a);return(0,t.useEffect)((function(){l&&"function"===typeof r&&r()}),[l,r]),(0,t.useEffect)((function(){c&&"function"===typeof s&&s(c)}),[c,s]),(0,t.useEffect)((function(){return()=>{o&&o()}}),[o]),l?i:n||Vi}));function qi(e,t,n,r){return new(n||(n=Promise))((function(t,s){function o(e){try{a(r.next(e))}catch(Lj){s(Lj)}}function i(e){try{a(r.throw(e))}catch(Lj){s(Lj)}}function a(e){var r;e.done?t(e.value):(r=e.value,r instanceof n?r:new n((function(e){e(r)}))).then(o,i)}a((r=r.apply(e,[])).next())}))}function Hi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}"function"===typeof SuppressedError&&SuppressedError;var Wi,Gi=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,s,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(s=r;0!==s--;)if(!e(t[s],n[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(s=r;0!==s--;)if(!Object.prototype.hasOwnProperty.call(n,o[s]))return!1;for(s=r;0!==s--;){var i=o[s];if(!e(t[i],n[i]))return!1}return!0}return t!==t&&n!==n},Ki=Hi(Gi),Yi="__googleMapsScriptId";!function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"}(Wi||(Wi={}));class Qi{constructor(e){var{apiKey:t,authReferrerPolicy:n,channel:r,client:s,id:o=Yi,language:i,libraries:a=[],mapIds:l,nonce:c,region:u,retries:d=3,url:h="https://maps.googleapis.com/maps/api/js",version:p}=e;if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=t,this.authReferrerPolicy=n,this.channel=r,this.client=s,this.id=o||Yi,this.language=i,this.libraries=a,this.mapIds=l,this.nonce=c,this.region=u,this.retries=d,this.url=h,this.version=p,Qi.instance){if(!Ki(this.options,Qi.instance.options))throw new Error("Loader must not be called again with different options. ".concat(JSON.stringify(this.options)," !== ").concat(JSON.stringify(Qi.instance.options)));return Qi.instance}Qi.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?Wi.FAILURE:this.done?Wi.SUCCESS:this.loading?Wi.LOADING:Wi.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){var e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+="&key=".concat(this.apiKey)),this.channel&&(e+="&channel=".concat(this.channel)),this.client&&(e+="&client=".concat(this.client)),this.libraries.length>0&&(e+="&libraries=".concat(this.libraries.join(","))),this.language&&(e+="&language=".concat(this.language)),this.region&&(e+="&region=".concat(this.region)),this.version&&(e+="&v=".concat(this.version)),this.mapIds&&(e+="&map_ids=".concat(this.mapIds.join(","))),this.authReferrerPolicy&&(e+="&auth_referrer_policy=".concat(this.authReferrerPolicy)),e}deleteScript(){var e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise(((e,t)=>{this.loadCallback((n=>{n?t(n.error):e(window.google)}))}))}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,t;if(document.getElementById(this.id))this.callback();else{var n={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(n).forEach((e=>!n[e]&&delete n[e])),(null===(t=null===(e=null===window||void 0===window?void 0:window.google)||void 0===e?void 0:e.maps)||void 0===t?void 0:t.importLibrary)||(e=>{var t,n,r,s="The Google Maps JavaScript API",o="google",i="importLibrary",a="__ib__",l=document,c=window,u=(c=c[o]||(c[o]={})).maps||(c.maps={}),d=new Set,h=new URLSearchParams,p=()=>t||(t=new Promise(((i,c)=>qi(this,0,void 0,(function*(){var p;for(r in yield n=l.createElement("script"),n.id=this.id,h.set("libraries",[...d]+""),e)h.set(r.replace(/[A-Z]/g,(e=>"_"+e[0].toLowerCase())),e[r]);h.set("callback",o+".maps."+a),n.src=this.url+"?"+h,u[a]=i,n.onerror=()=>t=c(Error(s+" could not load.")),n.nonce=this.nonce||(null===(p=l.querySelector("script[nonce]"))||void 0===p?void 0:p.nonce)||"",l.head.append(n)})))));u[i]?console.warn(s+" only loads once. Ignoring:",e):u[i]=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return d.add(e)&&p().then((()=>u[i](e,...n)))}})(n);var r=this.libraries.map((e=>this.importLibrary(e)));r.length||r.push(this.importLibrary("core")),Promise.all(r).then((()=>this.callback()),(e=>{var t=new ErrorEvent("error",{error:e});this.loadErrorCallback(t)}))}}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){var t=this.errors.length*Math.pow(2,this.errors.length);console.error("Failed to load Google Maps script, retrying in ".concat(t," ms.")),setTimeout((()=>{this.deleteScript(),this.setScript()}),t)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach((e=>{e(this.onerrorEvent)})),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version)return console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),void this.callback();this.loading=!0,this.setScript()}}}var Ji=["maps"];function Xi(e){var{id:n=Ui.id,version:r=Ui.version,nonce:s,googleMapsApiKey:o,language:i,region:a,libraries:l=Ji,preventGoogleFontsLoading:c,mapIds:u,authReferrerPolicy:d}=e,h=(0,t.useRef)(!1),[p,m]=(0,t.useState)(!1),[f,g]=(0,t.useState)(void 0);(0,t.useEffect)((function(){return h.current=!0,()=>{h.current=!1}}),[]);var v=(0,t.useMemo)((()=>new Qi({id:n,apiKey:o,version:r,libraries:l,language:i||"en",region:a||"US",mapIds:u||[],nonce:s||"",authReferrerPolicy:d||"origin"})),[n,o,r,l,i,a,u,s,d]);(0,t.useEffect)((function(){p||v.load().then((()=>{h.current&&m(!0)})).catch((e=>{g(e)}))}),[]),(0,t.useEffect)((()=>{Ii&&c&&Oi()}),[c]);var y=(0,t.useRef)();return(0,t.useEffect)((()=>{y.current&&l!==y.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),y.current=l}),[l]),{isLoaded:p,loadError:f}}function $i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$i(Object(n),!0).forEach((function(t){gi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ea={},ta={options(e,t){e.setOptions(t)}};(0,t.memo)((function(e){var{options:n,onLoad:r,onUnmount:s}=e,o=(0,t.useContext)(bi),[i,a]=(0,t.useState)(null);return(0,t.useEffect)((()=>{null!==i&&i.setMap(o)}),[o]),(0,t.useEffect)((()=>{n&&null!==i&&i.setOptions(n)}),[i,n]),(0,t.useEffect)((()=>{var e=new google.maps.TrafficLayer(Zi(Zi({},n),{},{map:o}));return a(e),r&&r(e),()=>{null!==i&&(s&&s(i),i.setMap(null))}}),[]),null}));class na extends t.PureComponent{constructor(){super(...arguments),gi(this,"state",{trafficLayer:null}),gi(this,"setTrafficLayerCallback",(()=>{null!==this.state.trafficLayer&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)})),gi(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(Zi(Zi({},this.props.options),{},{map:this.context}));this.registeredEvents=ki({updaterMap:ta,eventMap:ea,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{trafficLayer:e}}),this.setTrafficLayerCallback)}componentDidUpdate(e){null!==this.state.trafficLayer&&(Ei(this.registeredEvents),this.registeredEvents=ki({updaterMap:ta,eventMap:ea,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){null!==this.state.trafficLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),Ei(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}gi(na,"contextType",bi);(0,t.memo)((function(e){var{onLoad:n,onUnmount:r}=e,s=(0,t.useContext)(bi),[o,i]=(0,t.useState)(null);return(0,t.useEffect)((()=>{null!==o&&o.setMap(s)}),[s]),(0,t.useEffect)((()=>{var e=new google.maps.BicyclingLayer;return i(e),e.setMap(s),n&&n(e),()=>{null!==e&&(r&&r(e),e.setMap(null))}}),[]),null}));class ra extends t.PureComponent{constructor(){super(...arguments),gi(this,"state",{bicyclingLayer:null}),gi(this,"setBicyclingLayerCallback",(()=>{null!==this.state.bicyclingLayer&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))}))}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState((()=>({bicyclingLayer:e})),this.setBicyclingLayerCallback)}componentWillUnmount(){null!==this.state.bicyclingLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}gi(ra,"contextType",bi);(0,t.memo)((function(e){var{onLoad:n,onUnmount:r}=e,s=(0,t.useContext)(bi),[o,i]=(0,t.useState)(null);return(0,t.useEffect)((()=>{null!==o&&o.setMap(s)}),[s]),(0,t.useEffect)((()=>{var e=new google.maps.TransitLayer;return i(e),e.setMap(s),n&&n(e),()=>{null!==o&&(r&&r(o),o.setMap(null))}}),[]),null}));class sa extends t.PureComponent{constructor(){super(...arguments),gi(this,"state",{transitLayer:null}),gi(this,"setTransitLayerCallback",(()=>{null!==this.state.transitLayer&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))}))}componentDidMount(){var e=new google.maps.TransitLayer;this.setState((function(){return{transitLayer:e}}),this.setTransitLayerCallback)}componentWillUnmount(){null!==this.state.transitLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}function oa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ia(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oa(Object(n),!0).forEach((function(t){gi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}gi(sa,"contextType",bi);var aa={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},la={drawingMode(e,t){e.setDrawingMode(t)},options(e,t){e.setOptions(t)}};(0,t.memo)((function(e){var{options:n,drawingMode:r,onCircleComplete:s,onMarkerComplete:o,onOverlayComplete:i,onPolygonComplete:a,onPolylineComplete:l,onRectangleComplete:c,onLoad:u,onUnmount:d}=e,h=(0,t.useContext)(bi),[p,m]=(0,t.useState)(null),[f,g]=(0,t.useState)(null),[v,y]=(0,t.useState)(null),[b,x]=(0,t.useState)(null),[w,_]=(0,t.useState)(null),[E,k]=(0,t.useState)(null),[S,C]=(0,t.useState)(null);return(0,t.useEffect)((()=>{null!==p&&p.setMap(h)}),[h]),(0,t.useEffect)((()=>{n&&null!==p&&p.setOptions(n)}),[p,n]),(0,t.useEffect)((()=>{null!==p&&p.setDrawingMode(null!==r&&void 0!==r?r:null)}),[p,r]),(0,t.useEffect)((()=>{p&&s&&(null!==f&&google.maps.event.removeListener(f),g(google.maps.event.addListener(p,"circlecomplete",s)))}),[p,s]),(0,t.useEffect)((()=>{p&&o&&(null!==v&&google.maps.event.removeListener(v),y(google.maps.event.addListener(p,"markercomplete",o)))}),[p,o]),(0,t.useEffect)((()=>{p&&i&&(null!==b&&google.maps.event.removeListener(b),x(google.maps.event.addListener(p,"overlaycomplete",i)))}),[p,i]),(0,t.useEffect)((()=>{p&&a&&(null!==w&&google.maps.event.removeListener(w),_(google.maps.event.addListener(p,"polygoncomplete",a)))}),[p,a]),(0,t.useEffect)((()=>{p&&l&&(null!==E&&google.maps.event.removeListener(E),k(google.maps.event.addListener(p,"polylinecomplete",l)))}),[p,l]),(0,t.useEffect)((()=>{p&&c&&(null!==S&&google.maps.event.removeListener(S),C(google.maps.event.addListener(p,"rectanglecomplete",c)))}),[p,c]),(0,t.useEffect)((()=>{yi(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var e=new google.maps.drawing.DrawingManager(ia(ia({},n),{},{map:h}));return r&&e.setDrawingMode(r),s&&g(google.maps.event.addListener(e,"circlecomplete",s)),o&&y(google.maps.event.addListener(e,"markercomplete",o)),i&&x(google.maps.event.addListener(e,"overlaycomplete",i)),a&&_(google.maps.event.addListener(e,"polygoncomplete",a)),l&&k(google.maps.event.addListener(e,"polylinecomplete",l)),c&&C(google.maps.event.addListener(e,"rectanglecomplete",c)),m(e),u&&u(e),()=>{null!==p&&(f&&google.maps.event.removeListener(f),v&&google.maps.event.removeListener(v),b&&google.maps.event.removeListener(b),w&&google.maps.event.removeListener(w),E&&google.maps.event.removeListener(E),S&&google.maps.event.removeListener(S),d&&d(p),p.setMap(null))}}),[]),null}));class ca extends t.PureComponent{constructor(e){super(e),gi(this,"registeredEvents",[]),gi(this,"state",{drawingManager:null}),gi(this,"setDrawingManagerCallback",(()=>{null!==this.state.drawingManager&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)})),yi(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(ia(ia({},this.props.options),{},{map:this.context}));this.registeredEvents=ki({updaterMap:la,eventMap:aa,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{drawingManager:e}}),this.setDrawingManagerCallback)}componentDidUpdate(e){null!==this.state.drawingManager&&(Ei(this.registeredEvents),this.registeredEvents=ki({updaterMap:la,eventMap:aa,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){null!==this.state.drawingManager&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),Ei(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}function ua(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function da(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ua(Object(n),!0).forEach((function(t){gi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ua(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}gi(ca,"contextType",bi);var ha={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},pa={animation(e,t){e.setAnimation(t)},clickable(e,t){e.setClickable(t)},cursor(e,t){e.setCursor(t)},draggable(e,t){e.setDraggable(t)},icon(e,t){e.setIcon(t)},label(e,t){e.setLabel(t)},map(e,t){e.setMap(t)},opacity(e,t){e.setOpacity(t)},options(e,t){e.setOptions(t)},position(e,t){e.setPosition(t)},shape(e,t){e.setShape(t)},title(e,t){e.setTitle(t)},visible(e,t){e.setVisible(t)},zIndex(e,t){e.setZIndex(t)}},ma={};var fa=(0,t.memo)((function(e){var{position:n,options:r,clusterer:s,noClustererRedraw:o,children:i,draggable:a,visible:l,animation:c,clickable:u,cursor:d,icon:h,label:p,opacity:m,shape:f,title:g,zIndex:v,onClick:y,onDblClick:b,onDrag:x,onDragEnd:w,onDragStart:_,onMouseOut:E,onMouseOver:k,onMouseUp:S,onMouseDown:C,onRightClick:N,onClickableChanged:j,onCursorChanged:T,onAnimationChanged:P,onDraggableChanged:I,onFlatChanged:L,onIconChanged:A,onPositionChanged:O,onShapeChanged:R,onTitleChanged:D,onVisibleChanged:M,onZindexChanged:U,onLoad:F,onUnmount:z}=e,B=(0,t.useContext)(bi),[V,q]=(0,t.useState)(null),[H,W]=(0,t.useState)(null),[G,K]=(0,t.useState)(null),[Y,Q]=(0,t.useState)(null),[J,X]=(0,t.useState)(null),[$,Z]=(0,t.useState)(null),[ee,te]=(0,t.useState)(null),[ne,re]=(0,t.useState)(null),[se,oe]=(0,t.useState)(null),[ie,ae]=(0,t.useState)(null),[le,ce]=(0,t.useState)(null),[ue,de]=(0,t.useState)(null),[he,pe]=(0,t.useState)(null),[me,fe]=(0,t.useState)(null),[ge,ve]=(0,t.useState)(null),[ye,be]=(0,t.useState)(null),[xe,we]=(0,t.useState)(null),[_e,Ee]=(0,t.useState)(null),[ke,Se]=(0,t.useState)(null),[Ce,Ne]=(0,t.useState)(null),[je,Te]=(0,t.useState)(null),[Pe,Ie]=(0,t.useState)(null);(0,t.useEffect)((()=>{null!==V&&V.setMap(B)}),[B]),(0,t.useEffect)((()=>{"undefined"!==typeof r&&null!==V&&V.setOptions(r)}),[V,r]),(0,t.useEffect)((()=>{"undefined"!==typeof a&&null!==V&&V.setDraggable(a)}),[V,a]),(0,t.useEffect)((()=>{n&&null!==V&&V.setPosition(n)}),[V,n]),(0,t.useEffect)((()=>{"undefined"!==typeof l&&null!==V&&V.setVisible(l)}),[V,l]),(0,t.useEffect)((()=>{null===V||void 0===V||V.setAnimation(c)}),[V,c]),(0,t.useEffect)((()=>{V&&void 0!==u&&V.setClickable(u)}),[V,u]),(0,t.useEffect)((()=>{V&&void 0!==d&&V.setCursor(d)}),[V,d]),(0,t.useEffect)((()=>{V&&void 0!==h&&V.setIcon(h)}),[V,h]),(0,t.useEffect)((()=>{V&&void 0!==p&&V.setLabel(p)}),[V,p]),(0,t.useEffect)((()=>{V&&void 0!==m&&V.setOpacity(m)}),[V,m]),(0,t.useEffect)((()=>{V&&void 0!==f&&V.setShape(f)}),[V,f]),(0,t.useEffect)((()=>{V&&void 0!==g&&V.setTitle(g)}),[V,g]),(0,t.useEffect)((()=>{V&&void 0!==v&&V.setZIndex(v)}),[V,v]),(0,t.useEffect)((()=>{V&&b&&(null!==H&&google.maps.event.removeListener(H),W(google.maps.event.addListener(V,"dblclick",b)))}),[b]),(0,t.useEffect)((()=>{V&&w&&(null!==G&&google.maps.event.removeListener(G),K(google.maps.event.addListener(V,"dragend",w)))}),[w]),(0,t.useEffect)((()=>{V&&_&&(null!==Y&&google.maps.event.removeListener(Y),Q(google.maps.event.addListener(V,"dragstart",_)))}),[_]),(0,t.useEffect)((()=>{V&&C&&(null!==J&&google.maps.event.removeListener(J),X(google.maps.event.addListener(V,"mousedown",C)))}),[C]),(0,t.useEffect)((()=>{V&&E&&(null!==$&&google.maps.event.removeListener($),Z(google.maps.event.addListener(V,"mouseout",E)))}),[E]),(0,t.useEffect)((()=>{V&&k&&(null!==ee&&google.maps.event.removeListener(ee),te(google.maps.event.addListener(V,"mouseover",k)))}),[k]),(0,t.useEffect)((()=>{V&&S&&(null!==ne&&google.maps.event.removeListener(ne),re(google.maps.event.addListener(V,"mouseup",S)))}),[S]),(0,t.useEffect)((()=>{V&&N&&(null!==se&&google.maps.event.removeListener(se),oe(google.maps.event.addListener(V,"rightclick",N)))}),[N]),(0,t.useEffect)((()=>{V&&y&&(null!==ie&&google.maps.event.removeListener(ie),ae(google.maps.event.addListener(V,"click",y)))}),[y]),(0,t.useEffect)((()=>{V&&x&&(null!==le&&google.maps.event.removeListener(le),ce(google.maps.event.addListener(V,"drag",x)))}),[x]),(0,t.useEffect)((()=>{V&&j&&(null!==ue&&google.maps.event.removeListener(ue),de(google.maps.event.addListener(V,"clickable_changed",j)))}),[j]),(0,t.useEffect)((()=>{V&&T&&(null!==he&&google.maps.event.removeListener(he),pe(google.maps.event.addListener(V,"cursor_changed",T)))}),[T]),(0,t.useEffect)((()=>{V&&P&&(null!==me&&google.maps.event.removeListener(me),fe(google.maps.event.addListener(V,"animation_changed",P)))}),[P]),(0,t.useEffect)((()=>{V&&I&&(null!==ge&&google.maps.event.removeListener(ge),ve(google.maps.event.addListener(V,"draggable_changed",I)))}),[I]),(0,t.useEffect)((()=>{V&&L&&(null!==ye&&google.maps.event.removeListener(ye),be(google.maps.event.addListener(V,"flat_changed",L)))}),[L]),(0,t.useEffect)((()=>{V&&A&&(null!==xe&&google.maps.event.removeListener(xe),we(google.maps.event.addListener(V,"icon_changed",A)))}),[A]),(0,t.useEffect)((()=>{V&&O&&(null!==_e&&google.maps.event.removeListener(_e),Ee(google.maps.event.addListener(V,"position_changed",O)))}),[O]),(0,t.useEffect)((()=>{V&&R&&(null!==ke&&google.maps.event.removeListener(ke),Se(google.maps.event.addListener(V,"shape_changed",R)))}),[R]),(0,t.useEffect)((()=>{V&&D&&(null!==Ce&&google.maps.event.removeListener(Ce),Ne(google.maps.event.addListener(V,"title_changed",D)))}),[D]),(0,t.useEffect)((()=>{V&&M&&(null!==je&&google.maps.event.removeListener(je),Te(google.maps.event.addListener(V,"visible_changed",M)))}),[M]),(0,t.useEffect)((()=>{V&&U&&(null!==Pe&&google.maps.event.removeListener(Pe),Ie(google.maps.event.addListener(V,"zindex_changed",U)))}),[U]),(0,t.useEffect)((()=>{var e=da(da(da({},r||ma),s?ma:{map:B}),{},{position:n}),t=new google.maps.Marker(e);return s?s.addMarker(t,!!o):t.setMap(B),n&&t.setPosition(n),"undefined"!==typeof l&&t.setVisible(l),"undefined"!==typeof a&&t.setDraggable(a),"undefined"!==typeof u&&t.setClickable(u),"string"===typeof d&&t.setCursor(d),h&&t.setIcon(h),"undefined"!==typeof p&&t.setLabel(p),"undefined"!==typeof m&&t.setOpacity(m),f&&t.setShape(f),"string"===typeof g&&t.setTitle(g),"number"===typeof v&&t.setZIndex(v),b&&W(google.maps.event.addListener(t,"dblclick",b)),w&&K(google.maps.event.addListener(t,"dragend",w)),_&&Q(google.maps.event.addListener(t,"dragstart",_)),C&&X(google.maps.event.addListener(t,"mousedown",C)),E&&Z(google.maps.event.addListener(t,"mouseout",E)),k&&te(google.maps.event.addListener(t,"mouseover",k)),S&&re(google.maps.event.addListener(t,"mouseup",S)),N&&oe(google.maps.event.addListener(t,"rightclick",N)),y&&ae(google.maps.event.addListener(t,"click",y)),x&&ce(google.maps.event.addListener(t,"drag",x)),j&&de(google.maps.event.addListener(t,"clickable_changed",j)),T&&pe(google.maps.event.addListener(t,"cursor_changed",T)),P&&fe(google.maps.event.addListener(t,"animation_changed",P)),I&&ve(google.maps.event.addListener(t,"draggable_changed",I)),L&&be(google.maps.event.addListener(t,"flat_changed",L)),A&&we(google.maps.event.addListener(t,"icon_changed",A)),O&&Ee(google.maps.event.addListener(t,"position_changed",O)),R&&Se(google.maps.event.addListener(t,"shape_changed",R)),D&&Ne(google.maps.event.addListener(t,"title_changed",D)),M&&Te(google.maps.event.addListener(t,"visible_changed",M)),U&&Ie(google.maps.event.addListener(t,"zindex_changed",U)),q(t),F&&F(t),()=>{null!==H&&google.maps.event.removeListener(H),null!==G&&google.maps.event.removeListener(G),null!==Y&&google.maps.event.removeListener(Y),null!==J&&google.maps.event.removeListener(J),null!==$&&google.maps.event.removeListener($),null!==ee&&google.maps.event.removeListener(ee),null!==ne&&google.maps.event.removeListener(ne),null!==se&&google.maps.event.removeListener(se),null!==ie&&google.maps.event.removeListener(ie),null!==ue&&google.maps.event.removeListener(ue),null!==he&&google.maps.event.removeListener(he),null!==me&&google.maps.event.removeListener(me),null!==ge&&google.maps.event.removeListener(ge),null!==ye&&google.maps.event.removeListener(ye),null!==xe&&google.maps.event.removeListener(xe),null!==_e&&google.maps.event.removeListener(_e),null!==Ce&&google.maps.event.removeListener(Ce),null!==je&&google.maps.event.removeListener(je),null!==Pe&&google.maps.event.removeListener(Pe),z&&z(t),s?s.removeMarker(t,!!o):t&&t.setMap(null)}}),[]);var Le=(0,t.useMemo)((()=>i?t.Children.map(i,(e=>{if(!(0,t.isValidElement)(e))return e;var n=e;return(0,t.cloneElement)(n,{anchor:V})})):null),[i,V]);return(0,En.jsx)(En.Fragment,{children:Le})||null}));class ga extends t.PureComponent{constructor(){super(...arguments),gi(this,"registeredEvents",[])}componentDidMount(){var e=this;return Ti((function*(){var t=da(da(da({},e.props.options||ma),e.props.clusterer?ma:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(t),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=ki({updaterMap:pa,eventMap:ha,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)}))()}componentDidUpdate(e){this.marker&&(Ei(this.registeredEvents),this.registeredEvents=ki({updaterMap:pa,eventMap:ha,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),Ei(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?t.Children.map(this.props.children,(e=>{if(!(0,t.isValidElement)(e))return e;var n=e;return(0,t.cloneElement)(n,{anchor:this.marker})})):null;return e||null}}gi(ga,"contextType",bi);var va=function(){function e(t,n){t.getClusterer().extend(e,google.maps.OverlayView),this.cluster=t,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(t.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return e.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},e.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},e.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var t=this.cluster.getClusterer();if(google.maps.event.trigger(t,"click",this.cluster),google.maps.event.trigger(t,"clusterclick",this.cluster),t.getZoomOnClick()){var n=t.getMaxZoom(),r=this.cluster.getBounds(),s=t.getMap();null!==s&&"fitBounds"in s&&s.fitBounds(r),this.timeOut=window.setTimeout((function(){var e=t.getMap();if(null!==e){"fitBounds"in e&&e.fitBounds(r);var s=e.getZoom()||0;null!==n&&s>n&&e.setZoom(n+1)}}),100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},e.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},e.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},e.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),null===(e=this.getPanes())||void 0===e||e.overlayMouseTarget.appendChild(this.div);var t=this.getMap();null!==t&&(this.boundsChangedListener=google.maps.event.addListener(t,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),null!==this.boundsChangedListener&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),null!==this.timeOut&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},e.prototype.draw=function(){if(this.visible&&null!==this.div&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=null!==e?"".concat(e.y,"px"):"0",this.div.style.left=null!==e?"".concat(e.x,"px"):"0"}},e.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},e.prototype.show=function(){var e,t,n,r,s,o;if(this.div&&this.center){var i=null===this.sums||"undefined"===typeof this.sums.title||""===this.sums.title?this.cluster.getClusterer().getTitle():this.sums.title,a=this.backgroundPosition.split(" "),l=parseInt((null===(e=a[0])||void 0===e?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),c=parseInt((null===(t=a[1])||void 0===t?void 0:t.replace(/^\s+|\s+$/g,""))||"0",10),u=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(null!==u?"".concat(u.y,"px"):"0","; left: ").concat(null!==u?"".concat(u.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var d=document.createElement("img");d.alt=i,d.src=this.url,d.width=this.width,d.height=this.height,d.setAttribute("style","position: absolute; top: ".concat(c,"px; left: ").concat(l,"px")),this.cluster.getClusterer().enableRetinaIcons||(d.style.clip="rect(-".concat(c,"px, -").concat(l+this.width,"px, -").concat(c+this.height,", -").concat(l,")"));var h=document.createElement("div");h.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),(null===(n=this.sums)||void 0===n?void 0:n.text)&&(h.innerText="".concat(null===(r=this.sums)||void 0===r?void 0:r.text)),(null===(s=this.sums)||void 0===s?void 0:s.html)&&(h.innerHTML="".concat(null===(o=this.sums)||void 0===o?void 0:o.html)),this.div.innerHTML="",this.div.appendChild(d),this.div.appendChild(h),this.div.title=i,this.div.style.display=""}this.visible=!0},e.prototype.useStyle=function(e){this.sums=e;var t=this.cluster.getClusterer().getStyles(),n=t[Math.min(t.length-1,Math.max(0,e.index-1))];n&&(this.url=n.url,this.height=n.height,this.width=n.width,n.className&&(this.className="".concat(this.clusterClassName," ").concat(n.className)),this.anchorText=n.anchorText||[0,0],this.anchorIcon=n.anchorIcon||[this.height/2,this.width/2],this.textColor=n.textColor||"black",this.textSize=n.textSize||11,this.textDecoration=n.textDecoration||"none",this.fontWeight=n.fontWeight||"bold",this.fontStyle=n.fontStyle||"normal",this.fontFamily=n.fontFamily||"Arial,sans-serif",this.backgroundPosition=n.backgroundPosition||"0 0")},e.prototype.setCenter=function(e){this.center=e},e.prototype.getPosFromLatLng=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return null!==t&&(t.x-=this.anchorIcon[1],t.y-=this.anchorIcon[0]),t},e}(),ya=function(){function e(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new va(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return e.prototype.getSize=function(){return this.markers.length},e.prototype.getMarkers=function(){return this.markers},e.prototype.getCenter=function(){return this.center},e.prototype.getMap=function(){return this.map},e.prototype.getClusterer=function(){return this.markerClusterer},e.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),t=0,n=this.getMarkers();t<n.length;t++){var r=n[t].getPosition();r&&e.extend(r)}return e},e.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},e.prototype.addMarker=function(e){var t,n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter&&(n=e.getPosition())){var r=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(r-1)+n.lat())/r,(this.center.lng()*(r-1)+n.lng())/r),this.calculateBounds()}}else(n=e.getPosition())&&(this.center=n,this.calculateBounds());e.isAdded=!0,this.markers.push(e);var s=this.markers.length,o=this.markerClusterer.getMaxZoom(),i=null===(t=this.map)||void 0===t?void 0:t.getZoom();if(null!==o&&"undefined"!==typeof i&&i>o)e.getMap()!==this.map&&e.setMap(this.map);else if(s<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(s===this.minClusterSize)for(var a=0,l=this.markers;a<l.length;a++){l[a].setMap(null)}else e.setMap(null);return!0},e.prototype.isMarkerInClusterBounds=function(e){if(null!==this.bounds){var t=e.getPosition();if(t)return this.bounds.contains(t)}return!1},e.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},e.prototype.updateIcon=function(){var e,t=this.markers.length,n=this.markerClusterer.getMaxZoom(),r=null===(e=this.map)||void 0===e?void 0:e.getZoom();null!==n&&"undefined"!==typeof r&&r>n||t<this.minClusterSize?this.clusterIcon.hide():(this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show())},e.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var t=0;t<this.markers.length;t++)if(e===this.markers[t])return!0;return!1},e}();function ba(e,t){var n=e.length,r=n.toString().length,s=Math.min(r,t);return{text:n.toString(),index:s,title:""}}var xa=[53,56,66,78,90],wa=function(){function e(t,n,r){void 0===n&&(n=[]),void 0===r&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(e,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,void 0!==r.zoomOnClick&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,void 0!==r.averageCenter&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,void 0!==r.ignoreHidden&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,void 0!==r.enableRetinaIcons&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||"https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",this.imageExtension=r.imageExtension||"png",this.imageSizes=r.imageSizes||xa,this.calculator=r.calculator||ba,this.batchSize=r.batchSize||2e3,this.batchSizeIE=r.batchSizeIE||500,this.clusterClass=r.clusterClass||"cluster",-1!==navigator.userAgent.toLowerCase().indexOf("msie")&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(t)}return e.prototype.onZoomChanged=function(){var e,t;this.resetViewport(!1),(null===(e=this.getMap())||void 0===e?void 0:e.getZoom())!==(this.get("minZoom")||0)&&(null===(t=this.getMap())||void 0===t?void 0:t.getZoom())!==this.get("maxZoom")||google.maps.event.trigger(this,"idle")},e.prototype.onIdle=function(){this.redraw()},e.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),null!==e&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},e.prototype.onRemove=function(){for(var e=0,t=this.markers;e<t.length;e++){var n=t[e];n.getMap()!==this.activeMap&&n.setMap(this.activeMap)}for(var r=0,s=this.clusters;r<s.length;r++){s[r].remove()}this.clusters=[];for(var o=0,i=this.listeners;o<i.length;o++){var a=i[o];google.maps.event.removeListener(a)}this.listeners=[],this.activeMap=null,this.ready=!1},e.prototype.draw=function(){},e.prototype.getMap=function(){return null},e.prototype.getPanes=function(){return null},e.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},e.prototype.setMap=function(){},e.prototype.addListener=function(){return{remove:function(){}}},e.prototype.bindTo=function(){},e.prototype.get=function(){},e.prototype.notify=function(){},e.prototype.set=function(){},e.prototype.setValues=function(){},e.prototype.unbind=function(){},e.prototype.unbindAll=function(){},e.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},e.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),t=new google.maps.LatLngBounds,n=0,r=e;n<r.length;n++){var s=r[n].getPosition();s&&t.extend(s)}var o=this.getMap();null!==o&&"fitBounds"in o&&o.fitBounds(t)},e.prototype.getGridSize=function(){return this.gridSize},e.prototype.setGridSize=function(e){this.gridSize=e},e.prototype.getMinimumClusterSize=function(){return this.minClusterSize},e.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},e.prototype.getMaxZoom=function(){return this.maxZoom},e.prototype.setMaxZoom=function(e){this.maxZoom=e},e.prototype.getStyles=function(){return this.styles},e.prototype.setStyles=function(e){this.styles=e},e.prototype.getTitle=function(){return this.title},e.prototype.setTitle=function(e){this.title=e},e.prototype.getZoomOnClick=function(){return this.zoomOnClick},e.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},e.prototype.getAverageCenter=function(){return this.averageCenter},e.prototype.setAverageCenter=function(e){this.averageCenter=e},e.prototype.getIgnoreHidden=function(){return this.ignoreHidden},e.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},e.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},e.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},e.prototype.getImageExtension=function(){return this.imageExtension},e.prototype.setImageExtension=function(e){this.imageExtension=e},e.prototype.getImagePath=function(){return this.imagePath},e.prototype.setImagePath=function(e){this.imagePath=e},e.prototype.getImageSizes=function(){return this.imageSizes},e.prototype.setImageSizes=function(e){this.imageSizes=e},e.prototype.getCalculator=function(){return this.calculator},e.prototype.setCalculator=function(e){this.calculator=e},e.prototype.getBatchSizeIE=function(){return this.batchSizeIE},e.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},e.prototype.getClusterClass=function(){return this.clusterClass},e.prototype.setClusterClass=function(e){this.clusterClass=e},e.prototype.getMarkers=function(){return this.markers},e.prototype.getTotalMarkers=function(){return this.markers.length},e.prototype.getClusters=function(){return this.clusters},e.prototype.getTotalClusters=function(){return this.clusters.length},e.prototype.addMarker=function(e,t){this.pushMarkerTo(e),t||this.redraw()},e.prototype.addMarkers=function(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=e[n];r&&this.pushMarkerTo(r)}t||this.redraw()},e.prototype.pushMarkerTo=function(e){var t=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",(function(){t.ready&&(e.isAdded=!1,t.repaint())})),e.isAdded=!1,this.markers.push(e)},e.prototype.removeMarker_=function(e){var t=-1;if(this.markers.indexOf)t=this.markers.indexOf(e);else for(var n=0;n<this.markers.length;n++)if(e===this.markers[n]){t=n;break}return-1!==t&&(e.setMap(null),this.markers.splice(t,1),!0)},e.prototype.removeMarker=function(e,t){var n=this.removeMarker_(e);return!t&&n&&this.repaint(),n},e.prototype.removeMarkers=function(e,t){for(var n=!1,r=0,s=e;r<s.length;r++){var o=s[r];n=n||this.removeMarker_(o)}return!t&&n&&this.repaint(),n},e.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},e.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout((function(){for(var t=0,n=e;t<n.length;t++){n[t].remove()}}),0)},e.prototype.getExtendedBounds=function(e){var t=this.getProjection(),n=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));null!==n&&(n.x+=this.gridSize,n.y-=this.gridSize);var r=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(null!==r&&(r.x-=this.gridSize,r.y+=this.gridSize),null!==n){var s=t.fromDivPixelToLatLng(n);null!==s&&e.extend(s)}if(null!==r){var o=t.fromDivPixelToLatLng(r);null!==o&&e.extend(o)}return e},e.prototype.redraw=function(){this.createClusters(0)},e.prototype.resetViewport=function(e){for(var t=0,n=this.clusters;t<n.length;t++){n[t].remove()}this.clusters=[];for(var r=0,s=this.markers;r<s.length;r++){var o=s[r];o.isAdded=!1,e&&o.setMap(null)}},e.prototype.distanceBetweenPoints=function(e,t){var n=(t.lat()-e.lat())*Math.PI/180,r=(t.lng()-e.lng())*Math.PI/180,s=Math.sin(n/2)*Math.sin(n/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(r/2)*Math.sin(r/2);return 2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s))*6371},e.prototype.isMarkerInBounds=function(e,t){var n=e.getPosition();return!!n&&t.contains(n)},e.prototype.addToClosestCluster=function(e){for(var t,n=4e4,r=null,s=0,o=this.clusters;s<o.length;s++){var i=(t=o[s]).getCenter(),a=e.getPosition();if(i&&a){var l=this.distanceBetweenPoints(i,a);l<n&&(n=l,r=t)}}r&&r.isMarkerInClusterBounds(e)?r.addMarker(e):((t=new ya(this)).addMarker(e),this.clusters.push(t))},e.prototype.createClusters=function(e){var t=this;if(this.ready){0===e&&(google.maps.event.trigger(this,"clusteringbegin",this),null!==this.timerRefStatic&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var n=this.getMap(),r=(null!==n&&"getBounds"in n?n.getBounds():null),s=((null===n||void 0===n?void 0:n.getZoom())||0)>3?new google.maps.LatLngBounds(null===r||void 0===r?void 0:r.getSouthWest(),null===r||void 0===r?void 0:r.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),o=this.getExtendedBounds(s),i=Math.min(e+this.batchSize,this.markers.length),a=e;a<i;a++){var l=this.markers[a];l&&!l.isAdded&&this.isMarkerInBounds(l,o)&&(!this.ignoreHidden||this.ignoreHidden&&l.getVisible())&&this.addToClosestCluster(l)}if(i<this.markers.length)this.timerRefStatic=window.setTimeout((function(){t.createClusters(i)}),0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var c=0,u=this.clusters;c<u.length;c++){u[c].updateIcon()}}}},e.prototype.extend=function(e,t){return function(e){for(var t in e.prototype){var n=t;this.prototype[n]=e.prototype[n]}return this}.apply(e,[t])},e}();function _a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ea={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},ka={averageCenter(e,t){e.setAverageCenter(t)},batchSizeIE(e,t){e.setBatchSizeIE(t)},calculator(e,t){e.setCalculator(t)},clusterClass(e,t){e.setClusterClass(t)},enableRetinaIcons(e,t){e.setEnableRetinaIcons(t)},gridSize(e,t){e.setGridSize(t)},ignoreHidden(e,t){e.setIgnoreHidden(t)},imageExtension(e,t){e.setImageExtension(t)},imagePath(e,t){e.setImagePath(t)},imageSizes(e,t){e.setImageSizes(t)},maxZoom(e,t){e.setMaxZoom(t)},minimumClusterSize(e,t){e.setMinimumClusterSize(t)},styles(e,t){e.setStyles(t)},title(e,t){e.setTitle(t)},zoomOnClick(e,t){e.setZoomOnClick(t)}},Sa={};(0,t.memo)((function(e){var{children:n,options:r,averageCenter:s,batchSizeIE:o,calculator:i,clusterClass:a,enableRetinaIcons:l,gridSize:c,ignoreHidden:u,imageExtension:d,imagePath:h,imageSizes:p,maxZoom:m,minimumClusterSize:f,styles:g,title:v,zoomOnClick:y,onClick:b,onClusteringBegin:x,onClusteringEnd:w,onMouseOver:_,onMouseOut:E,onLoad:k,onUnmount:S}=e,[C,N]=(0,t.useState)(null),j=(0,t.useContext)(bi),[T,P]=(0,t.useState)(null),[I,L]=(0,t.useState)(null),[A,O]=(0,t.useState)(null),[R,D]=(0,t.useState)(null),[M,U]=(0,t.useState)(null);return(0,t.useEffect)((()=>{C&&E&&(null!==R&&google.maps.event.removeListener(R),D(google.maps.event.addListener(C,Ea.onMouseOut,E)))}),[E]),(0,t.useEffect)((()=>{C&&_&&(null!==M&&google.maps.event.removeListener(M),U(google.maps.event.addListener(C,Ea.onMouseOver,_)))}),[_]),(0,t.useEffect)((()=>{C&&b&&(null!==T&&google.maps.event.removeListener(T),P(google.maps.event.addListener(C,Ea.onClick,b)))}),[b]),(0,t.useEffect)((()=>{C&&x&&(null!==I&&google.maps.event.removeListener(I),L(google.maps.event.addListener(C,Ea.onClusteringBegin,x)))}),[x]),(0,t.useEffect)((()=>{C&&w&&(null!==A&&google.maps.event.removeListener(A),L(google.maps.event.addListener(C,Ea.onClusteringEnd,w)))}),[w]),(0,t.useEffect)((()=>{"undefined"!==typeof s&&null!==C&&ka.averageCenter(C,s)}),[C,s]),(0,t.useEffect)((()=>{"undefined"!==typeof o&&null!==C&&ka.batchSizeIE(C,o)}),[C,o]),(0,t.useEffect)((()=>{"undefined"!==typeof i&&null!==C&&ka.calculator(C,i)}),[C,i]),(0,t.useEffect)((()=>{"undefined"!==typeof a&&null!==C&&ka.clusterClass(C,a)}),[C,a]),(0,t.useEffect)((()=>{"undefined"!==typeof l&&null!==C&&ka.enableRetinaIcons(C,l)}),[C,l]),(0,t.useEffect)((()=>{"undefined"!==typeof c&&null!==C&&ka.gridSize(C,c)}),[C,c]),(0,t.useEffect)((()=>{"undefined"!==typeof u&&null!==C&&ka.ignoreHidden(C,u)}),[C,u]),(0,t.useEffect)((()=>{"undefined"!==typeof d&&null!==C&&ka.imageExtension(C,d)}),[C,d]),(0,t.useEffect)((()=>{"undefined"!==typeof h&&null!==C&&ka.imagePath(C,h)}),[C,h]),(0,t.useEffect)((()=>{"undefined"!==typeof p&&null!==C&&ka.imageSizes(C,p)}),[C,p]),(0,t.useEffect)((()=>{"undefined"!==typeof m&&null!==C&&ka.maxZoom(C,m)}),[C,m]),(0,t.useEffect)((()=>{"undefined"!==typeof f&&null!==C&&ka.minimumClusterSize(C,f)}),[C,f]),(0,t.useEffect)((()=>{"undefined"!==typeof g&&null!==C&&ka.styles(C,g)}),[C,g]),(0,t.useEffect)((()=>{"undefined"!==typeof v&&null!==C&&ka.title(C,v)}),[C,v]),(0,t.useEffect)((()=>{"undefined"!==typeof y&&null!==C&&ka.zoomOnClick(C,y)}),[C,y]),(0,t.useEffect)((()=>{if(j){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_a(Object(n),!0).forEach((function(t){gi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r||Sa),t=new wa(j,[],e);return s&&ka.averageCenter(t,s),o&&ka.batchSizeIE(t,o),i&&ka.calculator(t,i),a&&ka.clusterClass(t,a),l&&ka.enableRetinaIcons(t,l),c&&ka.gridSize(t,c),u&&ka.ignoreHidden(t,u),d&&ka.imageExtension(t,d),h&&ka.imagePath(t,h),p&&ka.imageSizes(t,p),m&&ka.maxZoom(t,m),f&&ka.minimumClusterSize(t,f),g&&ka.styles(t,g),v&&ka.title(t,v),y&&ka.zoomOnClick(t,y),E&&D(google.maps.event.addListener(t,Ea.onMouseOut,E)),_&&U(google.maps.event.addListener(t,Ea.onMouseOver,_)),b&&P(google.maps.event.addListener(t,Ea.onClick,b)),x&&L(google.maps.event.addListener(t,Ea.onClusteringBegin,x)),w&&O(google.maps.event.addListener(t,Ea.onClusteringEnd,w)),N(t),k&&k(t),()=>{null!==R&&google.maps.event.removeListener(R),null!==M&&google.maps.event.removeListener(M),null!==T&&google.maps.event.removeListener(T),null!==I&&google.maps.event.removeListener(I),null!==A&&google.maps.event.removeListener(A),S&&S(t)}}}),[]),null!==C&&n(C)||null}));class Ca extends t.PureComponent{constructor(){super(...arguments),gi(this,"registeredEvents",[]),gi(this,"state",{markerClusterer:null}),gi(this,"setClustererCallback",(()=>{null!==this.state.markerClusterer&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)}))}componentDidMount(){if(this.context){var e=new wa(this.context,[],this.props.options);this.registeredEvents=ki({updaterMap:ka,eventMap:Ea,prevProps:{},nextProps:this.props,instance:e}),this.setState((()=>({markerClusterer:e})),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(Ei(this.registeredEvents),this.registeredEvents=ki({updaterMap:ka,eventMap:Ea,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){null!==this.state.markerClusterer&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),Ei(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return null!==this.state.markerClusterer?this.props.children(this.state.markerClusterer):null}}function Na(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}gi(Ca,"contextType",bi);var ja=function(){function e(t){void 0===t&&(t={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(e,google.maps.OverlayView),this.content=t.content||"",this.disableAutoPan=t.disableAutoPan||!1,this.maxWidth=t.maxWidth||0,this.pixelOffset=t.pixelOffset||new google.maps.Size(0,0),this.position=t.position||new google.maps.LatLng(0,0),this.zIndex=t.zIndex||null,this.boxClass=t.boxClass||"infoBox",this.boxStyle=t.boxStyle||{},this.closeBoxMargin=t.closeBoxMargin||"2px",this.closeBoxURL=t.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",""===t.closeBoxURL&&(this.closeBoxURL=""),this.infoBoxClearance=t.infoBoxClearance||new google.maps.Size(1,1),"undefined"===typeof t.visible&&("undefined"===typeof t.isHidden?t.visible=!0:t.visible=!t.isHidden),this.isHidden=!t.visible,this.alignBottom=t.alignBottom||!1,this.pane=t.pane||"floatPane",this.enableEventPropagation=t.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return e.prototype.createInfoBoxDiv=function(){var e=this;if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),"string"===typeof this.content?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var t=this.getPanes();if(null!==t&&t[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(0!==this.maxWidth&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var n=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-n.left-n.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var r=0,s=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"];r<s.length;r++){var o=s[r];this.eventListeners.push(google.maps.event.addListener(this.div,o,Na))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",(function(){e.div&&(e.div.style.cursor="default")})))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",(function(t){t.returnValue=!1,t.preventDefault&&t.preventDefault(),e.enableEventPropagation||Na(t)})),google.maps.event.trigger(this,"domready")}},e.prototype.getCloseBoxImg=function(){var e="";return""!==this.closeBoxURL&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},e.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&""!==this.closeBoxURL?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},e.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},e.prototype.getCloseClickHandler=function(){return this.closeClickHandler},e.prototype.panBox=function(e){if(this.div&&!e){var t=this.getMap();if(t instanceof google.maps.Map){var n=0,r=0,s=t.getBounds();s&&!s.contains(this.position)&&t.setCenter(this.position);var o=t.getDiv(),i=o.offsetWidth,a=o.offsetHeight,l=this.pixelOffset.width,c=this.pixelOffset.height,u=this.div.offsetWidth,d=this.div.offsetHeight,h=this.infoBoxClearance.width,p=this.infoBoxClearance.height,m=this.getProjection().fromLatLngToContainerPixel(this.position);null!==m&&(m.x<-l+h?n=m.x+l-h:m.x+u+l+h>i&&(n=m.x+u+l+h-i),this.alignBottom?m.y<-c+p+d?r=m.y+c-p-d:m.y+c+p>a&&(r=m.y+c+p-a):m.y<-c+p?r=m.y+c-p:m.y+d+c+p>a&&(r=m.y+d+c+p-a)),0===n&&0===r||t.panBy(n,r)}}},e.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this.div.style[t]=e[t]);if(this.div.style.webkitTransform="translateZ(0)","undefined"!==typeof this.div.style.opacity&&""!==this.div.style.opacity){var n=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*n+')"',this.div.style.filter="alpha(opacity="+100*n+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",null!==this.zIndex&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},e.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var t=this.div.ownerDocument,n=t&&t.defaultView?t.defaultView.getComputedStyle(this.div,""):null;n&&(e.top=parseInt(n.borderTopWidth||"",10)||0,e.bottom=parseInt(n.borderBottomWidth||"",10)||0,e.left=parseInt(n.borderLeftWidth||"",10)||0,e.right=parseInt(n.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var r=this.div.currentStyle;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}return e},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},e.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection().fromLatLngToDivPixel(this.position);null!==e&&(this.div.style.left=e.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(e.y+this.pixelOffset.height)+"px":this.div.style.top=e.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},e.prototype.setOptions=function(e){void 0===e&&(e={}),"undefined"!==typeof e.boxClass&&(this.boxClass=e.boxClass,this.setBoxStyle()),"undefined"!==typeof e.boxStyle&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),"undefined"!==typeof e.content&&this.setContent(e.content),"undefined"!==typeof e.disableAutoPan&&(this.disableAutoPan=e.disableAutoPan),"undefined"!==typeof e.maxWidth&&(this.maxWidth=e.maxWidth),"undefined"!==typeof e.pixelOffset&&(this.pixelOffset=e.pixelOffset),"undefined"!==typeof e.alignBottom&&(this.alignBottom=e.alignBottom),"undefined"!==typeof e.position&&this.setPosition(e.position),"undefined"!==typeof e.zIndex&&this.setZIndex(e.zIndex),"undefined"!==typeof e.closeBoxMargin&&(this.closeBoxMargin=e.closeBoxMargin),"undefined"!==typeof e.closeBoxURL&&(this.closeBoxURL=e.closeBoxURL),"undefined"!==typeof e.infoBoxClearance&&(this.infoBoxClearance=e.infoBoxClearance),"undefined"!==typeof e.isHidden&&(this.isHidden=e.isHidden),"undefined"!==typeof e.visible&&(this.isHidden=!e.visible),"undefined"!==typeof e.enableEventPropagation&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},e.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),"string"===typeof e?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px","string"===typeof e?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},e.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},e.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},e.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},e.prototype.getContent=function(){return this.content},e.prototype.getPosition=function(){return this.position},e.prototype.getZIndex=function(){return this.zIndex},e.prototype.getVisible=function(){var e=this.getMap();return"undefined"!==typeof e&&null!==e&&!this.isHidden},e.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},e.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},e.prototype.open=function(e,t){var n=this;t&&(this.position=t.getPosition(),this.moveListener=google.maps.event.addListener(t,"position_changed",(function(){var e=t.getPosition();n.setPosition(e)})),this.mapListener=google.maps.event.addListener(t,"map_changed",(function(){n.setMap(t.map)}))),this.setMap(e),this.div&&this.panBox()},e.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,t=this.eventListeners;e<t.length;e++){var n=t[e];google.maps.event.removeListener(n)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},e.prototype.extend=function(e,t){return function(e){for(var t in e.prototype)Object.prototype.hasOwnProperty.call(this,t)||(this.prototype[t]=e.prototype[t]);return this}.apply(e,[t])},e}(),Ta=["position"],Pa=["position"];function Ia(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function La(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ia(Object(n),!0).forEach((function(t){gi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ia(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Aa={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},Oa={options(e,t){e.setOptions(t)},position(e,t){t instanceof google.maps.LatLng?e.setPosition(t):e.setPosition(new google.maps.LatLng(t.lat,t.lng))},visible(e,t){e.setVisible(t)},zIndex(e,t){e.setZIndex(t)}},Ra={};var Da,Ma;(0,t.memo)((function(e){var{children:n,anchor:r,options:s,position:o,zIndex:i,onCloseClick:a,onDomReady:l,onContentChanged:c,onPositionChanged:u,onZindexChanged:d,onLoad:h,onUnmount:p}=e,m=(0,t.useContext)(bi),[f,g]=(0,t.useState)(null),[v,y]=(0,t.useState)(null),[b,x]=(0,t.useState)(null),[w,_]=(0,t.useState)(null),[E,k]=(0,t.useState)(null),[S,C]=(0,t.useState)(null),N=(0,t.useRef)(null);return(0,t.useEffect)((()=>{m&&null!==f&&(f.close(),r?f.open(m,r):f.getPosition()&&f.open(m))}),[m,f,r]),(0,t.useEffect)((()=>{s&&null!==f&&f.setOptions(s)}),[f,s]),(0,t.useEffect)((()=>{if(o&&null!==f){var e=o instanceof google.maps.LatLng?o:new google.maps.LatLng(o.lat,o.lng);f.setPosition(e)}}),[o]),(0,t.useEffect)((()=>{"number"===typeof i&&null!==f&&f.setZIndex(i)}),[i]),(0,t.useEffect)((()=>{f&&a&&(null!==v&&google.maps.event.removeListener(v),y(google.maps.event.addListener(f,"closeclick",a)))}),[a]),(0,t.useEffect)((()=>{f&&l&&(null!==b&&google.maps.event.removeListener(b),x(google.maps.event.addListener(f,"domready",l)))}),[l]),(0,t.useEffect)((()=>{f&&c&&(null!==w&&google.maps.event.removeListener(w),_(google.maps.event.addListener(f,"content_changed",c)))}),[c]),(0,t.useEffect)((()=>{f&&u&&(null!==E&&google.maps.event.removeListener(E),k(google.maps.event.addListener(f,"position_changed",u)))}),[u]),(0,t.useEffect)((()=>{f&&d&&(null!==S&&google.maps.event.removeListener(S),C(google.maps.event.addListener(f,"zindex_changed",d)))}),[d]),(0,t.useEffect)((()=>{if(m){var e,t=s||Ra,{position:n}=t,o=zi(t,Ta);!n||n instanceof google.maps.LatLng||(e=new google.maps.LatLng(n.lat,n.lng));var i=new ja(La(La({},o),e?{position:e}:{}));N.current=document.createElement("div"),g(i),a&&y(google.maps.event.addListener(i,"closeclick",a)),l&&x(google.maps.event.addListener(i,"domready",l)),c&&_(google.maps.event.addListener(i,"content_changed",c)),u&&k(google.maps.event.addListener(i,"position_changed",u)),d&&C(google.maps.event.addListener(i,"zindex_changed",d)),i.setContent(N.current),r?i.open(m,r):i.getPosition()?i.open(m):yi(!1,"You must provide either an anchor or a position prop for <InfoBox>."),h&&h(i)}return()=>{null!==f&&(v&&google.maps.event.removeListener(v),w&&google.maps.event.removeListener(w),b&&google.maps.event.removeListener(b),E&&google.maps.event.removeListener(E),S&&google.maps.event.removeListener(S),p&&p(f),f.close())}}),[]),N.current?(0,pi.createPortal)(t.Children.only(n),N.current):null}));class Ua extends t.PureComponent{constructor(){super(...arguments),gi(this,"registeredEvents",[]),gi(this,"containerElement",null),gi(this,"state",{infoBox:null}),gi(this,"open",((e,t)=>{t?null!==this.context&&e.open(this.context,t):e.getPosition()?null!==this.context&&e.open(this.context):yi(!1,"You must provide either an anchor or a position prop for <InfoBox>.")})),gi(this,"setInfoBoxCallback",(()=>{null!==this.state.infoBox&&null!==this.containerElement&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))}))}componentDidMount(){var e,t=this.props.options||{},{position:n}=t,r=zi(t,Pa);!n||n instanceof google.maps.LatLng||(e=new google.maps.LatLng(n.lat,n.lng));var s=new ja(La(La({},r),e?{position:e}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=ki({updaterMap:Oa,eventMap:Aa,prevProps:{},nextProps:this.props,instance:s}),this.setState({infoBox:s},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:t}=this.state;null!==t&&(Ei(this.registeredEvents),this.registeredEvents=ki({updaterMap:Oa,eventMap:Aa,prevProps:e,nextProps:this.props,instance:t}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:t}=this.state;null!==t&&(e&&e(t),Ei(this.registeredEvents),t.close())}render(){return this.containerElement?(0,pi.createPortal)(t.Children.only(this.props.children),this.containerElement):null}}gi(Ua,"contextType",bi);var Fa=(Ma||(Ma=1,Da=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,s,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(s=r;0!==s--;)if(!e(t[s],n[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(s=r;0!==s--;)if(!Object.prototype.hasOwnProperty.call(n,o[s]))return!1;for(s=r;0!==s--;){var i=o[s];if(!e(t[i],n[i]))return!1}return!0}return t!==t&&n!==n}),Da),za=vi(Fa),Ba=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class Va{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[t,n]=new Uint8Array(e,0,2);if(219!==t)throw new Error("Data does not appear to be in a KDBush format.");var r=n>>4;if(1!==r)throw new Error("Got v".concat(r," data when expected v").concat(1,"."));var s=Ba[15&n];if(!s)throw new Error("Unrecognized array type.");var[o]=new Uint16Array(e,2,1),[i]=new Uint32Array(e,4,1);return new Va(i,o,s,e)}constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Float64Array,r=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+t,2),65535),this.ArrayType=n,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var s=Ba.indexOf(this.ArrayType),o=2*e*this.ArrayType.BYTES_PER_ELEMENT,i=e*this.IndexArrayType.BYTES_PER_ELEMENT,a=(8-i%8)%8;if(s<0)throw new Error("Unexpected typed array class: ".concat(n,"."));r&&r instanceof ArrayBuffer?(this.data=r,this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+i+a,2*e),this._pos=2*e,this._finished=!0):(this.data=new ArrayBuffer(8+o+i+a),this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+i+a,2*e),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+s]),new Uint16Array(this.data,2,1)[0]=t,new Uint32Array(this.data,4,1)[0]=e)}add(e,t){var n=this._pos>>1;return this.ids[n]=n,this.coords[this._pos++]=e,this.coords[this._pos++]=t,n}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return qa(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,t,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:s,coords:o,nodeSize:i}=this,a=[0,s.length-1,0],l=[];a.length;){var c=a.pop()||0,u=a.pop()||0,d=a.pop()||0;if(u-d<=i)for(var h=d;h<=u;h++){var p=o[2*h],m=o[2*h+1];p>=e&&p<=n&&m>=t&&m<=r&&l.push(s[h])}else{var f=d+u>>1,g=o[2*f],v=o[2*f+1];g>=e&&g<=n&&v>=t&&v<=r&&l.push(s[f]),(0===c?e<=g:t<=v)&&(a.push(d),a.push(f-1),a.push(1-c)),(0===c?n>=g:r>=v)&&(a.push(f+1),a.push(u),a.push(1-c))}}return l}within(e,t,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:r,coords:s,nodeSize:o}=this,i=[0,r.length-1,0],a=[],l=n*n;i.length;){var c=i.pop()||0,u=i.pop()||0,d=i.pop()||0;if(u-d<=o)for(var h=d;h<=u;h++)Ka(s[2*h],s[2*h+1],e,t)<=l&&a.push(r[h]);else{var p=d+u>>1,m=s[2*p],f=s[2*p+1];Ka(m,f,e,t)<=l&&a.push(r[p]),(0===c?e-n<=m:t-n<=f)&&(i.push(d),i.push(p-1),i.push(1-c)),(0===c?e+n>=m:t+n>=f)&&(i.push(p+1),i.push(u),i.push(1-c))}}return a}}function qa(e,t,n,r,s,o){if(!(s-r<=n)){var i=r+s>>1;Ha(e,t,i,r,s,o),qa(e,t,n,r,i-1,1-o),qa(e,t,n,i+1,s,1-o)}}function Ha(e,t,n,r,s,o){for(;s>r;){if(s-r>600){var i=s-r+1,a=n-r+1,l=Math.log(i),c=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*c*(i-c)/i)*(a-i/2<0?-1:1);Ha(e,t,n,Math.max(r,Math.floor(n-a*c/i+u)),Math.min(s,Math.floor(n+(i-a)*c/i+u)),o)}var d=t[2*n+o],h=r,p=s;for(Wa(e,t,r,n),t[2*s+o]>d&&Wa(e,t,r,s);h<p;){for(Wa(e,t,h,p),h++,p--;t[2*h+o]<d;)h++;for(;t[2*p+o]>d;)p--}t[2*r+o]===d?Wa(e,t,r,p):Wa(e,t,++p,s),p<=n&&(r=p+1),n<=p&&(s=p-1)}}function Wa(e,t,n,r){Ga(e,n,r),Ga(t,2*n,2*r),Ga(t,2*n+1,2*r+1)}function Ga(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function Ka(e,t,n,r){var s=e-n,o=t-r;return s*s+o*o}var Ya,Qa={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},Ja=Math.fround||(Ya=new Float32Array(1),e=>(Ya[0]=+e,Ya[0]));class Xa{constructor(e){this.options=Object.assign(Object.create(Qa),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:t,minZoom:n,maxZoom:r}=this.options;t&&console.time("total time");var s="prepare ".concat(e.length," points");t&&console.time(s),this.points=e;for(var o=[],i=0;i<e.length;i++){var a=e[i];if(a.geometry){var[l,c]=a.geometry.coordinates,u=Ja(el(l)),d=Ja(tl(c));o.push(u,d,1/0,i,-1,1),this.options.reduce&&o.push(0)}}var h=this.trees[r+1]=this._createTree(o);t&&console.timeEnd(s);for(var p=r;p>=n;p--){var m=+Date.now();h=this.trees[p]=this._createTree(this._cluster(h,p)),t&&console.log("z%d: %d clusters in %dms",p,h.numItems,+Date.now()-m)}return t&&console.timeEnd("total time"),this}getClusters(e,t){var n=((e[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,e[1])),s=180===e[2]?180:((e[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,s=180;else if(n>s){var i=this.getClusters([n,r,180,o],t),a=this.getClusters([-180,r,s,o],t);return i.concat(a)}var l=this.trees[this._limitZoom(t)],c=l.range(el(n),tl(o),el(s),tl(r)),u=l.data,d=[];for(var h of c){var p=this.stride*h;d.push(u[p+5]>1?$a(u,p,this.clusterProps):this.points[u[p+3]])}return d}getChildren(e){var t=this._getOriginId(e),n=this._getOriginZoom(e),r="No cluster with the specified id.",s=this.trees[n];if(!s)throw new Error(r);var o=s.data;if(t*this.stride>=o.length)throw new Error(r);var i=this.options.radius/(this.options.extent*Math.pow(2,n-1)),a=o[t*this.stride],l=o[t*this.stride+1],c=s.within(a,l,i),u=[];for(var d of c){var h=d*this.stride;o[h+4]===e&&u.push(o[h+5]>1?$a(o,h,this.clusterProps):this.points[o[h+3]])}if(0===u.length)throw new Error(r);return u}getLeaves(e,t,n){t=t||10,n=n||0;var r=[];return this._appendLeaves(r,e,t,n,0),r}getTile(e,t,n){var r=this.trees[this._limitZoom(e)],s=Math.pow(2,e),{extent:o,radius:i}=this.options,a=i/o,l=(n-a)/s,c=(n+1+a)/s,u={features:[]};return this._addTileFeatures(r.range((t-a)/s,l,(t+1+a)/s,c),r.data,t,n,s,u),0===t&&this._addTileFeatures(r.range(1-a/s,l,1,c),r.data,s,n,s,u),t===s-1&&this._addTileFeatures(r.range(0,l,a/s,c),r.data,-1,n,s,u),u.features.length?u:null}getClusterExpansionZoom(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t}_appendLeaves(e,t,n,r,s){var o=this.getChildren(t);for(var i of o){var a=i.properties;if(a&&a.cluster?s+a.point_count<=r?s+=a.point_count:s=this._appendLeaves(e,a.cluster_id,n,r,s):s<r?s++:e.push(i),e.length===n)break}return s}_createTree(e){for(var t=new Va(e.length/this.stride|0,this.options.nodeSize,Float32Array),n=0;n<e.length;n+=this.stride)t.add(e[n],e[n+1]);return t.finish(),t.data=e,t}_addTileFeatures(e,t,n,r,s,o){for(var i of e){var a=i*this.stride,l=t[a+5]>1,c=void 0,u=void 0,d=void 0;if(l)c=Za(t,a,this.clusterProps),u=t[a],d=t[a+1];else{var h=this.points[t[a+3]];c=h.properties;var[p,m]=h.geometry.coordinates;u=el(p),d=tl(m)}var f={type:1,geometry:[[Math.round(this.options.extent*(u*s-n)),Math.round(this.options.extent*(d*s-r))]],tags:c},g=void 0;void 0!==(g=l||this.options.generateId?t[a+3]:this.points[t[a+3]].id)&&(f.id=g),o.features.push(f)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){for(var{radius:n,extent:r,reduce:s,minPoints:o}=this.options,i=n/(r*Math.pow(2,t)),a=e.data,l=[],c=this.stride,u=0;u<a.length;u+=c)if(!(a[u+2]<=t)){a[u+2]=t;var d=a[u],h=a[u+1],p=e.within(a[u],a[u+1],i),m=a[u+5],f=m;for(var g of p){var v=g*c;a[v+2]>t&&(f+=a[v+5])}if(f>m&&f>=o){var y=d*m,b=h*m,x=void 0,w=-1,_=(u/c<<5)+(t+1)+this.points.length;for(var E of p){var k=E*c;if(!(a[k+2]<=t)){a[k+2]=t;var S=a[k+5];y+=a[k]*S,b+=a[k+1]*S,a[k+4]=_,s&&(x||(x=this._map(a,u,!0),w=this.clusterProps.length,this.clusterProps.push(x)),s(x,this._map(a,k)))}}a[u+4]=_,l.push(y/f,b/f,1/0,_,-1,f),s&&l.push(w)}else{for(var C=0;C<c;C++)l.push(a[u+C]);if(f>1)for(var N of p){var j=N*c;if(!(a[j+2]<=t)){a[j+2]=t;for(var T=0;T<c;T++)l.push(a[j+T])}}}}return l}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t,n){if(e[t+5]>1){var r=this.clusterProps[e[t+6]];return n?Object.assign({},r):r}var s=this.points[e[t+3]].properties,o=this.options.map(s);return n&&o===s?Object.assign({},o):o}}function $a(e,t,n){return{type:"Feature",id:e[t+3],properties:Za(e,t,n),geometry:{type:"Point",coordinates:[nl(e[t]),rl(e[t+1])]}}}function Za(e,t,n){var r=e[t+5],s=r>=1e4?"".concat(Math.round(r/1e3),"k"):r>=1e3?"".concat(Math.round(r/100)/10,"k"):r,o=e[t+6],i=-1===o?{}:Object.assign({},n[o]);return Object.assign(i,{cluster:!0,cluster_id:e[t+3],point_count:r,point_count_abbreviated:s})}function el(e){return e/360+.5}function tl(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function nl(e){return 360*(e-.5)}function rl(e){var t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function sl(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n}class ol{static isAdvancedMarkerAvailable(e){return google.maps.marker&&!0===e.getMapCapabilities().isAdvancedMarkersAvailable}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,t){this.isAdvancedMarker(e)?e.map=t:e.setMap(t)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return!!this.isAdvancedMarker(e)||e.getVisible()}}class il{constructor(e){var{markers:t,position:n}=e;this.markers=t,n&&(n instanceof google.maps.LatLng?this._position=n:this._position=new google.maps.LatLng(n))}get bounds(){if(0!==this.markers.length||this._position){var e=new google.maps.LatLngBounds(this._position,this._position);for(var t of this.markers)e.extend(ol.getPosition(t));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter((e=>ol.getVisible(e))).length}push(e){this.markers.push(e)}delete(){this.marker&&(ol.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class al{constructor(e){var{maxZoom:t=16}=e;this.maxZoom=t}noop(e){var{markers:t}=e;return cl(t)}}var ll,cl=e=>e.map((e=>new il({position:ol.getPosition(e),markers:[e]})));class ul extends al{constructor(e){var{maxZoom:t,radius:n=60}=e,r=sl(e,["maxZoom","radius"]);super({maxZoom:t}),this.state={zoom:-1},this.superCluster=new Xa(Object.assign({maxZoom:this.maxZoom,radius:n},r))}calculate(e){var t=!1,n={zoom:e.map.getZoom()};if(!za(e.markers,this.markers)){t=!0,this.markers=[...e.markers];var r=this.markers.map((e=>{var t=ol.getPosition(e);return{type:"Feature",geometry:{type:"Point",coordinates:[t.lng(),t.lat()]},properties:{marker:e}}}));this.superCluster.load(r)}return t||(this.state.zoom<=this.maxZoom||n.zoom<=this.maxZoom)&&(t=!za(this.state,n)),this.state=n,t&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:t}}cluster(e){var{map:t}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(t.getZoom())).map((e=>this.transformCluster(e)))}transformCluster(e){var{geometry:{coordinates:[t,n]},properties:r}=e;if(r.cluster)return new il({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map((e=>e.properties.marker)),position:{lat:n,lng:t}});var s=r.marker;return new il({markers:[s],position:ol.getPosition(s)})}}class dl{constructor(e,t){this.markers={sum:e.length};var n=t.map((e=>e.count)),r=n.reduce(((e,t)=>e+t),0);this.clusters={count:t.length,markers:{mean:r/t.length,sum:r,min:Math.min(...n),max:Math.max(...n)}}}}class hl{render(e,t,n){var{count:r,position:s}=e,o=r>Math.max(10,t.clusters.markers.mean)?"#ff0000":"#0000ff",i='<svg fill="'.concat(o,'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">\n<circle cx="120" cy="120" opacity=".6" r="70" />\n<circle cx="120" cy="120" opacity=".3" r="90" />\n<circle cx="120" cy="120" opacity=".2" r="110" />\n<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">').concat(r,"</text>\n</svg>"),a="Cluster of ".concat(r," markers"),l=Number(google.maps.Marker.MAX_ZINDEX)+r;if(ol.isAdvancedMarkerAvailable(n)){var c=(new DOMParser).parseFromString(i,"image/svg+xml").documentElement;c.setAttribute("transform","translate(0 25)");var u={map:n,position:s,zIndex:l,title:a,content:c};return new google.maps.marker.AdvancedMarkerElement(u)}var d={position:s,zIndex:l,title:a,icon:{url:"data:image/svg+xml;base64,".concat(btoa(i)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(d)}}class pl{constructor(){!function(e,t){for(var n in t.prototype)e.prototype[n]=t.prototype[n]}(pl,google.maps.OverlayView)}}!function(e){e.CLUSTERING_BEGIN="clusteringbegin",e.CLUSTERING_END="clusteringend",e.CLUSTER_CLICK="click"}(ll||(ll={}));var ml=(e,t,n)=>{n.fitBounds(t.bounds)};class fl extends pl{constructor(e){var{map:t,markers:n=[],algorithmOptions:r={},algorithm:s=new ul(r),renderer:o=new hl,onClusterClick:i=ml}=e;super(),this.markers=[...n],this.clusters=[],this.algorithm=s,this.renderer=o,this.onClusterClick=i,t&&this.setMap(t)}addMarker(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}addMarkers(e,t){e.forEach((e=>{this.addMarker(e,!0)})),t||this.render()}removeMarker(e,t){var n=this.markers.indexOf(e);return-1!==n&&(ol.setMap(e,null),this.markers.splice(n,1),t||this.render(),!0)}removeMarkers(e,t){var n=!1;return e.forEach((e=>{n=this.removeMarker(e,!0)||n})),n&&!t&&this.render(),n}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,ll.CLUSTERING_BEGIN,this);var{clusters:t,changed:n}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(n||void 0==n){var r=new Set;for(var s of t)1==s.markers.length&&r.add(s.markers[0]);var o=[];for(var i of this.clusters)null!=i.marker&&(1==i.markers.length?r.has(i.marker)||ol.setMap(i.marker,null):o.push(i.marker));this.clusters=t,this.renderClusters(),requestAnimationFrame((()=>o.forEach((e=>ol.setMap(e,null)))))}google.maps.event.trigger(this,ll.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach((e=>ol.setMap(e,null))),this.clusters.forEach((e=>e.delete())),this.clusters=[]}renderClusters(){var e=new dl(this.markers,this.clusters),t=this.getMap();this.clusters.forEach((n=>{1===n.markers.length?n.marker=n.markers[0]:(n.marker=this.renderer.render(n,e,t),n.markers.forEach((e=>ol.setMap(e,null))),this.onClusterClick&&n.marker.addListener("click",(e=>{google.maps.event.trigger(this,ll.CLUSTER_CLICK,n),this.onClusterClick(e,n,t)}))),ol.setMap(n.marker,t)}))}}function gl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gl(Object(n),!0).forEach((function(t){gi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yl(e){var n=function(){yi(!!t.useContext,"useGoogleMap is React hook and requires React version 16.8+");var e=(0,t.useContext)(bi);return yi(!!e,"useGoogleMap needs a GoogleMap available up in the tree"),e}(),[r,s]=(0,t.useState)(null);return(0,t.useEffect)((()=>{if(n&&null===r){var t=new fl(vl(vl({},e),{},{map:n}));s(t)}}),[n]),r}(0,t.memo)((function(e){var{children:t,options:n}=e,r=yl(n);return null!==r?t(r):null}));var bl={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},xl={options(e,t){e.setOptions(t)},position(e,t){e.setPosition(t)},zIndex(e,t){e.setZIndex(t)}};(0,t.memo)((function(e){var{children:n,anchor:r,options:s,position:o,zIndex:i,onCloseClick:a,onDomReady:l,onContentChanged:c,onPositionChanged:u,onZindexChanged:d,onLoad:h,onUnmount:p}=e,m=(0,t.useContext)(bi),[f,g]=(0,t.useState)(null),[v,y]=(0,t.useState)(null),[b,x]=(0,t.useState)(null),[w,_]=(0,t.useState)(null),[E,k]=(0,t.useState)(null),[S,C]=(0,t.useState)(null),N=(0,t.useRef)(null);return(0,t.useEffect)((()=>{null!==f&&(f.close(),r?f.open(m,r):f.getPosition()&&f.open(m))}),[m,f,r]),(0,t.useEffect)((()=>{s&&null!==f&&f.setOptions(s)}),[f,s]),(0,t.useEffect)((()=>{o&&null!==f&&f.setPosition(o)}),[o]),(0,t.useEffect)((()=>{"number"===typeof i&&null!==f&&f.setZIndex(i)}),[i]),(0,t.useEffect)((()=>{f&&a&&(null!==v&&google.maps.event.removeListener(v),y(google.maps.event.addListener(f,"closeclick",a)))}),[a]),(0,t.useEffect)((()=>{f&&l&&(null!==b&&google.maps.event.removeListener(b),x(google.maps.event.addListener(f,"domready",l)))}),[l]),(0,t.useEffect)((()=>{f&&c&&(null!==w&&google.maps.event.removeListener(w),_(google.maps.event.addListener(f,"content_changed",c)))}),[c]),(0,t.useEffect)((()=>{f&&u&&(null!==E&&google.maps.event.removeListener(E),k(google.maps.event.addListener(f,"position_changed",u)))}),[u]),(0,t.useEffect)((()=>{f&&d&&(null!==S&&google.maps.event.removeListener(S),C(google.maps.event.addListener(f,"zindex_changed",d)))}),[d]),(0,t.useEffect)((()=>{var e=new google.maps.InfoWindow(s);return g(e),N.current=document.createElement("div"),a&&y(google.maps.event.addListener(e,"closeclick",a)),l&&x(google.maps.event.addListener(e,"domready",l)),c&&_(google.maps.event.addListener(e,"content_changed",c)),u&&k(google.maps.event.addListener(e,"position_changed",u)),d&&C(google.maps.event.addListener(e,"zindex_changed",d)),e.setContent(N.current),o&&e.setPosition(o),i&&e.setZIndex(i),r?e.open(m,r):e.getPosition()?e.open(m):yi(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),h&&h(e),()=>{v&&google.maps.event.removeListener(v),w&&google.maps.event.removeListener(w),b&&google.maps.event.removeListener(b),E&&google.maps.event.removeListener(E),S&&google.maps.event.removeListener(S),p&&p(e),e.close()}}),[]),N.current?(0,pi.createPortal)(t.Children.only(n),N.current):null}));class wl extends t.PureComponent{constructor(){super(...arguments),gi(this,"registeredEvents",[]),gi(this,"containerElement",null),gi(this,"state",{infoWindow:null}),gi(this,"open",((e,t)=>{t?e.open(this.context,t):e.getPosition()?e.open(this.context):yi(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")})),gi(this,"setInfoWindowCallback",(()=>{null!==this.state.infoWindow&&null!==this.containerElement&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))}))}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=ki({updaterMap:xl,eventMap:bl,prevProps:{},nextProps:this.props,instance:e}),this.setState((()=>({infoWindow:e})),this.setInfoWindowCallback)}componentDidUpdate(e){null!==this.state.infoWindow&&(Ei(this.registeredEvents),this.registeredEvents=ki({updaterMap:xl,eventMap:bl,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){null!==this.state.infoWindow&&(Ei(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?(0,pi.createPortal)(t.Children.only(this.props.children),this.containerElement):null}}function _l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function El(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_l(Object(n),!0).forEach((function(t){gi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}gi(wl,"contextType",bi);var kl={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Sl={draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},path(e,t){e.setPath(t)},visible(e,t){e.setVisible(t)}},Cl={};(0,t.memo)((function(e){var{options:n,draggable:r,editable:s,visible:o,path:i,onDblClick:a,onDragEnd:l,onDragStart:c,onMouseDown:u,onMouseMove:d,onMouseOut:h,onMouseOver:p,onMouseUp:m,onRightClick:f,onClick:g,onDrag:v,onLoad:y,onUnmount:b}=e,x=(0,t.useContext)(bi),[w,_]=(0,t.useState)(null),[E,k]=(0,t.useState)(null),[S,C]=(0,t.useState)(null),[N,j]=(0,t.useState)(null),[T,P]=(0,t.useState)(null),[I,L]=(0,t.useState)(null),[A,O]=(0,t.useState)(null),[R,D]=(0,t.useState)(null),[M,U]=(0,t.useState)(null),[F,z]=(0,t.useState)(null),[B,V]=(0,t.useState)(null),[q,H]=(0,t.useState)(null);return(0,t.useEffect)((()=>{null!==w&&w.setMap(x)}),[x]),(0,t.useEffect)((()=>{"undefined"!==typeof n&&null!==w&&w.setOptions(n)}),[w,n]),(0,t.useEffect)((()=>{"undefined"!==typeof r&&null!==w&&w.setDraggable(r)}),[w,r]),(0,t.useEffect)((()=>{"undefined"!==typeof s&&null!==w&&w.setEditable(s)}),[w,s]),(0,t.useEffect)((()=>{"undefined"!==typeof o&&null!==w&&w.setVisible(o)}),[w,o]),(0,t.useEffect)((()=>{"undefined"!==typeof i&&null!==w&&w.setPath(i)}),[w,i]),(0,t.useEffect)((()=>{w&&a&&(null!==E&&google.maps.event.removeListener(E),k(google.maps.event.addListener(w,"dblclick",a)))}),[a]),(0,t.useEffect)((()=>{w&&l&&(null!==S&&google.maps.event.removeListener(S),C(google.maps.event.addListener(w,"dragend",l)))}),[l]),(0,t.useEffect)((()=>{w&&c&&(null!==N&&google.maps.event.removeListener(N),j(google.maps.event.addListener(w,"dragstart",c)))}),[c]),(0,t.useEffect)((()=>{w&&u&&(null!==T&&google.maps.event.removeListener(T),P(google.maps.event.addListener(w,"mousedown",u)))}),[u]),(0,t.useEffect)((()=>{w&&d&&(null!==I&&google.maps.event.removeListener(I),L(google.maps.event.addListener(w,"mousemove",d)))}),[d]),(0,t.useEffect)((()=>{w&&h&&(null!==A&&google.maps.event.removeListener(A),O(google.maps.event.addListener(w,"mouseout",h)))}),[h]),(0,t.useEffect)((()=>{w&&p&&(null!==R&&google.maps.event.removeListener(R),D(google.maps.event.addListener(w,"mouseover",p)))}),[p]),(0,t.useEffect)((()=>{w&&m&&(null!==M&&google.maps.event.removeListener(M),U(google.maps.event.addListener(w,"mouseup",m)))}),[m]),(0,t.useEffect)((()=>{w&&f&&(null!==F&&google.maps.event.removeListener(F),z(google.maps.event.addListener(w,"rightclick",f)))}),[f]),(0,t.useEffect)((()=>{w&&g&&(null!==B&&google.maps.event.removeListener(B),V(google.maps.event.addListener(w,"click",g)))}),[g]),(0,t.useEffect)((()=>{w&&v&&(null!==q&&google.maps.event.removeListener(q),H(google.maps.event.addListener(w,"drag",v)))}),[v]),(0,t.useEffect)((()=>{var e=new google.maps.Polyline(El(El({},n||Cl),{},{map:x}));return i&&e.setPath(i),"undefined"!==typeof o&&e.setVisible(o),"undefined"!==typeof s&&e.setEditable(s),"undefined"!==typeof r&&e.setDraggable(r),a&&k(google.maps.event.addListener(e,"dblclick",a)),l&&C(google.maps.event.addListener(e,"dragend",l)),c&&j(google.maps.event.addListener(e,"dragstart",c)),u&&P(google.maps.event.addListener(e,"mousedown",u)),d&&L(google.maps.event.addListener(e,"mousemove",d)),h&&O(google.maps.event.addListener(e,"mouseout",h)),p&&D(google.maps.event.addListener(e,"mouseover",p)),m&&U(google.maps.event.addListener(e,"mouseup",m)),f&&z(google.maps.event.addListener(e,"rightclick",f)),g&&V(google.maps.event.addListener(e,"click",g)),v&&H(google.maps.event.addListener(e,"drag",v)),_(e),y&&y(e),()=>{null!==E&&google.maps.event.removeListener(E),null!==S&&google.maps.event.removeListener(S),null!==N&&google.maps.event.removeListener(N),null!==T&&google.maps.event.removeListener(T),null!==I&&google.maps.event.removeListener(I),null!==A&&google.maps.event.removeListener(A),null!==R&&google.maps.event.removeListener(R),null!==M&&google.maps.event.removeListener(M),null!==F&&google.maps.event.removeListener(F),null!==B&&google.maps.event.removeListener(B),b&&b(e),e.setMap(null)}}),[]),null}));class Nl extends t.PureComponent{constructor(){super(...arguments),gi(this,"registeredEvents",[]),gi(this,"state",{polyline:null}),gi(this,"setPolylineCallback",(()=>{null!==this.state.polyline&&this.props.onLoad&&this.props.onLoad(this.state.polyline)}))}componentDidMount(){var e=new google.maps.Polyline(El(El({},this.props.options),{},{map:this.context}));this.registeredEvents=ki({updaterMap:Sl,eventMap:kl,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{polyline:e}}),this.setPolylineCallback)}componentDidUpdate(e){null!==this.state.polyline&&(Ei(this.registeredEvents),this.registeredEvents=ki({updaterMap:Sl,eventMap:kl,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){null!==this.state.polyline&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),Ei(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}function jl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jl(Object(n),!0).forEach((function(t){gi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}gi(Nl,"contextType",bi);var Pl={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Il={draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},path(e,t){e.setPath(t)},paths(e,t){e.setPaths(t)},visible(e,t){e.setVisible(t)}};(0,t.memo)((function(e){var{options:n,draggable:r,editable:s,visible:o,path:i,paths:a,onDblClick:l,onDragEnd:c,onDragStart:u,onMouseDown:d,onMouseMove:h,onMouseOut:p,onMouseOver:m,onMouseUp:f,onRightClick:g,onClick:v,onDrag:y,onLoad:b,onUnmount:x,onEdit:w}=e,_=(0,t.useContext)(bi),[E,k]=(0,t.useState)(null),[S,C]=(0,t.useState)(null),[N,j]=(0,t.useState)(null),[T,P]=(0,t.useState)(null),[I,L]=(0,t.useState)(null),[A,O]=(0,t.useState)(null),[R,D]=(0,t.useState)(null),[M,U]=(0,t.useState)(null),[F,z]=(0,t.useState)(null),[B,V]=(0,t.useState)(null),[q,H]=(0,t.useState)(null),[W,G]=(0,t.useState)(null);return(0,t.useEffect)((()=>{null!==E&&E.setMap(_)}),[_]),(0,t.useEffect)((()=>{"undefined"!==typeof n&&null!==E&&E.setOptions(n)}),[E,n]),(0,t.useEffect)((()=>{"undefined"!==typeof r&&null!==E&&E.setDraggable(r)}),[E,r]),(0,t.useEffect)((()=>{"undefined"!==typeof s&&null!==E&&E.setEditable(s)}),[E,s]),(0,t.useEffect)((()=>{"undefined"!==typeof o&&null!==E&&E.setVisible(o)}),[E,o]),(0,t.useEffect)((()=>{"undefined"!==typeof i&&null!==E&&E.setPath(i)}),[E,i]),(0,t.useEffect)((()=>{"undefined"!==typeof a&&null!==E&&E.setPaths(a)}),[E,a]),(0,t.useEffect)((()=>{E&&"function"===typeof l&&(null!==S&&google.maps.event.removeListener(S),C(google.maps.event.addListener(E,"dblclick",l)))}),[l]),(0,t.useEffect)((()=>{E&&(google.maps.event.addListener(E.getPath(),"insert_at",(()=>{null===w||void 0===w||w(E)})),google.maps.event.addListener(E.getPath(),"set_at",(()=>{null===w||void 0===w||w(E)})),google.maps.event.addListener(E.getPath(),"remove_at",(()=>{null===w||void 0===w||w(E)})))}),[E,w]),(0,t.useEffect)((()=>{E&&"function"===typeof c&&(null!==N&&google.maps.event.removeListener(N),j(google.maps.event.addListener(E,"dragend",c)))}),[c]),(0,t.useEffect)((()=>{E&&"function"===typeof u&&(null!==T&&google.maps.event.removeListener(T),P(google.maps.event.addListener(E,"dragstart",u)))}),[u]),(0,t.useEffect)((()=>{E&&"function"===typeof d&&(null!==I&&google.maps.event.removeListener(I),L(google.maps.event.addListener(E,"mousedown",d)))}),[d]),(0,t.useEffect)((()=>{E&&"function"===typeof h&&(null!==A&&google.maps.event.removeListener(A),O(google.maps.event.addListener(E,"mousemove",h)))}),[h]),(0,t.useEffect)((()=>{E&&"function"===typeof p&&(null!==R&&google.maps.event.removeListener(R),D(google.maps.event.addListener(E,"mouseout",p)))}),[p]),(0,t.useEffect)((()=>{E&&"function"===typeof m&&(null!==M&&google.maps.event.removeListener(M),U(google.maps.event.addListener(E,"mouseover",m)))}),[m]),(0,t.useEffect)((()=>{E&&"function"===typeof f&&(null!==F&&google.maps.event.removeListener(F),z(google.maps.event.addListener(E,"mouseup",f)))}),[f]),(0,t.useEffect)((()=>{E&&"function"===typeof g&&(null!==B&&google.maps.event.removeListener(B),V(google.maps.event.addListener(E,"rightclick",g)))}),[g]),(0,t.useEffect)((()=>{E&&"function"===typeof v&&(null!==q&&google.maps.event.removeListener(q),H(google.maps.event.addListener(E,"click",v)))}),[v]),(0,t.useEffect)((()=>{E&&"function"===typeof y&&(null!==W&&google.maps.event.removeListener(W),G(google.maps.event.addListener(E,"drag",y)))}),[y]),(0,t.useEffect)((()=>{var e=new google.maps.Polygon(Tl(Tl({},n),{},{map:_}));return i&&e.setPath(i),a&&e.setPaths(a),"undefined"!==typeof o&&e.setVisible(o),"undefined"!==typeof s&&e.setEditable(s),"undefined"!==typeof r&&e.setDraggable(r),l&&C(google.maps.event.addListener(e,"dblclick",l)),c&&j(google.maps.event.addListener(e,"dragend",c)),u&&P(google.maps.event.addListener(e,"dragstart",u)),d&&L(google.maps.event.addListener(e,"mousedown",d)),h&&O(google.maps.event.addListener(e,"mousemove",h)),p&&D(google.maps.event.addListener(e,"mouseout",p)),m&&U(google.maps.event.addListener(e,"mouseover",m)),f&&z(google.maps.event.addListener(e,"mouseup",f)),g&&V(google.maps.event.addListener(e,"rightclick",g)),v&&H(google.maps.event.addListener(e,"click",v)),y&&G(google.maps.event.addListener(e,"drag",y)),k(e),b&&b(e),()=>{null!==S&&google.maps.event.removeListener(S),null!==N&&google.maps.event.removeListener(N),null!==T&&google.maps.event.removeListener(T),null!==I&&google.maps.event.removeListener(I),null!==A&&google.maps.event.removeListener(A),null!==R&&google.maps.event.removeListener(R),null!==M&&google.maps.event.removeListener(M),null!==F&&google.maps.event.removeListener(F),null!==B&&google.maps.event.removeListener(B),null!==q&&google.maps.event.removeListener(q),x&&x(e),e.setMap(null)}}),[]),null}));class Ll extends t.PureComponent{constructor(){super(...arguments),gi(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=ki({updaterMap:Il,eventMap:Pl,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(Ei(this.registeredEvents),this.registeredEvents=ki({updaterMap:Il,eventMap:Pl,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),Ei(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}function Al(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ol(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Al(Object(n),!0).forEach((function(t){gi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Al(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}gi(Ll,"contextType",bi);var Rl={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Dl={bounds(e,t){e.setBounds(t)},draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},visible(e,t){e.setVisible(t)}};(0,t.memo)((function(e){var{options:n,bounds:r,draggable:s,editable:o,visible:i,onDblClick:a,onDragEnd:l,onDragStart:c,onMouseDown:u,onMouseMove:d,onMouseOut:h,onMouseOver:p,onMouseUp:m,onRightClick:f,onClick:g,onDrag:v,onBoundsChanged:y,onLoad:b,onUnmount:x}=e,w=(0,t.useContext)(bi),[_,E]=(0,t.useState)(null),[k,S]=(0,t.useState)(null),[C,N]=(0,t.useState)(null),[j,T]=(0,t.useState)(null),[P,I]=(0,t.useState)(null),[L,A]=(0,t.useState)(null),[O,R]=(0,t.useState)(null),[D,M]=(0,t.useState)(null),[U,F]=(0,t.useState)(null),[z,B]=(0,t.useState)(null),[V,q]=(0,t.useState)(null),[H,W]=(0,t.useState)(null),[G,K]=(0,t.useState)(null);return(0,t.useEffect)((()=>{null!==_&&_.setMap(w)}),[w]),(0,t.useEffect)((()=>{"undefined"!==typeof n&&null!==_&&_.setOptions(n)}),[_,n]),(0,t.useEffect)((()=>{"undefined"!==typeof s&&null!==_&&_.setDraggable(s)}),[_,s]),(0,t.useEffect)((()=>{"undefined"!==typeof o&&null!==_&&_.setEditable(o)}),[_,o]),(0,t.useEffect)((()=>{"undefined"!==typeof i&&null!==_&&_.setVisible(i)}),[_,i]),(0,t.useEffect)((()=>{"undefined"!==typeof r&&null!==_&&_.setBounds(r)}),[_,r]),(0,t.useEffect)((()=>{_&&a&&(null!==k&&google.maps.event.removeListener(k),S(google.maps.event.addListener(_,"dblclick",a)))}),[a]),(0,t.useEffect)((()=>{_&&l&&(null!==C&&google.maps.event.removeListener(C),N(google.maps.event.addListener(_,"dragend",l)))}),[l]),(0,t.useEffect)((()=>{_&&c&&(null!==j&&google.maps.event.removeListener(j),T(google.maps.event.addListener(_,"dragstart",c)))}),[c]),(0,t.useEffect)((()=>{_&&u&&(null!==P&&google.maps.event.removeListener(P),I(google.maps.event.addListener(_,"mousedown",u)))}),[u]),(0,t.useEffect)((()=>{_&&d&&(null!==L&&google.maps.event.removeListener(L),A(google.maps.event.addListener(_,"mousemove",d)))}),[d]),(0,t.useEffect)((()=>{_&&h&&(null!==O&&google.maps.event.removeListener(O),R(google.maps.event.addListener(_,"mouseout",h)))}),[h]),(0,t.useEffect)((()=>{_&&p&&(null!==D&&google.maps.event.removeListener(D),M(google.maps.event.addListener(_,"mouseover",p)))}),[p]),(0,t.useEffect)((()=>{_&&m&&(null!==U&&google.maps.event.removeListener(U),F(google.maps.event.addListener(_,"mouseup",m)))}),[m]),(0,t.useEffect)((()=>{_&&f&&(null!==z&&google.maps.event.removeListener(z),B(google.maps.event.addListener(_,"rightclick",f)))}),[f]),(0,t.useEffect)((()=>{_&&g&&(null!==V&&google.maps.event.removeListener(V),q(google.maps.event.addListener(_,"click",g)))}),[g]),(0,t.useEffect)((()=>{_&&v&&(null!==H&&google.maps.event.removeListener(H),W(google.maps.event.addListener(_,"drag",v)))}),[v]),(0,t.useEffect)((()=>{_&&y&&(null!==G&&google.maps.event.removeListener(G),K(google.maps.event.addListener(_,"bounds_changed",y)))}),[y]),(0,t.useEffect)((()=>{var e=new google.maps.Rectangle(Ol(Ol({},n),{},{map:w}));return"undefined"!==typeof i&&e.setVisible(i),"undefined"!==typeof o&&e.setEditable(o),"undefined"!==typeof s&&e.setDraggable(s),"undefined"!==typeof r&&e.setBounds(r),a&&S(google.maps.event.addListener(e,"dblclick",a)),l&&N(google.maps.event.addListener(e,"dragend",l)),c&&T(google.maps.event.addListener(e,"dragstart",c)),u&&I(google.maps.event.addListener(e,"mousedown",u)),d&&A(google.maps.event.addListener(e,"mousemove",d)),h&&R(google.maps.event.addListener(e,"mouseout",h)),p&&M(google.maps.event.addListener(e,"mouseover",p)),m&&F(google.maps.event.addListener(e,"mouseup",m)),f&&B(google.maps.event.addListener(e,"rightclick",f)),g&&q(google.maps.event.addListener(e,"click",g)),v&&W(google.maps.event.addListener(e,"drag",v)),y&&K(google.maps.event.addListener(e,"bounds_changed",y)),E(e),b&&b(e),()=>{null!==k&&google.maps.event.removeListener(k),null!==C&&google.maps.event.removeListener(C),null!==j&&google.maps.event.removeListener(j),null!==P&&google.maps.event.removeListener(P),null!==L&&google.maps.event.removeListener(L),null!==O&&google.maps.event.removeListener(O),null!==D&&google.maps.event.removeListener(D),null!==U&&google.maps.event.removeListener(U),null!==z&&google.maps.event.removeListener(z),null!==V&&google.maps.event.removeListener(V),null!==H&&google.maps.event.removeListener(H),null!==G&&google.maps.event.removeListener(G),x&&x(e),e.setMap(null)}}),[]),null}));class Ml extends t.PureComponent{constructor(){super(...arguments),gi(this,"registeredEvents",[]),gi(this,"state",{rectangle:null}),gi(this,"setRectangleCallback",(()=>{null!==this.state.rectangle&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)}))}componentDidMount(){var e=new google.maps.Rectangle(Ol(Ol({},this.props.options),{},{map:this.context}));this.registeredEvents=ki({updaterMap:Dl,eventMap:Rl,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{rectangle:e}}),this.setRectangleCallback)}componentDidUpdate(e){null!==this.state.rectangle&&(Ei(this.registeredEvents),this.registeredEvents=ki({updaterMap:Dl,eventMap:Rl,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){null!==this.state.rectangle&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),Ei(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}function Ul(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ul(Object(n),!0).forEach((function(t){gi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ul(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}gi(Ml,"contextType",bi);var zl={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Bl={center(e,t){e.setCenter(t)},draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},radius(e,t){e.setRadius(t)},visible(e,t){e.setVisible(t)}},Vl={};(0,t.memo)((function(e){var{options:n,center:r,radius:s,draggable:o,editable:i,visible:a,onDblClick:l,onDragEnd:c,onDragStart:u,onMouseDown:d,onMouseMove:h,onMouseOut:p,onMouseOver:m,onMouseUp:f,onRightClick:g,onClick:v,onDrag:y,onCenterChanged:b,onRadiusChanged:x,onLoad:w,onUnmount:_}=e,E=(0,t.useContext)(bi),[k,S]=(0,t.useState)(null),[C,N]=(0,t.useState)(null),[j,T]=(0,t.useState)(null),[P,I]=(0,t.useState)(null),[L,A]=(0,t.useState)(null),[O,R]=(0,t.useState)(null),[D,M]=(0,t.useState)(null),[U,F]=(0,t.useState)(null),[z,B]=(0,t.useState)(null),[V,q]=(0,t.useState)(null),[H,W]=(0,t.useState)(null),[G,K]=(0,t.useState)(null),[Y,Q]=(0,t.useState)(null),[J,X]=(0,t.useState)(null);return(0,t.useEffect)((()=>{null!==k&&k.setMap(E)}),[E]),(0,t.useEffect)((()=>{"undefined"!==typeof n&&null!==k&&k.setOptions(n)}),[k,n]),(0,t.useEffect)((()=>{"undefined"!==typeof o&&null!==k&&k.setDraggable(o)}),[k,o]),(0,t.useEffect)((()=>{"undefined"!==typeof i&&null!==k&&k.setEditable(i)}),[k,i]),(0,t.useEffect)((()=>{"undefined"!==typeof a&&null!==k&&k.setVisible(a)}),[k,a]),(0,t.useEffect)((()=>{"number"===typeof s&&null!==k&&k.setRadius(s)}),[k,s]),(0,t.useEffect)((()=>{"undefined"!==typeof r&&null!==k&&k.setCenter(r)}),[k,r]),(0,t.useEffect)((()=>{k&&l&&(null!==C&&google.maps.event.removeListener(C),N(google.maps.event.addListener(k,"dblclick",l)))}),[l]),(0,t.useEffect)((()=>{k&&c&&(null!==j&&google.maps.event.removeListener(j),T(google.maps.event.addListener(k,"dragend",c)))}),[c]),(0,t.useEffect)((()=>{k&&u&&(null!==P&&google.maps.event.removeListener(P),I(google.maps.event.addListener(k,"dragstart",u)))}),[u]),(0,t.useEffect)((()=>{k&&d&&(null!==L&&google.maps.event.removeListener(L),A(google.maps.event.addListener(k,"mousedown",d)))}),[d]),(0,t.useEffect)((()=>{k&&h&&(null!==O&&google.maps.event.removeListener(O),R(google.maps.event.addListener(k,"mousemove",h)))}),[h]),(0,t.useEffect)((()=>{k&&p&&(null!==D&&google.maps.event.removeListener(D),M(google.maps.event.addListener(k,"mouseout",p)))}),[p]),(0,t.useEffect)((()=>{k&&m&&(null!==U&&google.maps.event.removeListener(U),F(google.maps.event.addListener(k,"mouseover",m)))}),[m]),(0,t.useEffect)((()=>{k&&f&&(null!==z&&google.maps.event.removeListener(z),B(google.maps.event.addListener(k,"mouseup",f)))}),[f]),(0,t.useEffect)((()=>{k&&g&&(null!==V&&google.maps.event.removeListener(V),q(google.maps.event.addListener(k,"rightclick",g)))}),[g]),(0,t.useEffect)((()=>{k&&v&&(null!==H&&google.maps.event.removeListener(H),W(google.maps.event.addListener(k,"click",v)))}),[v]),(0,t.useEffect)((()=>{k&&y&&(null!==G&&google.maps.event.removeListener(G),K(google.maps.event.addListener(k,"drag",y)))}),[y]),(0,t.useEffect)((()=>{k&&b&&(null!==Y&&google.maps.event.removeListener(Y),Q(google.maps.event.addListener(k,"center_changed",b)))}),[v]),(0,t.useEffect)((()=>{k&&x&&(null!==J&&google.maps.event.removeListener(J),X(google.maps.event.addListener(k,"radius_changed",x)))}),[x]),(0,t.useEffect)((()=>{var e=new google.maps.Circle(Fl(Fl({},n||Vl),{},{map:E}));return"number"===typeof s&&e.setRadius(s),"undefined"!==typeof r&&e.setCenter(r),"number"===typeof s&&e.setRadius(s),"undefined"!==typeof a&&e.setVisible(a),"undefined"!==typeof i&&e.setEditable(i),"undefined"!==typeof o&&e.setDraggable(o),l&&N(google.maps.event.addListener(e,"dblclick",l)),c&&T(google.maps.event.addListener(e,"dragend",c)),u&&I(google.maps.event.addListener(e,"dragstart",u)),d&&A(google.maps.event.addListener(e,"mousedown",d)),h&&R(google.maps.event.addListener(e,"mousemove",h)),p&&M(google.maps.event.addListener(e,"mouseout",p)),m&&F(google.maps.event.addListener(e,"mouseover",m)),f&&B(google.maps.event.addListener(e,"mouseup",f)),g&&q(google.maps.event.addListener(e,"rightclick",g)),v&&W(google.maps.event.addListener(e,"click",v)),y&&K(google.maps.event.addListener(e,"drag",y)),b&&Q(google.maps.event.addListener(e,"center_changed",b)),x&&X(google.maps.event.addListener(e,"radius_changed",x)),S(e),w&&w(e),()=>{null!==C&&google.maps.event.removeListener(C),null!==j&&google.maps.event.removeListener(j),null!==P&&google.maps.event.removeListener(P),null!==L&&google.maps.event.removeListener(L),null!==O&&google.maps.event.removeListener(O),null!==D&&google.maps.event.removeListener(D),null!==U&&google.maps.event.removeListener(U),null!==z&&google.maps.event.removeListener(z),null!==V&&google.maps.event.removeListener(V),null!==H&&google.maps.event.removeListener(H),null!==Y&&google.maps.event.removeListener(Y),null!==J&&google.maps.event.removeListener(J),_&&_(e),e.setMap(null)}}),[]),null}));class ql extends t.PureComponent{constructor(){super(...arguments),gi(this,"registeredEvents",[]),gi(this,"state",{circle:null}),gi(this,"setCircleCallback",(()=>{null!==this.state.circle&&this.props.onLoad&&this.props.onLoad(this.state.circle)}))}componentDidMount(){var e=new google.maps.Circle(Fl(Fl({},this.props.options),{},{map:this.context}));this.registeredEvents=ki({updaterMap:Bl,eventMap:zl,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{circle:e}}),this.setCircleCallback)}componentDidUpdate(e){null!==this.state.circle&&(Ei(this.registeredEvents),this.registeredEvents=ki({updaterMap:Bl,eventMap:zl,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){var e;null!==this.state.circle&&(this.props.onUnmount&&this.props.onUnmount(this.state.circle),Ei(this.registeredEvents),null===(e=this.state.circle)||void 0===e||e.setMap(null))}render(){return null}}function Hl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hl(Object(n),!0).forEach((function(t){gi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}gi(ql,"contextType",bi);var Gl={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},Kl={add(e,t){e.add(t)},addgeojson(e,t,n){e.addGeoJson(t,n)},contains(e,t){e.contains(t)},foreach(e,t){e.forEach(t)},loadgeojson(e,t,n,r){e.loadGeoJson(t,n,r)},overridestyle(e,t,n){e.overrideStyle(t,n)},remove(e,t){e.remove(t)},revertstyle(e,t){e.revertStyle(t)},controlposition(e,t){e.setControlPosition(t)},controls(e,t){e.setControls(t)},drawingmode(e,t){e.setDrawingMode(t)},map(e,t){e.setMap(t)},style(e,t){e.setStyle(t)},togeojson(e,t){e.toGeoJson(t)}};(0,t.memo)((function(e){var{options:n,onClick:r,onDblClick:s,onMouseDown:o,onMouseMove:i,onMouseOut:a,onMouseOver:l,onMouseUp:c,onRightClick:u,onAddFeature:d,onRemoveFeature:h,onRemoveProperty:p,onSetGeometry:m,onSetProperty:f,onLoad:g,onUnmount:v}=e,y=(0,t.useContext)(bi),[b,x]=(0,t.useState)(null),[w,_]=(0,t.useState)(null),[E,k]=(0,t.useState)(null),[S,C]=(0,t.useState)(null),[N,j]=(0,t.useState)(null),[T,P]=(0,t.useState)(null),[I,L]=(0,t.useState)(null),[A,O]=(0,t.useState)(null),[R,D]=(0,t.useState)(null),[M,U]=(0,t.useState)(null),[F,z]=(0,t.useState)(null),[B,V]=(0,t.useState)(null),[q,H]=(0,t.useState)(null),[W,G]=(0,t.useState)(null);return(0,t.useEffect)((()=>{null!==b&&b.setMap(y)}),[y]),(0,t.useEffect)((()=>{b&&s&&(null!==w&&google.maps.event.removeListener(w),_(google.maps.event.addListener(b,"dblclick",s)))}),[s]),(0,t.useEffect)((()=>{b&&o&&(null!==E&&google.maps.event.removeListener(E),k(google.maps.event.addListener(b,"mousedown",o)))}),[o]),(0,t.useEffect)((()=>{b&&i&&(null!==S&&google.maps.event.removeListener(S),C(google.maps.event.addListener(b,"mousemove",i)))}),[i]),(0,t.useEffect)((()=>{b&&a&&(null!==N&&google.maps.event.removeListener(N),j(google.maps.event.addListener(b,"mouseout",a)))}),[a]),(0,t.useEffect)((()=>{b&&l&&(null!==T&&google.maps.event.removeListener(T),P(google.maps.event.addListener(b,"mouseover",l)))}),[l]),(0,t.useEffect)((()=>{b&&c&&(null!==I&&google.maps.event.removeListener(I),L(google.maps.event.addListener(b,"mouseup",c)))}),[c]),(0,t.useEffect)((()=>{b&&u&&(null!==A&&google.maps.event.removeListener(A),O(google.maps.event.addListener(b,"rightclick",u)))}),[u]),(0,t.useEffect)((()=>{b&&r&&(null!==R&&google.maps.event.removeListener(R),D(google.maps.event.addListener(b,"click",r)))}),[r]),(0,t.useEffect)((()=>{b&&d&&(null!==M&&google.maps.event.removeListener(M),U(google.maps.event.addListener(b,"addfeature",d)))}),[d]),(0,t.useEffect)((()=>{b&&h&&(null!==F&&google.maps.event.removeListener(F),z(google.maps.event.addListener(b,"removefeature",h)))}),[h]),(0,t.useEffect)((()=>{b&&p&&(null!==B&&google.maps.event.removeListener(B),V(google.maps.event.addListener(b,"removeproperty",p)))}),[p]),(0,t.useEffect)((()=>{b&&m&&(null!==q&&google.maps.event.removeListener(q),H(google.maps.event.addListener(b,"setgeometry",m)))}),[m]),(0,t.useEffect)((()=>{b&&f&&(null!==W&&google.maps.event.removeListener(W),G(google.maps.event.addListener(b,"setproperty",f)))}),[f]),(0,t.useEffect)((()=>{if(null!==y){var e=new google.maps.Data(Wl(Wl({},n),{},{map:y}));s&&_(google.maps.event.addListener(e,"dblclick",s)),o&&k(google.maps.event.addListener(e,"mousedown",o)),i&&C(google.maps.event.addListener(e,"mousemove",i)),a&&j(google.maps.event.addListener(e,"mouseout",a)),l&&P(google.maps.event.addListener(e,"mouseover",l)),c&&L(google.maps.event.addListener(e,"mouseup",c)),u&&O(google.maps.event.addListener(e,"rightclick",u)),r&&D(google.maps.event.addListener(e,"click",r)),d&&U(google.maps.event.addListener(e,"addfeature",d)),h&&z(google.maps.event.addListener(e,"removefeature",h)),p&&V(google.maps.event.addListener(e,"removeproperty",p)),m&&H(google.maps.event.addListener(e,"setgeometry",m)),f&&G(google.maps.event.addListener(e,"setproperty",f)),x(e),g&&g(e)}return()=>{b&&(null!==w&&google.maps.event.removeListener(w),null!==E&&google.maps.event.removeListener(E),null!==S&&google.maps.event.removeListener(S),null!==N&&google.maps.event.removeListener(N),null!==T&&google.maps.event.removeListener(T),null!==I&&google.maps.event.removeListener(I),null!==A&&google.maps.event.removeListener(A),null!==R&&google.maps.event.removeListener(R),null!==M&&google.maps.event.removeListener(M),null!==F&&google.maps.event.removeListener(F),null!==B&&google.maps.event.removeListener(B),null!==q&&google.maps.event.removeListener(q),null!==W&&google.maps.event.removeListener(W),v&&v(b),b.setMap(null))}}),[]),null}));class Yl extends t.PureComponent{constructor(){super(...arguments),gi(this,"registeredEvents",[]),gi(this,"state",{data:null}),gi(this,"setDataCallback",(()=>{null!==this.state.data&&this.props.onLoad&&this.props.onLoad(this.state.data)}))}componentDidMount(){if(null!==this.context){var e=new google.maps.Data(Wl(Wl({},this.props.options),{},{map:this.context}));this.registeredEvents=ki({updaterMap:Kl,eventMap:Gl,prevProps:{},nextProps:this.props,instance:e}),this.setState((()=>({data:e})),this.setDataCallback)}}componentDidUpdate(e){null!==this.state.data&&(Ei(this.registeredEvents),this.registeredEvents=ki({updaterMap:Kl,eventMap:Gl,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){null!==this.state.data&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),Ei(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}function Ql(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ql(Object(n),!0).forEach((function(t){gi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ql(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}gi(Yl,"contextType",bi);var Xl={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},$l={options(e,t){e.setOptions(t)},url(e,t){e.setUrl(t)},zIndex(e,t){e.setZIndex(t)}};class Zl extends t.PureComponent{constructor(){super(...arguments),gi(this,"registeredEvents",[]),gi(this,"state",{kmlLayer:null}),gi(this,"setKmlLayerCallback",(()=>{null!==this.state.kmlLayer&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)}))}componentDidMount(){var e=new google.maps.KmlLayer(Jl(Jl({},this.props.options),{},{map:this.context}));this.registeredEvents=ki({updaterMap:$l,eventMap:Xl,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{kmlLayer:e}}),this.setKmlLayerCallback)}componentDidUpdate(e){null!==this.state.kmlLayer&&(Ei(this.registeredEvents),this.registeredEvents=ki({updaterMap:$l,eventMap:Xl,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){null!==this.state.kmlLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),Ei(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}function ec(e,t){return"function"===typeof t?t(e.offsetWidth,e.offsetHeight):{x:0,y:0}}function tc(e,t){return new t(e.lat,e.lng)}function nc(e,t){return new t(new google.maps.LatLng(e.ne.lat,e.ne.lng),new google.maps.LatLng(e.sw.lat,e.sw.lng))}function rc(e,t,n,r){return void 0!==n?function(e,t,n){var r=e&&e.fromLatLngToDivPixel(n.getNorthEast()),s=e&&e.fromLatLngToDivPixel(n.getSouthWest());return r&&s?{left:"".concat(s.x+t.x,"px"),top:"".concat(r.y+t.y,"px"),width:"".concat(r.x-s.x-t.x,"px"),height:"".concat(s.y-r.y-t.y,"px")}:{left:"-9999px",top:"-9999px"}}(e,t,function(e,t,n){return e instanceof t?e:n(e,t)}(n,google.maps.LatLngBounds,nc)):function(e,t,n){var r=e&&e.fromLatLngToDivPixel(n);if(r){var{x:s,y:o}=r;return{left:"".concat(s+t.x,"px"),top:"".concat(o+t.y,"px")}}return{left:"-9999px",top:"-9999px"}}(e,t,function(e,t,n){return e instanceof t?e:n(e,t)}(r,google.maps.LatLng,tc))}function sc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oc(e,t,n,r,s){class o extends google.maps.OverlayView{constructor(e,t,n,r){super(),this.container=e,this.pane=t,this.position=n,this.bounds=r}onAdd(){var e,t=null===(e=this.getPanes())||void 0===e?void 0:e[this.pane];null===t||void 0===t||t.appendChild(this.container)}draw(){var e=this.getProjection(),t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sc(Object(n),!0).forEach((function(t){gi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.container?ec(this.container,s):{x:0,y:0}),n=rc(e,t,this.bounds,this.position);for(var[r,o]of Object.entries(n))this.container.style[r]=o}onRemove(){null!==this.container.parentNode&&this.container.parentNode.removeChild(this.container)}}return new o(e,t,n,r)}function ic(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ac(e){return e?(e instanceof google.maps.LatLng?e:new google.maps.LatLng(e.lat,e.lng))+"":""}function lc(e){return e?(e instanceof google.maps.LatLngBounds?e:new google.maps.LatLngBounds(new google.maps.LatLng(e.south,e.east),new google.maps.LatLng(e.north,e.west)))+"":""}gi(Zl,"contextType",bi);(0,t.memo)((function(e){var{position:n,bounds:r,mapPaneName:s,zIndex:o,onLoad:i,onUnmount:a,getPixelPositionOffset:l,children:c}=e,u=(0,t.useContext)(bi),d=(0,t.useMemo)((()=>{var e=document.createElement("div");return e.style.position="absolute",e}),[]),h=(0,t.useMemo)((()=>oc(d,s,n,r,l)),[d,s,n,r]);return(0,t.useEffect)((()=>(null===i||void 0===i||i(h),null===h||void 0===h||h.setMap(u),()=>{null===a||void 0===a||a(h),null===h||void 0===h||h.setMap(null)})),[u,h]),(0,t.useEffect)((()=>{d.style.zIndex="".concat(o)}),[o,d]),pi.createPortal(c,d)}));class cc extends t.PureComponent{constructor(e){super(e),gi(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),gi(this,"updatePane",(()=>{var e=this.props.mapPaneName,t=this.overlayView.getPanes();yi(!!e,"OverlayView requires props.mapPaneName but got %s",e),t?this.setState({paneEl:t[e]}):this.setState({paneEl:null})})),gi(this,"onAdd",(()=>{var e,t;this.updatePane(),null===(e=(t=this.props).onLoad)||void 0===e||e.call(t,this.overlayView)})),gi(this,"onPositionElement",(()=>{var e,t,n,r,s,o,i=this.overlayView.getProjection(),a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ic(Object(n),!0).forEach((function(t){gi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ic(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({x:0,y:0},this.containerRef.current?ec(this.containerRef.current,this.props.getPixelPositionOffset):{}),l=rc(i,a,this.props.bounds,this.props.position);(s=l,o={left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height},s.left!==o.left||s.top!==o.top||s.width!==o.height||s.height!==o.height)&&this.setState({containerStyle:{top:null!==(e=l.top)&&void 0!==e?e:0,left:null!==(t=l.left)&&void 0!==t?t:0,width:null!==(n=l.width)&&void 0!==n?n:0,height:null!==(r=l.height)&&void 0!==r?r:0,position:"absolute"}})})),gi(this,"draw",(()=>{this.onPositionElement()})),gi(this,"onRemove",(()=>{var e,t;this.setState((()=>({paneEl:null}))),null===(e=(t=this.props).onUnmount)||void 0===e||e.call(t,this.overlayView)})),this.containerRef=(0,t.createRef)();var n=new google.maps.OverlayView;n.onAdd=this.onAdd,n.draw=this.draw,n.onRemove=this.onRemove,this.overlayView=n}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var t=ac(e.position),n=ac(this.props.position),r=lc(e.bounds),s=lc(this.props.bounds);t===n&&r===s||this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?pi.createPortal((0,En.jsx)("div",{ref:this.containerRef,style:this.state.containerStyle,children:t.Children.only(this.props.children)}),e):null}}function uc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uc(Object(n),!0).forEach((function(t){gi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}gi(cc,"FLOAT_PANE","floatPane"),gi(cc,"MAP_PANE","mapPane"),gi(cc,"MARKER_LAYER","markerLayer"),gi(cc,"OVERLAY_LAYER","overlayLayer"),gi(cc,"OVERLAY_MOUSE_TARGET","overlayMouseTarget"),gi(cc,"contextType",bi);var hc={onDblClick:"dblclick",onClick:"click"},pc={opacity(e,t){e.setOpacity(t)}};(0,t.memo)((function(e){var{url:n,bounds:r,options:s,visible:o}=e,i=(0,t.useContext)(bi),a=new google.maps.LatLngBounds(new google.maps.LatLng(r.south,r.west),new google.maps.LatLng(r.north,r.east)),l=(0,t.useMemo)((()=>new google.maps.GroundOverlay(n,a,s)),[]);return(0,t.useEffect)((()=>{null!==l&&l.setMap(i)}),[i]),(0,t.useEffect)((()=>{"undefined"!==typeof n&&null!==l&&(l.set("url",n),l.setMap(i))}),[l,n]),(0,t.useEffect)((()=>{"undefined"!==typeof o&&null!==l&&l.setOpacity(o?1:0)}),[l,o]),(0,t.useEffect)((()=>{var e=new google.maps.LatLngBounds(new google.maps.LatLng(r.south,r.west),new google.maps.LatLng(r.north,r.east));"undefined"!==typeof r&&null!==l&&(l.set("bounds",e),l.setMap(i))}),[l,r]),null}));class mc extends t.PureComponent{constructor(){super(...arguments),gi(this,"registeredEvents",[]),gi(this,"state",{groundOverlay:null}),gi(this,"setGroundOverlayCallback",(()=>{null!==this.state.groundOverlay&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)}))}componentDidMount(){yi(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,dc(dc({},this.props.options),{},{map:this.context}));this.registeredEvents=ki({updaterMap:pc,eventMap:hc,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{groundOverlay:e}}),this.setGroundOverlayCallback)}componentDidUpdate(e){null!==this.state.groundOverlay&&(Ei(this.registeredEvents),this.registeredEvents=ki({updaterMap:pc,eventMap:hc,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}function fc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fc(Object(n),!0).forEach((function(t){gi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}gi(mc,"defaultProps",{onLoad:function(){}}),gi(mc,"contextType",bi);var vc={},yc={data(e,t){e.setData(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)}};(0,t.memo)((function(e){var{data:n,onLoad:r,onUnmount:s,options:o}=e,i=(0,t.useContext)(bi),[a,l]=(0,t.useState)(null);return(0,t.useEffect)((()=>{google.maps.visualization||yi(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)}),[]),(0,t.useEffect)((()=>{yi(!!n,"data property is required in HeatmapLayer %s",n)}),[n]),(0,t.useEffect)((()=>{null!==a&&a.setMap(i)}),[i]),(0,t.useEffect)((()=>{o&&null!==a&&a.setOptions(o)}),[a,o]),(0,t.useEffect)((()=>{var e=new google.maps.visualization.HeatmapLayer(gc(gc({},o),{},{data:n,map:i}));return l(e),r&&r(e),()=>{null!==a&&(s&&s(a),a.setMap(null))}}),[]),null}));class bc extends t.PureComponent{constructor(){super(...arguments),gi(this,"registeredEvents",[]),gi(this,"state",{heatmapLayer:null}),gi(this,"setHeatmapLayerCallback",(()=>{null!==this.state.heatmapLayer&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)}))}componentDidMount(){yi(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),yi(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(gc(gc({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=ki({updaterMap:yc,eventMap:vc,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{heatmapLayer:e}}),this.setHeatmapLayerCallback)}componentDidUpdate(e){Ei(this.registeredEvents),this.registeredEvents=ki({updaterMap:yc,eventMap:vc,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){null!==this.state.heatmapLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),Ei(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}gi(bc,"contextType",bi);var xc={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},wc={register(e,t,n){e.registerPanoProvider(t,n)},links(e,t){e.setLinks(t)},motionTracking(e,t){e.setMotionTracking(t)},options(e,t){e.setOptions(t)},pano(e,t){e.setPano(t)},position(e,t){e.setPosition(t)},pov(e,t){e.setPov(t)},visible(e,t){e.setVisible(t)},zoom(e,t){e.setZoom(t)}};class _c extends t.PureComponent{constructor(){super(...arguments),gi(this,"registeredEvents",[]),gi(this,"state",{streetViewPanorama:null}),gi(this,"setStreetViewPanoramaCallback",(()=>{null!==this.state.streetViewPanorama&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)}))}componentDidMount(){var e,t,n=null!==(e=null===(t=this.context)||void 0===t?void 0:t.getStreetView())&&void 0!==e?e:null;this.registeredEvents=ki({updaterMap:wc,eventMap:xc,prevProps:{},nextProps:this.props,instance:n}),this.setState((()=>({streetViewPanorama:n})),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){null!==this.state.streetViewPanorama&&(Ei(this.registeredEvents),this.registeredEvents=ki({updaterMap:wc,eventMap:xc,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){null!==this.state.streetViewPanorama&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),Ei(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}gi(_c,"contextType",bi);class Ec extends t.PureComponent{constructor(){super(...arguments),gi(this,"state",{streetViewService:null}),gi(this,"setStreetViewServiceCallback",(()=>{null!==this.state.streetViewService&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)}))}componentDidMount(){var e=new google.maps.StreetViewService;this.setState((function(){return{streetViewService:e}}),this.setStreetViewServiceCallback)}componentWillUnmount(){null!==this.state.streetViewService&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}gi(Ec,"contextType",bi);t.PureComponent;var kc={onDirectionsChanged:"directions_changed"},Sc={directions(e,t){e.setDirections(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},panel(e,t){e.setPanel(t)},routeIndex(e,t){e.setRouteIndex(t)}};class Cc extends t.PureComponent{constructor(){super(...arguments),gi(this,"registeredEvents",[]),gi(this,"state",{directionsRenderer:null}),gi(this,"setDirectionsRendererCallback",(()=>{null!==this.state.directionsRenderer&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))}))}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=ki({updaterMap:Sc,eventMap:kc,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{directionsRenderer:e}}),this.setDirectionsRendererCallback)}componentDidUpdate(e){null!==this.state.directionsRenderer&&(Ei(this.registeredEvents),this.registeredEvents=ki({updaterMap:Sc,eventMap:kc,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){null!==this.state.directionsRenderer&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),Ei(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}gi(Cc,"contextType",bi);t.PureComponent;var Nc={onPlacesChanged:"places_changed"},jc={bounds(e,t){e.setBounds(t)}};class Tc extends t.PureComponent{constructor(){super(...arguments),gi(this,"registeredEvents",[]),gi(this,"containerElement",(0,t.createRef)()),gi(this,"state",{searchBox:null}),gi(this,"setSearchBoxCallback",(()=>{null!==this.state.searchBox&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)}))}componentDidMount(){if(yi(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),null!==this.containerElement&&null!==this.containerElement.current){var e=this.containerElement.current.querySelector("input");if(null!==e){var t=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=ki({updaterMap:jc,eventMap:Nc,prevProps:{},nextProps:this.props,instance:t}),this.setState((function(){return{searchBox:t}}),this.setSearchBoxCallback)}}}componentDidUpdate(e){null!==this.state.searchBox&&(Ei(this.registeredEvents),this.registeredEvents=ki({updaterMap:jc,eventMap:Nc,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){null!==this.state.searchBox&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),Ei(this.registeredEvents))}render(){return(0,En.jsx)("div",{ref:this.containerElement,children:t.Children.only(this.props.children)})}}gi(Tc,"contextType",bi);var Pc={onPlaceChanged:"place_changed"},Ic={bounds(e,t){e.setBounds(t)},restrictions(e,t){e.setComponentRestrictions(t)},fields(e,t){e.setFields(t)},options(e,t){e.setOptions(t)},types(e,t){e.setTypes(t)}};class Lc extends t.PureComponent{constructor(){super(...arguments),gi(this,"registeredEvents",[]),gi(this,"containerElement",(0,t.createRef)()),gi(this,"state",{autocomplete:null}),gi(this,"setAutocompleteCallback",(()=>{null!==this.state.autocomplete&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)}))}componentDidMount(){var e;yi(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var t=null===(e=this.containerElement.current)||void 0===e?void 0:e.querySelector("input");if(t){var n=new google.maps.places.Autocomplete(t,this.props.options);this.registeredEvents=ki({updaterMap:Ic,eventMap:Pc,prevProps:{},nextProps:this.props,instance:n}),this.setState((()=>({autocomplete:n})),this.setAutocompleteCallback)}}componentDidUpdate(e){Ei(this.registeredEvents),this.registeredEvents=ki({updaterMap:Ic,eventMap:Pc,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){null!==this.state.autocomplete&&Ei(this.registeredEvents)}render(){return(0,En.jsx)("div",{ref:this.containerElement,className:this.props.className,children:t.Children.only(this.props.children)})}}gi(Lc,"defaultProps",{className:""}),gi(Lc,"contextType",bi);const Ac=e=>{let{locationsStr:n}=e;const{isLoaded:r}=Xi({id:"google-map-script",googleMapsApiKey:"AIzaSyDse8LirlT11c0BVj40XoZaqnJLBU2GNWU",libraries:["places"]}),s=t.useMemo((()=>{if(!n||"string"!==typeof n)return[];const e=n.split("\n").filter((e=>""!==e.trim())).map(((e,t)=>{const n=e.split(",").map((e=>e.trim()));if(n.length>=3){const[e,r,s]=n,o=parseFloat(r),i=parseFloat(s);if(e&&!isNaN(o)&&!isNaN(i)){const n={north:42.154,south:36.838,east:-6.189,west:-9.526};if(o>=n.south&&o<=n.north&&i>=n.west&&i<=n.east)return{name:e,lat:o,lng:i,id:"tour-loc-".concat(t)}}}return null})).filter((e=>null!==e));return e}),[n]);if(!r)return(0,En.jsx)("div",{className:"flex items-center justify-center h-full bg-gray-200 rounded-lg",children:(0,En.jsxs)("div",{className:"text-center",children:[(0,En.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"}),(0,En.jsx)("p",{className:"text-gray-600",children:"A carregar mapa..."})]})});const o=(()=>{if(s.length>0){const e=s.reduce(((e,t)=>e+t.lat),0)/s.length,t=s.reduce(((e,t)=>e+t.lng),0)/s.length;return{lat:e,lng:t}}return{lat:39.5,lng:-8}})(),i=(()=>{if(0===s.length)return 7;if(1===s.length)return 12;const e=s.map((e=>e.lat)),t=s.map((e=>e.lng)),n=Math.max(...e)-Math.min(...e),r=Math.max(...t)-Math.min(...t),o=Math.max(n,r);return o>2?6:o>1?7:o>.5?8:10})();return(0,En.jsx)(Ni,{mapContainerClassName:"w-full h-full rounded-lg",center:o,zoom:i,options:{streetViewControl:!1,mapTypeControl:!1,language:"pt-PT",region:"PT"},children:s.map(((e,t)=>(0,En.jsx)(fa,{position:{lat:e.lat,lng:e.lng},title:e.name,label:{text:(t+1).toString(),color:"white",fontWeight:"bold"}},e.id||t)))})},Oc=e=>{let{tourName:t,currentLang:n}=e;const{t:r}=Sn(),s=e=>"/".concat("pt"!==n?n:"","/").concat("home"===e?"":e);return(0,En.jsx)("nav",{className:"bg-white py-3 px-4 border-b","aria-label":"Breadcrumb",children:(0,En.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,En.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,En.jsx)(pt,{to:s("home"),className:"hover:text-blue-600",children:r("nav_home")||"Home"}),(0,En.jsx)("span",{className:"mx-2",children:"/"}),(0,En.jsx)(pt,{to:s("tours"),className:"hover:text-blue-600",children:r("nav_tours")||"Tours"}),(0,En.jsx)("span",{className:"mx-2",children:"/"}),(0,En.jsx)("span",{className:"text-gray-900 font-medium",children:t})]})})})},Rc=()=>{var e,n,r,s,o,i,a,l,c,u;const{id:d}=function(){let{matches:e}=t.useContext(ie),n=e[e.length-1];return n?n.params:{}}(),{t:h,getCurrentLanguage:p}=Sn(),[m,f]=(0,t.useState)("pt"),[g,v]=(0,t.useState)(null),[y,b]=(0,t.useState)(!0),[x,w]=(0,t.useState)(null),[_,E]=(0,t.useState)(null),[k,S]=(0,t.useState)("overview");(0,t.useEffect)((()=>{try{const e=p();f(e||"pt")}catch(x){console.error("Error getting language:",x),f("pt")}}),[p]);const C=e=>{try{const t=h(e);if(t===e){const t={tour_book_now:{pt:"Reservar Agora",en:"Book Now",es:"Reservar Ahora"},"tour_details.from":{pt:"Pre\xe7o total",en:"Total price",es:"Precio total"},message_loading:{pt:"A carregar...",en:"Loading...",es:"Cargando..."},"message.error":{pt:"Erro ao carregar",en:"Error loading",es:"Error al cargar"},try_again:{pt:"Tentar Novamente",en:"Try Again",es:"Intentar de Nuevo"}}[e];if(t)return t[m]||t.pt||e}return t}catch(x){return console.error('Translation error for key "'.concat(e,'":'),x),e}},N=e=>{if(!e||!e[m])return null;const t=e[m].split("\n").filter((e=>""!==e.trim())),n=[];let r=1;return t.forEach((e=>{const t=/(\d{1,2}[:h]\d{2}|\d{1,2}h)/i,s=e.match(t);s&&n.push({stop:r++,title:e.replace(t,"").replace(":","").trim()||"Atividade \xe0s ".concat(s[0]),duration:s[0].replace("h",":00"),type:e.toLowerCase().includes("almo\xe7o")?"meal":"visit"})})),{[m]:n}};(0,t.useEffect)((()=>{(async()=>{if(!d)return w(C("message.error")),void b(!1);b(!0),w(null);try{const e=await ti.get("".concat(ni,"/api/tours/").concat(d));if(!e.data)throw new Error(C("message.no_tours"));v(e.data),e.data.route_description&&E(N(e.data.route_description))}catch(e){w(e.message||C("message.error"))}finally{b(!1)}})()}),[d,m]),(0,t.useEffect)((()=>{g&&g.route_description&&E(N(g.route_description))}),[m,g]);const j=t.useMemo((()=>{try{if(!d)return"#";const e="pt"!==m?"".concat(m,"/"):"";return"/".concat(e,"reservar?tour=").concat(d)}catch(x){return console.error("Error generating booking URL:",x),"#"}}),[m,d]),T=()=>(0,En.jsx)(pt,{to:j,onClick:e=>{if("#"===j)return e.preventDefault(),void alert("Erro ao gerar URL de reserva. Tente novamente.")},className:"w-full block text-center bg-gradient-to-r from-blue-600 to-blue-700 text-white py-4 rounded-xl font-bold text-lg hover:from-blue-700 hover:to-blue-800 transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl",children:C("tour_book_now")});if(y)return(0,En.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,En.jsxs)("div",{className:"text-center",children:[(0,En.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-600 border-t-transparent mx-auto mb-4"}),(0,En.jsx)("p",{className:"text-lg text-gray-600",children:C("message_loading")})]})});if(x)return(0,En.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,En.jsxs)("div",{className:"text-center",children:[(0,En.jsx)("div",{className:"text-red-600 text-xl mb-4",children:x}),(0,En.jsx)("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700",children:C("try_again")})]})});if(!g)return(0,En.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,En.jsx)("div",{className:"text-center",children:(0,En.jsx)("div",{className:"text-gray-600 text-xl",children:C("message.no_tours")})})});const P=g.name[m]||g.name.pt,I=g.short_description[m]||g.short_description.pt,L=g.description[m]||g.description.pt,A=(null===(e=g.highlights)||void 0===e||null===(n=e[m])||void 0===n?void 0:n.split("\n").filter((e=>""!==e.trim())))||(null===(r=g.highlights)||void 0===r||null===(s=r.pt)||void 0===s?void 0:s.split("\n").filter((e=>""!==e.trim())))||[],O=(null===(o=g.includes)||void 0===o||null===(i=o[m])||void 0===i?void 0:i.split("\n").filter((e=>""!==e.trim())))||[],R=(null===(a=g.excludes)||void 0===a||null===(l=a[m])||void 0===l?void 0:l.split("\n").filter((e=>""!==e.trim())))||[],D=null===(c=g.images)||void 0===c?void 0:c[0],M=(null===(u=g.images)||void 0===u?void 0:u.slice(1))||[];return(0,En.jsxs)(En.Fragment,{children:[(0,En.jsxs)(xn,{children:[(0,En.jsx)("title",{children:"".concat(P," - 9 Rocks Tours")}),(0,En.jsx)("meta",{name:"description",content:I}),(0,En.jsx)("meta",{property:"og:title",content:"".concat(P," - 9 Rocks Tours")}),(0,En.jsx)("meta",{property:"og:description",content:I}),(0,En.jsx)("meta",{property:"og:image",content:D})]}),(0,En.jsxs)("div",{className:"bg-white",children:[(0,En.jsx)(Oc,{tourName:P,currentLang:m}),(0,En.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-8",children:[(0,En.jsxs)("section",{className:"mb-8",children:[(0,En.jsxs)("div",{className:"mb-4",children:[(0,En.jsx)("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4 leading-tight",children:P}),(0,En.jsx)("p",{className:"text-xl text-gray-600 mb-6 leading-relaxed",children:I})]}),(0,En.jsxs)("div",{className:"flex flex-wrap gap-3 mb-6",children:[(0,En.jsxs)("div",{className:"flex items-center bg-green-50 text-green-700 px-3 py-2 rounded-full text-sm font-medium",children:[(0,En.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,En.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),C("tour_details.instant_confirmation")]}),(0,En.jsxs)("div",{className:"flex items-center bg-blue-50 text-blue-700 px-3 py-2 rounded-full text-sm font-medium",children:[(0,En.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,En.jsx)("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"})}),C("tour_details.mobile_ticket")]}),(0,En.jsxs)("div",{className:"flex items-center bg-purple-50 text-purple-700 px-3 py-2 rounded-full text-sm font-medium",children:[(0,En.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,En.jsx)("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z"})}),C("tour_details.small_groups")]}),(0,En.jsxs)("div",{className:"flex items-center bg-orange-50 text-orange-700 px-3 py-2 rounded-full text-sm font-medium",children:[(0,En.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,En.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),C("tour_details.live_guide")]})]}),g.images&&g.images.length>0&&(0,En.jsxs)("div",{className:"relative",children:[M.length>0?(0,En.jsxs)("div",{className:"grid grid-cols-4 grid-rows-2 gap-2 h-[400px] md:h-[500px] rounded-xl overflow-hidden",children:[(0,En.jsx)("div",{className:"col-span-2 row-span-2",children:(0,En.jsx)("img",{src:D,alt:"Imagem principal de ".concat(P),className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"})}),M.slice(0,4).map(((e,t)=>(0,En.jsx)("div",{className:"col-span-1 row-span-1",children:(0,En.jsx)("img",{src:e,alt:"Imagem de ".concat(P," ").concat(t+2),className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"})},t)))]}):(0,En.jsx)("div",{className:"h-[400px] md:h-[500px] rounded-xl overflow-hidden",children:(0,En.jsx)("img",{src:D,alt:"Imagem de ".concat(P),className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"})}),M.length>4&&(0,En.jsxs)("div",{className:"absolute bottom-4 right-4 bg-black bg-opacity-70 text-white px-4 py-2 rounded-lg text-sm font-medium",children:["+",M.length-4," ",C("total_photos")]})]})]}),(0,En.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[(0,En.jsxs)("div",{className:"lg:col-span-2",children:[(0,En.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[(0,En.jsxs)("div",{className:"bg-gray-50 p-6 rounded-xl text-center",children:[(0,En.jsx)("div",{className:"text-3xl mb-2",children:"\ud83d\udeab"}),(0,En.jsx)("h4",{className:"font-semibold text-gray-900 mb-1",children:C("tour_details.free_cancellation_title")}),(0,En.jsx)("p",{className:"text-sm text-gray-600",children:C("tour_details.free_cancellation_description")})]}),(0,En.jsxs)("div",{className:"bg-gray-50 p-6 rounded-xl text-center",children:[(0,En.jsx)("div",{className:"text-3xl mb-2",children:"\u23f1\ufe0f"}),(0,En.jsx)("h4",{className:"font-semibold text-gray-900 mb-1",children:C("tour_duration")}),(0,En.jsxs)("p",{className:"text-sm text-gray-600",children:[g.duration_hours," ",C("common.hours")]})]}),(0,En.jsxs)("div",{className:"bg-gray-50 p-6 rounded-xl text-center",children:[(0,En.jsx)("div",{className:"text-3xl mb-2",children:"\ud83c\udfa4"}),(0,En.jsx)("h4",{className:"font-semibold text-gray-900 mb-1",children:C("tour_professional_guide")}),(0,En.jsx)("p",{className:"text-sm text-gray-600",children:C("tour_details.guide_languages")})]})]}),(0,En.jsx)("div",{className:"border-b border-gray-200 mb-8",children:(0,En.jsxs)("nav",{className:"flex space-x-8",children:[(0,En.jsx)("button",{onClick:()=>S("overview"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("overview"===k?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:C("tab_overview")}),(0,En.jsx)("button",{onClick:()=>S("itinerary"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("itinerary"===k?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:C("tab_itinerary")}),(0,En.jsx)("button",{onClick:()=>S("included"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("included"===k?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:C("tab_included")}),(0,En.jsx)("button",{onClick:()=>S("map"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("map"===k?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:C("tab_map")})]})}),(0,En.jsxs)("div",{className:"tab-content",children:["overview"===k&&(0,En.jsxs)("div",{className:"space-y-8",children:[L&&(0,En.jsxs)("section",{children:[(0,En.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:C("tour_details.what_youll_do")}),(0,En.jsx)("div",{className:"prose prose-lg text-gray-700",children:L.split("\n").map(((e,t)=>(0,En.jsx)("p",{className:"mb-4 leading-relaxed",children:e},t)))})]}),A.length>0&&(0,En.jsxs)("section",{children:[(0,En.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:C("tour_details.experience_highlights")}),(0,En.jsx)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-6 rounded-xl",children:(0,En.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:A.map(((e,t)=>(0,En.jsxs)("div",{className:"flex items-start",children:[(0,En.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center mr-3",children:(0,En.jsx)("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,En.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),(0,En.jsx)("span",{className:"text-gray-800 font-medium leading-relaxed",children:e})]},t)))})})]})]}),"itinerary"===k&&(0,En.jsxs)("section",{children:[(0,En.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:C("tab_itinerary")}),(0,En.jsx)(ui,{itinerary:_,currentLanguage:m})]}),"included"===k&&(0,En.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,En.jsxs)("section",{children:[(0,En.jsxs)("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[(0,En.jsx)("span",{className:"text-green-600 mr-2",children:"\u2713"}),C("tour_includes")]}),(0,En.jsx)("div",{className:"space-y-3",children:O.map(((e,t)=>(0,En.jsxs)("div",{className:"flex items-start",children:[(0,En.jsx)("span",{className:"text-green-500 mr-3 mt-1 flex-shrink-0",children:"\u2713"}),(0,En.jsx)("span",{className:"text-gray-700",children:e})]},t)))})]}),(0,En.jsxs)("section",{children:[(0,En.jsxs)("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[(0,En.jsx)("span",{className:"text-red-600 mr-2",children:"\u2717"}),C("tour_excludes")]}),(0,En.jsx)("div",{className:"space-y-3",children:R.map(((e,t)=>(0,En.jsxs)("div",{className:"flex items-start",children:[(0,En.jsx)("span",{className:"text-red-500 mr-3 mt-1 flex-shrink-0",children:"\u2717"}),(0,En.jsx)("span",{className:"text-gray-700",children:e})]},t)))})]})]}),"map"===k&&(0,En.jsxs)("section",{className:"h-96",children:[(0,En.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:C("itinerary_tour_region")}),(0,En.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden h-80",children:(0,En.jsx)(Ac,{locationsStr:g.map_locations||""})}),g.map_locations&&(0,En.jsxs)("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[(0,En.jsx)("h4",{className:"font-medium text-gray-800 mb-2",children:C("tour_locations_title")}),(0,En.jsx)("div",{className:"space-y-1",children:g.map_locations.split("\n").filter((e=>e.trim())).map(((e,t)=>{const n=e.split(",").map((e=>e.trim())),[r]=n;return(0,En.jsxs)("div",{className:"text-sm text-gray-600 flex items-center",children:[(0,En.jsx)("span",{className:"w-6 h-6 bg-blue-100 text-blue-800 rounded-full text-xs flex items-center justify-center mr-2 font-medium",children:t+1}),(0,En.jsx)("span",{className:"font-medium",children:r})]},t)}))})]})]})]})]}),(0,En.jsx)("div",{className:"lg:col-span-1",children:(0,En.jsx)("div",{className:"sticky top-8",children:(0,En.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-xl border border-gray-100",children:[(0,En.jsxs)("div",{className:"text-center mb-6",children:[(0,En.jsx)("p",{className:"text-gray-600 text-sm mb-1",children:C("tour_details.from")}),(0,En.jsx)("div",{className:"text-4xl font-bold text-gray-900 mb-2",children:(e=>{try{return new Intl.NumberFormat("pt-PT",{style:"currency",currency:"EUR"}).format(e)}catch(x){return console.error("Error formatting price:",x),"\u20ac".concat(e)}})(g.price)})]}),(0,En.jsx)(T,{}),(0,En.jsx)("p",{className:"text-sm text-center mt-4 text-gray-600",children:C("tour_details.book_now_pay_later")}),(0,En.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-100 space-y-3",children:[(0,En.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,En.jsx)("svg",{className:"w-5 h-5 mr-3 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,En.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),C("tour_instant_confirmation")]}),(0,En.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,En.jsx)("svg",{className:"w-5 h-5 mr-3 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,En.jsx)("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"})}),C("tour_mobile_ticket_accepted")]}),(0,En.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,En.jsx)("svg",{className:"w-5 h-5 mr-3 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,En.jsx)("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z"})}),C("tour_max_participants")]})]})]})})})]})]})]})]})},Dc=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):55296===(64512&s)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++r)),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t},Mc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const t=e[s],o=s+1<e.length,i=o?e[s+1]:0,a=s+2<e.length,l=a?e[s+2]:0,c=t>>2,u=(3&t)<<4|i>>4;let d=(15&i)<<2|l>>6,h=63&l;a||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Dc(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=e[n++];t[r++]=String.fromCharCode((31&s)<<6|63&o)}else if(s>239&&s<365){const o=((7&s)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],i=e[n++];t[r++]=String.fromCharCode((15&s)<<12|(63&o)<<6|63&i)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const t=n[e.charAt(s++)],o=s<e.length?n[e.charAt(s)]:0;++s;const i=s<e.length?n[e.charAt(s)]:64;++s;const a=s<e.length?n[e.charAt(s)]:64;if(++s,null==t||null==o||null==i||null==a)throw new Uc;const l=t<<2|o>>4;if(r.push(l),64!==i){const e=o<<4&240|i>>2;if(r.push(e),64!==a){const e=i<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Uc extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Fc=function(e){return function(e){const t=Dc(e);return Mc.encodeByteArray(t,!0)}(e).replace(/\./g,"")},zc=function(e){try{return Mc.decodeString(e,!0)}catch(Lj){console.error("base64Decode failed: ",Lj)}return null};function Bc(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const Vc=()=>{try{return Bc().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:"3000",FAST_REFRESH:!0,REACT_APP_BACKEND_URL:"http://localhost:8000",REACT_APP_FIREBASE_API_KEY:"AIzaSyD80GYkjPKfIbVW747zb3s7jXSuVfBJTe4",REACT_APP_FIREBASE_APP_ID:"1:742946187892:web:2b0d2bcb974d4564327f21",REACT_APP_FIREBASE_AUTH_DOMAIN:"tours-81516-acfbc.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"742946187892",REACT_APP_FIREBASE_PROJECT_ID:"tours-81516-acfbc",REACT_APP_FIREBASE_STORAGE_BUCKET:"tours-81516-acfbc.firebasestorage.app",REACT_APP_Maps_API_KEY:"AIzaSyDse8LirlT11c0BVj40XoZaqnJLBU2GNWU"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Lj){return}const t=e&&zc(e[1]);return t&&JSON.parse(t)})()}catch(Lj){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(Lj))}},qc=e=>{var t,n;return null===(n=null===(t=Vc())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Hc=e=>{const t=qc(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Wc=()=>{var e;return null===(e=Vc())||void 0===e?void 0:e.config},Gc=e=>{var t;return null===(t=Vc())||void 0===t?void 0:t["_".concat(e)]};class Kc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Yc(e){return e.endsWith(".cloudworkstations.dev")}async function Qc(e){return(await fetch(e,{credentials:"include"})).ok}function Jc(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Fc(JSON.stringify({alg:"none",type:"JWT"})),Fc(JSON.stringify(o)),""].join(".")}const Xc={};let $c=!1;function Zc(e,t){if("undefined"===typeof window||"undefined"===typeof document||!Yc(window.location.host)||Xc[e]===t||Xc[e]||$c)return;function n(e){return"__firebase__banner__".concat(e)}Xc[e]=t;const r="__firebase__banner",s=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(Xc))Xc[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function o(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{$c=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function i(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),i=document.getElementById(t)||document.createElement("span"),a=n("learnmore"),l=document.getElementById(a)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,a);const n=o();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,i,l,n),document.body.appendChild(t)}s?(i.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',i.innerText="Preview backend running in this workspace."),i.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",i):i()}function eu(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function tu(){var e;const t=null===(e=Vc())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(Lj){return!1}}function nu(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function ru(){return!tu()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function su(){try{return"object"===typeof indexedDB}catch(Lj){return!1}}function ou(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var e;t((null===(e=s.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}class iu extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,iu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,au.prototype.create)}}class au{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],s=r?function(e,t){return e.replace(lu,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(s," (").concat(n,").");return new iu(n,o,t)}}const lu=/\{\$([^}]+)}/g;function cu(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const n=e[s],o=t[s];if(uu(n)&&uu(o)){if(!cu(n,o))return!1}else if(n!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function uu(e){return null!==e&&"object"===typeof e}function du(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function hu(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function pu(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class mu{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=fu),void 0===r.error&&(r.error=fu),void 0===r.complete&&(r.complete=fu);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(Lj){}})),this.observers.push(r),s}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(Lj){"undefined"!==typeof console&&console.error&&console.error(Lj)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function fu(){}function gu(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function vu(e){return e&&e._delegate?e._delegate:e}class yu{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const bu="[DEFAULT]";class xu{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Kc;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(Lj){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Lj){if(r)return null;throw Lj}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:bu})}catch(Lj){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(Lj){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bu;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bu;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bu;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[s,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(s)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),s=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const s of n)try{s(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(s=t,s===bu?void 0:s),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var s;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bu;return this.component?this.component.multipleInstances?e:bu:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class wu{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new xu(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const _u=[];var Eu;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Eu||(Eu={}));const ku={debug:Eu.DEBUG,verbose:Eu.VERBOSE,info:Eu.INFO,warn:Eu.WARN,error:Eu.ERROR,silent:Eu.SILENT},Su=Eu.INFO,Cu={[Eu.DEBUG]:"log",[Eu.VERBOSE]:"log",[Eu.INFO]:"info",[Eu.WARN]:"warn",[Eu.ERROR]:"error"},Nu=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Cu[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var s=arguments.length,o=new Array(s>2?s-2:0),i=2;i<s;i++)o[i-2]=arguments[i];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class ju{constructor(e){this.name=e,this._logLevel=Su,this._logHandler=Nu,this._userLogHandler=null,_u.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Eu))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?ku[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Eu.DEBUG,...t),this._logHandler(this,Eu.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Eu.VERBOSE,...t),this._logHandler(this,Eu.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Eu.INFO,...t),this._logHandler(this,Eu.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Eu.WARN,...t),this._logHandler(this,Eu.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Eu.ERROR,...t),this._logHandler(this,Eu.ERROR,...t)}}let Tu,Pu;const Iu=new WeakMap,Lu=new WeakMap,Au=new WeakMap,Ou=new WeakMap,Ru=new WeakMap;let Du={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Lu.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Au.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fu(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Mu(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Pu||(Pu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(zu(this),n),Fu(Iu.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Fu(e.apply(zu(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];const o=e.call(zu(this),t,...r);return Au.set(o,t.sort?t.sort():[t]),Fu(o)}}function Uu(e){return"function"===typeof e?Mu(e):(e instanceof IDBTransaction&&function(e){if(Lu.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)}));Lu.set(e,t)}(e),t=e,(Tu||(Tu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,Du):e);var t}function Fu(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{t(Fu(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&Iu.set(t,e)})).catch((()=>{})),Ru.set(t,e),t}(e);if(Ou.has(e))return Ou.get(e);const t=Uu(e);return t!==e&&(Ou.set(e,t),Ru.set(t,e)),t}const zu=e=>Ru.get(e);function Bu(e,t){let{blocked:n,upgrade:r,blocking:s,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=indexedDB.open(e,t),a=Fu(i);return r&&i.addEventListener("upgradeneeded",(e=>{r(Fu(i.result),e.oldVersion,e.newVersion,Fu(i.transaction),e)})),n&&i.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),s&&e.addEventListener("versionchange",(e=>s(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}const Vu=["get","getKey","getAll","getAllKeys","count"],qu=["put","add","delete","clear"],Hu=new Map;function Wu(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Hu.get(t))return Hu.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=qu.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!s&&!Vu.includes(n))return;const o=async function(e){const t=this.transaction(e,s?"readwrite":"readonly");let o=t.store;for(var i=arguments.length,a=new Array(i>1?i-1:0),l=1;l<i;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),s&&t.done]))[0]};return Hu.set(t,o),o}Du=(e=>c(c({},e),{},{get:(t,n,r)=>Wu(t,n)||e.get(t,n,r),has:(t,n)=>!!Wu(t,n)||e.has(t,n)}))(Du);class Gu{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Ku="@firebase/app",Yu="0.13.1",Qu=new ju("@firebase/app"),Ju="@firebase/app-compat",Xu="@firebase/analytics-compat",$u="@firebase/analytics",Zu="@firebase/app-check-compat",ed="@firebase/app-check",td="@firebase/auth",nd="@firebase/auth-compat",rd="@firebase/database",sd="@firebase/data-connect",od="@firebase/database-compat",id="@firebase/functions",ad="@firebase/functions-compat",ld="@firebase/installations",cd="@firebase/installations-compat",ud="@firebase/messaging",dd="@firebase/messaging-compat",hd="@firebase/performance",pd="@firebase/performance-compat",md="@firebase/remote-config",fd="@firebase/remote-config-compat",gd="@firebase/storage",vd="@firebase/storage-compat",yd="@firebase/firestore",bd="@firebase/ai",xd="@firebase/firestore-compat",wd="firebase",_d="[DEFAULT]",Ed={[Ku]:"fire-core",[Ju]:"fire-core-compat",[$u]:"fire-analytics",[Xu]:"fire-analytics-compat",[ed]:"fire-app-check",[Zu]:"fire-app-check-compat",[td]:"fire-auth",[nd]:"fire-auth-compat",[rd]:"fire-rtdb",[sd]:"fire-data-connect",[od]:"fire-rtdb-compat",[id]:"fire-fn",[ad]:"fire-fn-compat",[ld]:"fire-iid",[cd]:"fire-iid-compat",[ud]:"fire-fcm",[dd]:"fire-fcm-compat",[hd]:"fire-perf",[pd]:"fire-perf-compat",[md]:"fire-rc",[fd]:"fire-rc-compat",[gd]:"fire-gcs",[vd]:"fire-gcs-compat",[yd]:"fire-fst",[xd]:"fire-fst-compat",[bd]:"fire-vertex","fire-js":"fire-js",[wd]:"fire-js-all"},kd=new Map,Sd=new Map,Cd=new Map;function Nd(e,t){try{e.container.addComponent(t)}catch(Lj){Qu.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),Lj)}}function jd(e){const t=e.name;if(Cd.has(t))return Qu.debug("There were multiple attempts to register component ".concat(t,".")),!1;Cd.set(t,e);for(const n of kd.values())Nd(n,e);for(const n of Sd.values())Nd(n,e);return!0}function Td(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Pd(e){return null!==e&&void 0!==e&&void 0!==e.settings}const Id=new au("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Ld{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new yu("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Id.create("app-deleted",{appName:this._name})}}const Ad="11.9.0";function Od(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:_d,automaticDataCollectionEnabled:!0},t),s=r.name;if("string"!==typeof s||!s)throw Id.create("bad-app-name",{appName:String(s)});if(n||(n=Wc()),!n)throw Id.create("no-options");const o=kd.get(s);if(o){if(cu(n,o.options)&&cu(r,o.config))return o;throw Id.create("duplicate-app",{appName:s})}const i=new wu(s);for(const l of Cd.values())i.addComponent(l);const a=new Ld(n,r,i);return kd.set(s,a),a}function Rd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_d;const t=kd.get(e);if(!t&&e===_d&&Wc())return Od();if(!t)throw Id.create("no-app",{appName:e});return t}function Dd(e,t,n){var r;let s=null!==(r=Ed[e])&&void 0!==r?r:e;n&&(s+="-".concat(n));const o=s.match(/\s|\//),i=t.match(/\s|\//);if(o||i){const e=['Unable to register library "'.concat(s,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(s,'" contains illegal characters (whitespace or "/")')),o&&i&&e.push("and"),i&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Qu.warn(e.join(" "))}jd(new yu("".concat(s,"-version"),(()=>({library:s,version:t})),"VERSION"))}const Md="firebase-heartbeat-store";let Ud=null;function Fd(){return Ud||(Ud=Bu("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Md)}catch(Lj){console.warn(Lj)}}}).catch((e=>{throw Id.create("idb-open",{originalErrorMessage:e.message})}))),Ud}async function zd(e,t){try{const n=(await Fd()).transaction(Md,"readwrite"),r=n.objectStore(Md);await r.put(t,Bd(e)),await n.done}catch(Lj){if(Lj instanceof iu)Qu.warn(Lj.message);else{const t=Id.create("idb-set",{originalErrorMessage:null===Lj||void 0===Lj?void 0:Lj.message});Qu.warn(t.message)}}}function Bd(e){return"".concat(e.name,"!").concat(e.options.appId)}class Vd{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Hd(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=qd();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(Lj){Qu.warn(Lj)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=qd(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const s of e){const e=n.find((e=>e.agent===s.agent));if(e){if(e.dates.push(s.date),Wd(n)>t){e.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Wd(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),s=Fc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(Lj){return Qu.warn(Lj),""}}}function qd(){return(new Date).toISOString().substring(0,10)}class Hd{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!su()&&ou().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Fd()).transaction(Md),n=await t.objectStore(Md).get(Bd(e));return await t.done,n}catch(Lj){if(Lj instanceof iu)Qu.warn(Lj.message);else{const t=Id.create("idb-get",{originalErrorMessage:null===Lj||void 0===Lj?void 0:Lj.message});Qu.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return zd(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return zd(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Wd(e){return Fc(JSON.stringify({version:2,heartbeats:e})).length}var Gd;Gd="",jd(new yu("platform-logger",(e=>new Gu(e)),"PRIVATE")),jd(new yu("heartbeat",(e=>new Vd(e)),"PRIVATE")),Dd(Ku,Yu,Gd),Dd(Ku,Yu,"esm2017"),Dd("fire-js","");Dd("firebase","11.9.1","app");const Kd="@firebase/installations",Yd="0.6.17",Qd=1e4,Jd="w:".concat(Yd),Xd="FIS_v2",$d=36e5,Zd=new au("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function eh(e){return e instanceof iu&&e.code.includes("request-failed")}function th(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function nh(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function rh(e,t){const n=(await t.json()).error;return Zd.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function sh(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function oh(e,t){let{refreshToken:n}=t;const r=sh(e);return r.append("Authorization",function(e){return"".concat(Xd," ").concat(e)}(n)),r}async function ih(e){const t=await e();return t.status>=500&&t.status<600?e():t}function ah(e){return new Promise((t=>{setTimeout(t,e)}))}const lh=/^[cdef][\w-]{21}$/;function ch(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return lh.test(t)?t:""}catch(e){return""}}function uh(e){return"".concat(e.appName,"!").concat(e.appId)}const dh=new Map;function hh(e,t){const n=uh(e);ph(n,t),function(e,t){const n=fh();n&&n.postMessage({key:e,fid:t});gh()}(n,t)}function ph(e,t){const n=dh.get(e);if(n)for(const r of n)r(t)}let mh=null;function fh(){return!mh&&"BroadcastChannel"in self&&(mh=new BroadcastChannel("[Firebase] FID Change"),mh.onmessage=e=>{ph(e.data.key,e.data.fid)}),mh}function gh(){0===dh.size&&mh&&(mh.close(),mh=null)}const vh="firebase-installations-store";let yh=null;function bh(){return yh||(yh=Bu("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(vh)}})),yh}async function xh(e,t){const n=uh(e),r=(await bh()).transaction(vh,"readwrite"),s=r.objectStore(vh),o=await s.get(n);return await s.put(t,n),await r.done,o&&o.fid===t.fid||hh(e,t.fid),t}async function wh(e){const t=uh(e),n=(await bh()).transaction(vh,"readwrite");await n.objectStore(vh).delete(t),await n.done}async function _h(e,t){const n=uh(e),r=(await bh()).transaction(vh,"readwrite"),s=r.objectStore(vh),o=await s.get(n),i=t(o);return void 0===i?await s.delete(n):await s.put(i,n),await r.done,!i||o&&o.fid===i.fid||hh(e,i.fid),i}async function Eh(e){let t;const n=await _h(e.appConfig,(n=>{const r=function(e){const t=e||{fid:ch(),registrationStatus:0};return Ch(t)}(n),s=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(Zd.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:s}=t;const o=th(n),i=sh(n),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const l={fid:s,authVersion:Xd,appId:n.appId,sdkVersion:Jd},c={method:"POST",headers:i,body:JSON.stringify(l)},u=await ih((()=>fetch(o,c)));if(u.ok){const e=await u.json();return{fid:e.fid||s,registrationStatus:2,refreshToken:e.refreshToken,authToken:nh(e.authToken)}}throw await rh("Create Installation",u)}(e,t);return xh(e.appConfig,n)}catch(Lj){throw eh(Lj)&&409===Lj.customData.serverCode?await wh(e.appConfig):await xh(e.appConfig,{fid:t.fid,registrationStatus:0}),Lj}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:kh(e)}:{installationEntry:t}}(e,r);return t=s.registrationPromise,s.installationEntry}));return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function kh(e){let t=await Sh(e.appConfig);for(;1===t.registrationStatus;)await ah(100),t=await Sh(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await Eh(e);return n||t}return t}function Sh(e){return _h(e,(e=>{if(!e)throw Zd.create("installation-not-found");return Ch(e)}))}function Ch(e){return 1===(t=e).registrationStatus&&t.registrationTime+Qd<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function Nh(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const s=function(e,t){let{fid:n}=t;return"".concat(th(e),"/").concat(n,"/authTokens:generate")}(n,t),o=oh(n,t),i=r.getImmediate({optional:!0});if(i){const e=await i.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const a={installation:{sdkVersion:Jd,appId:n.appId}},l={method:"POST",headers:o,body:JSON.stringify(a)},c=await ih((()=>fetch(s,l)));if(c.ok){return nh(await c.json())}throw await rh("Generate Auth Token",c)}async function jh(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await _h(e.appConfig,(r=>{if(!Ph(r))throw Zd.create("not-registered");const s=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+$d}(e)}(s))return r;if(1===s.requestStatus)return t=async function(e,t){let n=await Th(e.appConfig);for(;1===n.authToken.requestStatus;)await ah(100),n=await Th(e.appConfig);const r=n.authToken;return 0===r.requestStatus?jh(e,t):r}(e,n),r;{if(!navigator.onLine)throw Zd.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await Nh(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await xh(e.appConfig,r),n}catch(Lj){if(!eh(Lj)||401!==Lj.customData.serverCode&&404!==Lj.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await xh(e.appConfig,n)}else await wh(e.appConfig);throw Lj}}(e,n),n}}));return t?await t:r.authToken}function Th(e){return _h(e,(e=>{if(!Ph(e))throw Zd.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+Qd<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n}))}function Ph(e){return void 0!==e&&2===e.registrationStatus}async function Ih(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await Eh(e);t&&await t}(n);return(await jh(n,t)).token}function Lh(e){return Zd.create("missing-app-config-values",{valueName:e})}const Ah="installations",Oh=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Lh("App Configuration");if(!e.name)throw Lh("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Lh(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Td(t,"heartbeat"),_delete:()=>Promise.resolve()}},Rh=e=>{const t=Td(e.getProvider("app").getImmediate(),Ah).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await Eh(t);return r?r.catch(console.error):jh(t).catch(console.error),n.fid}(t),getToken:e=>Ih(t,e)}};jd(new yu(Ah,Oh,"PUBLIC")),jd(new yu("installations-internal",Rh,"PRIVATE")),Dd(Kd,Yd),Dd(Kd,Yd,"esm2017");const Dh="analytics",Mh="https://www.googletagmanager.com/gtag/js",Uh=new ju("@firebase/analytics"),Fh=new au("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function zh(e){if(!e.startsWith(Mh)){const t=Fh.create("invalid-gtag-resource",{gtagURL:e});return Uh.warn(t.message),""}return e}function Bh(e){return Promise.all(e.map((e=>e.catch((e=>e)))))}function Vh(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:zh}),r=document.createElement("script"),s="".concat(Mh,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function qh(e,t,n,r){return async function(s){try{for(var o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];if("event"===s){const[r,s]=i;await async function(e,t,n,r,s){try{let o=[];if(s&&s.send_to){let e=s.send_to;Array.isArray(e)||(e=[e]);const r=await Bh(n);for(const n of e){const e=r.find((e=>e.measurementId===n)),s=e&&t[e.appId];if(!s){o=[];break}o.push(s)}}0===o.length&&(o=Object.values(t)),await Promise.all(o),e("event",r,s||{})}catch(Lj){Uh.error(Lj)}}(e,t,n,r,s)}else if("config"===s){const[s,o]=i;await async function(e,t,n,r,s,o){const i=r[s];try{if(i)await t[i];else{const e=(await Bh(n)).find((e=>e.measurementId===s));e&&await t[e.appId]}}catch(Lj){Uh.error(Lj)}e("config",s,o)}(e,t,n,r,s,o)}else if("consent"===s){const[t,n]=i;e("consent",t,n)}else if("get"===s){const[t,n,r]=i;e("get",t,n,r)}else if("set"===s){const[t]=i;e("set",t)}else e(s,...i)}catch(Lj){Uh.error(Lj)}}}const Hh=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Wh(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function Gh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Hh,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:s,measurementId:o}=e.options;if(!r)throw Fh.create("no-app-id");if(!s){if(o)return{measurementId:o,appId:r};throw Fh.create("no-api-key")}const i=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Yh;return setTimeout((async()=>{a.abort()}),void 0!==n?n:6e4),Kh({appId:r,apiKey:s,measurementId:o},i,a,t)}async function Kh(e,t,n){let{throttleEndTimeMillis:r,backoffCount:s}=t,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Hh;var i;const{appId:a,measurementId:l}=e;try{await function(e,t){return new Promise(((n,r)=>{const s=Math.max(t-Date.now(),0),o=setTimeout(n,s);e.addEventListener((()=>{clearTimeout(o),r(Fh.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(n,r)}catch(Lj){if(l)return Uh.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===Lj||void 0===Lj?void 0:Lj.message,"]")),{appId:a,measurementId:l};throw Lj}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,s={method:"GET",headers:Wh(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),i=await fetch(o,s);if(200!==i.status&&304!==i.status){let e="";try{const n=await i.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(a){}throw Fh.create("config-fetch-failed",{httpStatus:i.status,responseMessage:e})}return i.json()}(e);return o.deleteThrottleMetadata(a),t}catch(Lj){const r=Lj;if(!function(e){if(!(e instanceof iu)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(r)){if(o.deleteThrottleMetadata(a),l)return Uh.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===r||void 0===r?void 0:r.message,"]")),{appId:a,measurementId:l};throw Lj}const c=503===Number(null===(i=null===r||void 0===r?void 0:r.customData)||void 0===i?void 0:i.httpStatus)?gu(s,o.intervalMillis,30):gu(s,o.intervalMillis),u={throttleEndTimeMillis:Date.now()+c,backoffCount:s+1};return o.setThrottleMetadata(a,u),Uh.debug("Calling attemptFetch again in ".concat(c," millis")),Kh(e,u,n,o)}}class Yh{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}let Qh,Jh;function Xh(e){Jh=e}function $h(e){Qh=e}async function Zh(e,t,n,r,s,o,i){var a;const l=Gh(e);l.then((t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Uh.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((e=>Uh.error(e))),t.push(l);const c=async function(){if(!su())return Uh.warn(Fh.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await ou()}catch(Lj){return Uh.warn(Fh.create("indexeddb-unavailable",{errorInfo:null===Lj||void 0===Lj?void 0:Lj.toString()}).message),!1}return!0}().then((e=>e?r.getId():void 0)),[u,d]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Mh)&&n.src.includes(e))return n;return null})(o)||Vh(o,u.measurementId),Jh&&(s("consent","default",Jh),Xh(void 0)),s("js",new Date);const h=null!==(a=null===i||void 0===i?void 0:i.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h.firebase_id=d),s("config",u.measurementId,h),Qh&&(s("set",Qh),$h(void 0)),u.measurementId}class ep{constructor(e){this.app=e}_delete(){return delete tp[this.app.options.appId],Promise.resolve()}}let tp={},np=[];const rp={};let sp,op,ip="dataLayer",ap="gtag",lp=!1;function cp(){const e=[];if(nu()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map(((e,t)=>"(".concat(t+1,") ").concat(e))).join(" "),n=Fh.create("invalid-analytics-context",{errorInfo:t});Uh.warn(n.message)}}function up(e,t,n){cp();const r=e.options.appId;if(!r)throw Fh.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Fh.create("no-api-key");Uh.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=tp[r])throw Fh.create("already-exists",{id:r});if(!lp){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(ip);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,s){let o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[s]&&"function"===typeof window[s]&&(o=window[s]),window[s]=qh(o,e,t,n),{gtagCore:o,wrappedGtag:window[s]}}(tp,np,rp,ip,ap);op=e,sp=t,lp=!0}tp[r]=Zh(e,np,rp,t,sp,ip,n);return new ep(e)}function dp(e,t,n,r){e=vu(e),async function(e,t,n,r,s){if(s&&s.global)e("event",n,r);else{const s=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:s}))}}(op,tp[e.app.options.appId],t,n,r).catch((e=>Uh.error(e)))}const hp="@firebase/analytics",pp="0.10.16";jd(new yu(Dh,((e,t)=>{let{options:n}=t;return up(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),jd(new yu("analytics-internal",(function(e){try{const t=e.getProvider(Dh).getImmediate();return{logEvent:(e,n,r)=>dp(t,e,n,r)}}catch(Lj){throw Fh.create("interop-component-reg-failed",{reason:Lj})}}),"PRIVATE")),Dd(hp,pp),Dd(hp,pp,"esm2017");function mp(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function fp(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gp=fp,vp=new au("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),yp=new ju("@firebase/auth");function bp(e){if(yp.logLevel<=Eu.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];yp.error("Auth (".concat(Ad,"): ").concat(e),...n)}}function xp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw kp(e,...n)}function wp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return kp(e,...n)}function _p(e,t,n){const r=Object.assign(Object.assign({},gp()),{[t]:n});return new au("auth","Firebase",r).create(t,{appName:e.name})}function Ep(e){return _p(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return vp.create(e,...n)}function Sp(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];throw kp(t,...r)}}function Cp(e){const t="INTERNAL ASSERTION FAILED: "+e;throw bp(t),new Error(t)}function Np(e,t){e||Cp(t)}function jp(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Tp(){return"http:"===Pp()||"https:"===Pp()}function Pp(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Ip{constructor(e,t){this.shortDelay=e,this.longDelay=t,Np(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(eu())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Tp()||nu()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Lp(e,t){Np(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Ap{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Cp("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Cp("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Cp("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Op={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Rp=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Dp=new Ip(3e4,6e4);function Mp(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Up(e,t,n,r){return Fp(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let s={},o={};r&&("GET"===t?o=r:s={body:JSON.stringify(r)});const i=du(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:a},s);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&Yc(e.emulatorConfig.host)&&(l.credentials="include"),Ap.fetch()(await Bp(e,e.config.apiHost,n,i),l)}))}async function Fp(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Op),t);try{const t=new qp(e),s=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Hp(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const t=s.ok?o.errorMessage:o.error.message,[n,i]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Hp(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw Hp(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw Hp(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(i)throw _p(e,a,i);xp(e,a)}}catch(Lj){if(Lj instanceof iu)throw Lj;xp(e,"network-request-failed",{message:String(Lj)})}}async function zp(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await Up(e,t,n,r,s);return"mfaPendingCredential"in o&&xp(e,"multi-factor-auth-required",{_serverResponse:o}),o}async function Bp(e,t,n,r){const s="".concat(t).concat(n,"?").concat(r),o=e,i=o.config.emulator?Lp(e.config,s):"".concat(e.config.apiScheme,"://").concat(s);if(Rp.includes(n)&&(await o._persistenceManagerAvailable,"COOKIE"===o._getPersistenceType())){return o._getPersistence()._getFinalTarget(i).toString()}return i}function Vp(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qp{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(wp(this.auth,"network-request-failed"))),Dp.get())}))}}function Hp(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=wp(e,t,r);return s.customData._tokenResponse=n,s}function Wp(e){return void 0!==e&&void 0!==e.enterprise}class Gp{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Vp(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Kp(e,t){return Up(e,"GET","/v2/recaptchaConfig",Mp(e,t))}async function Yp(e,t){return Up(e,"POST","/v1/accounts:lookup",t)}function Qp(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(Lj){}}function Jp(e){return 1e3*Number(e)}function Xp(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return bp("JWT malformed, contained fewer than 3 sections"),null;try{const e=zc(n);return e?JSON.parse(e):(bp("Failed to decode base64 JWT payload"),null)}catch(Lj){return bp("Caught error parsing JWT payload as JSON",null===Lj||void 0===Lj?void 0:Lj.toString()),null}}function $p(e){const t=Xp(e);return Sp(t,"internal-error"),Sp("undefined"!==typeof t.exp,"internal-error"),Sp("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Zp(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(Lj){throw Lj instanceof iu&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(Lj)&&e.auth.currentUser===e&&await e.auth.signOut(),Lj}}class em{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(Lj){return void((null===Lj||void 0===Lj?void 0:Lj.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class tm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qp(this.lastLoginAt),this.creationTime=Qp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function nm(e){var t;const n=e.auth,r=await e.getIdToken(),s=await Zp(e,Yp(n,{idToken:r}));Sp(null===s||void 0===s?void 0:s.users.length,n,"internal-error");const o=s.users[0];e._notifyReloadListener(o);const i=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?rm(o.providerUserInfo):[],a=(l=e.providerData,c=i,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),h=!!u&&d,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new tm(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,p)}function rm(e){return e.map((e=>{var{providerId:t}=e,n=mp(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class sm{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Sp(e.idToken,"internal-error"),Sp("undefined"!==typeof e.idToken,"internal-error"),Sp("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):$p(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Sp(0!==e.length,"internal-error");const t=$p(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Sp(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:s}=await async function(e,t){const n=await Fp(e,{},(async()=>{const n=du({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,o=await Bp(e,r,"/v1/token","key=".concat(s)),i=await e._getAdditionalHeaders();i["Content-Type"]="application/x-www-form-urlencoded";const a={method:"POST",headers:i,body:n};return e.emulatorConfig&&Yc(e.emulatorConfig.host)&&(a.credentials="include"),Ap.fetch()(o,a)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(s))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:s}=t,o=new sm;return n&&(Sp("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(Sp("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),s&&(Sp("number"===typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new sm,this.toJSON())}_performRefresh(){return Cp("not implemented")}}function om(e,t){Sp("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class im{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,s=mp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new em(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new tm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Zp(this,this.stsTokenManager.getToken(this.auth,e));return Sp(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=vu(e),r=await n.getIdToken(t),s=Xp(r);Sp(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o="object"===typeof s.firebase?s.firebase:void 0,i=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:Qp(Jp(s.auth_time)),issuedAtTime:Qp(Jp(s.iat)),expirationTime:Qp(Jp(s.exp)),signInProvider:i||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=vu(e);await nm(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Sp(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new im(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Sp(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await nm(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pd(this.auth.app))return Promise.reject(Ep(this.auth));const e=await this.getIdToken();return await Zp(this,async function(e,t){return Up(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,s,o,i,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,m=null!==(i=t.tenantId)&&void 0!==i?i:void 0,f=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:x,providerData:w,stsTokenManager:_}=t;Sp(y&&_,e,"internal-error");const E=sm.fromJSON(this.name,_);Sp("string"===typeof y,e,"internal-error"),om(u,e.name),om(d,e.name),Sp("boolean"===typeof b,e,"internal-error"),Sp("boolean"===typeof x,e,"internal-error"),om(h,e.name),om(p,e.name),om(m,e.name),om(f,e.name),om(g,e.name),om(v,e.name);const k=new im({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:x,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:E,createdAt:g,lastLoginAt:v});return w&&Array.isArray(w)&&(k.providerData=w.map((e=>Object.assign({},e)))),f&&(k._redirectEventId=f),k}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new sm;r.updateFromServerResponse(t);const s=new im({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await nm(s),s}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Sp(void 0!==r.localId,"internal-error");const s=void 0!==r.providerUserInfo?rm(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null===s||void 0===s?void 0:s.length),i=new sm;i.updateFromIdToken(n);const a=new im({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new tm(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===s||void 0===s?void 0:s.length)};return Object.assign(a,l),a}}const am=new Map;function lm(e){Np(e instanceof Function,"Expected a class definition");let t=am.get(e);return t?(Np(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,am.set(e,t),t)}class cm{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}cm.type="NONE";const um=cm;function dm(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class hm{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:s}=this.auth;this.fullUserKey=dm(this.userKey,r.apiKey,s),this.fullPersistenceKey=dm("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await Yp(this.auth,{idToken:e}).catch((()=>{}));return t?im._fromGetAccountInfoResponse(this.auth,t,e):null}return im._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new hm(lm(um),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let s=r[0]||lm(um);const o=dm(n,e.config.apiKey,e.name);let i=null;for(const c of t)try{const t=await c._get(o);if(t){let n;if("string"===typeof t){const r=await Yp(e,{idToken:t}).catch((()=>{}));if(!r)break;n=await im._fromGetAccountInfoResponse(e,r,t)}else n=im._fromJSON(e,t);c!==s&&(i=n),s=c;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return s._shouldAllowMigration&&a.length?(s=a[0],i&&await s._set(o,i.toJSON()),await Promise.all(t.map((async e=>{if(e!==s)try{await e._remove(o)}catch(l){}}))),new hm(s,e,n)):new hm(s,e,n)}}function pm(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(vm(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(mm(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(bm(t))return"Blackberry";if(xm(t))return"Webos";if(fm(t))return"Safari";if((t.includes("chrome/")||gm(t))&&!t.includes("edge/"))return"Chrome";if(ym(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function mm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eu();return/firefox\//i.test(e)}function fm(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:eu()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eu();return/crios\//i.test(e)}function vm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eu();return/iemobile/i.test(e)}function ym(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eu();return/android/i.test(e)}function bm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eu();return/blackberry/i.test(e)}function xm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eu();return/webos/i.test(e)}function wm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eu();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function _m(){return function(){const e=eu();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Em(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eu();return wm(e)||ym(e)||xm(e)||bm(e)||/windows phone/i.test(e)||vm(e)}function km(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=pm(eu());break;case"Worker":t="".concat(pm(eu()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Ad,"/").concat(r)}class Sm{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(Lj){r(Lj)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(Lj){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===Lj||void 0===Lj?void 0:Lj.message})}}}class Cm{constructor(e){var t,n,r,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,s,o,i;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(s=a.containsUppercaseLetter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(i=a.containsNonAlphanumericCharacter)||void 0===i||i),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class Nm{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tm(this),this.idTokenSubscription=new Tm(this),this.beforeStateQueue=new Sm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vp,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise((e=>this._resolvePersistenceManagerAvailable=e))}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=lm(t)),this._initializationPromise=this.queue((async()=>{var n,r,s;if(!this._deleted&&(this.persistenceManager=await hm.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(Lj){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(s=this.currentUser)||void 0===s?void 0:s.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Yp(this,{idToken:e}),n=await im._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Pd(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,i=await this.tryRedirectSignIn(e);n&&n!==o||!(null===i||void 0===i?void 0:i.user)||(r=i.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(Lj){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(Lj)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Sp(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(Lj){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await nm(e)}catch(Lj){if((null===Lj||void 0===Lj?void 0:Lj.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pd(this.app))return Promise.reject(Ep(this));const t=e?vu(e):null;return t&&Sp(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Sp(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return Pd(this.app)?Promise.reject(Ep(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pd(this.app)?Promise.reject(Ep(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(lm(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Up(e,"GET","/v2/passwordPolicy",Mp(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Cm(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new au("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Up(e,"POST","/v2/accounts:revokeToken",Mp(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&lm(e)||this._popupRedirectResolver;Sp(t,this,"argument-error"),this.redirectPersistenceManager=await hm.create(this,[lm(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const s="function"===typeof t?t:t.next.bind(t);let o=!1;const i=this._isInitialized?Promise.resolve():this._initializationPromise;if(Sp(i,this,"internal-error"),i.then((()=>{o||s(this.currentUser)})),"function"===typeof t){const s=e.addObserver(t,n,r);return()=>{o=!0,s()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Sp(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=km(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Pd(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(yp.logLevel<=Eu.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];yp.warn("Auth (".concat(Ad,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function jm(e){return vu(e)}class Tm{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new mu(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Sp(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Pm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Im(e){return Pm.loadJS(e)}function Lm(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Am{constructor(){this.enterprise=new Om}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Om{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Rm="NO_RECAPTCHA";class Dm{constructor(e){this.type="recaptcha-enterprise",this.auth=jm(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const s=window.grecaptcha;Wp(s)?s.enterprise.ready((()=>{s.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(Rm)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Am).execute("siteKey",{action:"verify"})}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Kp(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Gp(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((s=>{if(!t&&Wp(window.grecaptcha))n(s,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Pm.recaptchaEnterpriseScript;0!==t.length&&(t+=s),Im(t).then((()=>{n(s,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Mm(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=new Dm(e);let i;if(s)i=Rm;else try{i=await o.verify(n)}catch(l){i=await o.verify(n,!0)}const a=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:i,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:i,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:i}):Object.assign(a,{captchaResponse:i}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Um(e,t,n,r,s){var o,i;if("EMAIL_PASSWORD_PROVIDER"===s){if(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Mm(e,t,n,"getOobCode"===n);return r(e,s)}return r(e,t).catch((async s=>{if(s.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const s=await Mm(e,t,n,"getOobCode"===n);return r(e,s)}return Promise.reject(s)}))}if("PHONE_PROVIDER"===s){if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("PHONE_PROVIDER")){const s=await Mm(e,t,n);return r(e,s).catch((async s=>{var o;if("AUDIT"===(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.getProviderEnforcementState("PHONE_PROVIDER"))&&(s.code==="auth/".concat("missing-recaptcha-token")||s.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const s=await Mm(e,t,n,!1,!0);return r(e,s)}return Promise.reject(s)}))}{const s=await Mm(e,t,n,!1,!0);return r(e,s)}}return Promise.reject(s+" provider is not supported.")}async function Fm(e){const t=jm(e),n=await Kp(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Gp(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Dm(t).verify()}}function zm(e,t,n){const r=jm(e);Sp(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const s=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Bm(t),{host:i,port:a}=function(e){const t=Bm(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const e=s[1];return{host:e,port:Vm(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Vm(t)}}}(t),l=null===a?"":":".concat(a),c={url:"".concat(o,"//").concat(i).concat(l,"/")},u=Object.freeze({host:i,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator)return Sp(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void Sp(cu(c,r.config.emulator)&&cu(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Yc(i)?(Qc("".concat(o,"//").concat(i).concat(l)),Zc("Auth",!0)):s||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Bm(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Vm(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class qm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Cp("not implemented")}_getIdTokenResponse(e){return Cp("not implemented")}_linkToIdToken(e,t){return Cp("not implemented")}_getReauthenticationResolver(e){return Cp("not implemented")}}async function Hm(e,t){return Up(e,"POST","/v1/accounts:signUp",t)}async function Wm(e,t){return zp(e,"POST","/v1/accounts:signInWithPassword",Mp(e,t))}class Gm extends qm{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Gm(e,t,"password")}static _fromEmailAndCode(e,t){return new Gm(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Um(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Wm,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return zp(e,"POST","/v1/accounts:signInWithEmailLink",Mp(e,t))}(e,{email:this._email,oobCode:this._password});default:xp(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Um(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Hm,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return zp(e,"POST","/v1/accounts:signInWithEmailLink",Mp(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:xp(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Km(e,t){return zp(e,"POST","/v1/accounts:signInWithIdp",Mp(e,t))}class Ym extends qm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ym(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):xp("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,s=mp(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new Ym(n,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return Km(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Km(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Km(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=du(t)}return e}}async function Qm(e,t){return Up(e,"POST","/v1/accounts:sendVerificationCode",Mp(e,t))}const Jm={USER_NOT_FOUND:"user-not-found"};class Xm extends qm{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Xm({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Xm({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return zp(e,"POST","/v1/accounts:signInWithPhoneNumber",Mp(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await zp(e,"POST","/v1/accounts:signInWithPhoneNumber",Mp(e,t));if(n.temporaryProof)throw Hp(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return zp(e,"POST","/v1/accounts:signInWithPhoneNumber",Mp(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Jm)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:s}=e;return n||t||r||s?new Xm({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:s}):null}}class $m{constructor(e){var t,n,r,s,o,i;const a=hu(pu(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Sp(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(s=a.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=a.lang)&&void 0!==o?o:null,this.tenantId=null!==(i=a.tenantId)&&void 0!==i?i:null}static parseLink(e){const t=function(e){const t=hu(pu(e)).link,n=t?hu(pu(t)).deep_link_id:null,r=hu(pu(e)).deep_link_id;return(r?hu(pu(r)).link:null)||r||n||t||e}(e);try{return new $m(t)}catch(n){return null}}}class Zm{constructor(){this.providerId=Zm.PROVIDER_ID}static credential(e,t){return Gm._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=$m.parseLink(t);return Sp(n,"argument-error"),Gm._fromEmailAndCode(e,n.code,n.tenantId)}}Zm.PROVIDER_ID="password",Zm.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Zm.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ef{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class tf extends ef{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class nf extends tf{constructor(){super("facebook.com")}static credential(e){return Ym._fromParams({providerId:nf.PROVIDER_ID,signInMethod:nf.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nf.credentialFromTaggedObject(e)}static credentialFromError(e){return nf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return nf.credential(t.oauthAccessToken)}catch(n){return null}}}nf.FACEBOOK_SIGN_IN_METHOD="facebook.com",nf.PROVIDER_ID="facebook.com";class rf extends tf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ym._fromParams({providerId:rf.PROVIDER_ID,signInMethod:rf.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return rf.credentialFromTaggedObject(e)}static credentialFromError(e){return rf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return rf.credential(n,r)}catch(s){return null}}}rf.GOOGLE_SIGN_IN_METHOD="google.com",rf.PROVIDER_ID="google.com";class sf extends tf{constructor(){super("github.com")}static credential(e){return Ym._fromParams({providerId:sf.PROVIDER_ID,signInMethod:sf.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sf.credentialFromTaggedObject(e)}static credentialFromError(e){return sf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return sf.credential(t.oauthAccessToken)}catch(n){return null}}}sf.GITHUB_SIGN_IN_METHOD="github.com",sf.PROVIDER_ID="github.com";class of extends tf{constructor(){super("twitter.com")}static credential(e,t){return Ym._fromParams({providerId:of.PROVIDER_ID,signInMethod:of.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return of.credentialFromTaggedObject(e)}static credentialFromError(e){return of.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return of.credential(n,r)}catch(s){return null}}}of.TWITTER_SIGN_IN_METHOD="twitter.com",of.PROVIDER_ID="twitter.com";class af{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=await im._fromIdTokenResponse(e,n,r),o=lf(n);return new af({user:s,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=lf(n);return new af({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function lf(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class cf extends iu{constructor(e,t,n,r){var s;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,cf.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new cf(e,t,n,r)}}function uf(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw cf._fromErrorAndOperation(e,n,t,r);throw n}))}async function df(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Zp(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return af._forOperation(e,"link",r)}async function hf(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Pd(r.app))return Promise.reject(Ep(r));const s="reauthenticate";try{const o=await Zp(e,uf(r,s,t,e),n);Sp(o.idToken,r,"internal-error");const i=Xp(o.idToken);Sp(i,r,"internal-error");const{sub:a}=i;return Sp(e.uid===a,r,"user-mismatch"),af._forOperation(e,s,o)}catch(Lj){throw(null===Lj||void 0===Lj?void 0:Lj.code)==="auth/".concat("user-not-found")&&xp(r,"user-mismatch"),Lj}}async function pf(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Pd(e.app))return Promise.reject(Ep(e));const r="signIn",s=await uf(e,r,t),o=await af._fromIdTokenResponse(e,r,s);return n||await e._updateCurrentUser(o.user),o}async function mf(e,t){return pf(jm(e),t)}async function ff(e){const t=jm(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function gf(e,t){return Up(e,"POST","/v2/accounts/mfaEnrollment:start",Mp(e,t))}new WeakMap;const vf="__sak";class yf{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(vf,"1"),this.storage.removeItem(vf),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class bf extends yf{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Em(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},s=this.storage.getItem(n);_m()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}bf.type="LOCAL";const xf=bf;function wf(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),s=RegExp("".concat(r,"=([^;]+)"));return null!==(n=null===(t=document.cookie.match(s))||void 0===t?void 0:t[1])&&void 0!==n?n:null}function _f(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class Ef{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=_f(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return wf(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=_f(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch((()=>{}))}_addListener(e,t){if(!this._isAvailable())return;const n=_f(e);if(window.cookieStore){const e=e=>{const r=e.changed.find((e=>e.name===n));r&&t(r.value);e.deleted.find((e=>e.name===n))&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=wf(n);const s=setInterval((()=>{const e=wf(n);e!==r&&(t(e),r=e)}),1e3);this.listenerUnsubscribes.set(t,(()=>clearInterval(s)))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}Ef.type="COOKIE";class kf extends yf{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}kf.type="SESSION";const Sf=kf;class Cf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Cf(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:s}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const i=Array.from(o).map((async e=>e(t.origin,s))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(i);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Nf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Cf.receivers=[];class jf{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise(((i,a)=>{const l=Nf("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),s=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(s),i(t.data.response);break;default:clearTimeout(c),clearTimeout(s),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function Tf(){return window}function Pf(){return"undefined"!==typeof Tf().WorkerGlobalScope&&"function"===typeof Tf().importScripts}const If="firebaseLocalStorageDb",Lf="firebaseLocalStorage",Af="fbase_key";class Of{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Rf(e,t){return e.transaction([Lf],t?"readwrite":"readonly").objectStore(Lf)}function Df(){const e=indexedDB.open(If,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Lf,{keyPath:Af})}catch(Lj){n(Lj)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Lf)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(If);return new Of(e).toPromise()}(),t(await Df()))}))}))}async function Mf(e,t,n){const r=Rf(e,!0).put({[Af]:t,value:n});return new Of(r).toPromise()}function Uf(e,t){const n=Rf(e,!0).delete(t);return new Of(n).toPromise()}class Ff{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Df()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(Lj){if(t++>3)throw Lj;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Pf()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cf._getInstance(Pf()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new jf(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Df();return await Mf(e,vf,"1"),await Uf(e,vf),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Mf(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Rf(e,!1).get(t),r=await new Of(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Uf(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Rf(e,!1).getAll();return new Of(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:s}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ff.type="LOCAL";const zf=Ff;function Bf(e,t){return Up(e,"POST","/v2/accounts/mfaSignIn:start",Mp(e,t))}Lm("rcb"),new Ip(3e4,6e4);const Vf="recaptcha";async function qf(e,t,n){var r;if(!e._getRecaptchaConfig())try{await Fm(e)}catch(s){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let s;if(s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Sp("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},o=Um(e,r,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Rm){Sp((null===n||void 0===n?void 0:n.type)===Vf,e,"argument-error");return gf(e,await Hf(e,t,n))}return gf(e,t)}),"PHONE_PROVIDER");return(await o.catch((e=>Promise.reject(e)))).phoneSessionInfo.sessionInfo}{Sp("signin"===t.type,e,"internal-error");const o=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Sp(o,e,"missing-multi-factor-info");const i={mfaPendingCredential:t.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=Um(e,i,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Rm){Sp((null===n||void 0===n?void 0:n.type)===Vf,e,"argument-error");return Bf(e,await Hf(e,t,n))}return Bf(e,t)}),"PHONE_PROVIDER");return(await a.catch((e=>Promise.reject(e)))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Um(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===Rm){Sp((null===n||void 0===n?void 0:n.type)===Vf,e,"argument-error");return Qm(e,await Hf(e,t,n))}return Qm(e,t)}),"PHONE_PROVIDER");return(await r.catch((e=>Promise.reject(e)))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Hf(e,t,n){Sp(n.type===Vf,e,"argument-error");const r=await n.verify();Sp("string"===typeof r,e,"argument-error");const s=Object.assign({},t);if("phoneEnrollmentInfo"in s){const e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.captchaResponse,n=s.phoneEnrollmentInfo.clientType,o=s.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:o}}),s}if("phoneSignInInfo"in s){const e=s.phoneSignInInfo.captchaResponse,t=s.phoneSignInInfo.clientType,n=s.phoneSignInInfo.recaptchaVersion;return Object.assign(s,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),s}return Object.assign(s,{recaptchaToken:r}),s}class Wf{constructor(e){this.providerId=Wf.PROVIDER_ID,this.auth=jm(e)}verifyPhoneNumber(e,t){return qf(this.auth,e,vu(t))}static credential(e,t){return Xm._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Wf.credentialFromTaggedObject(t)}static credentialFromError(e){return Wf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Xm._fromTokenResponse(n,r):null}}function Gf(e,t){return t?lm(t):(Sp(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Wf.PROVIDER_ID="phone",Wf.PHONE_SIGN_IN_METHOD="phone";class Kf extends qm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Km(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Km(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Km(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Yf(e){return pf(e.auth,new Kf(e),e.bypassAuthState)}function Qf(e){const{auth:t,user:n}=e;return Sp(n,t,"internal-error"),hf(n,new Kf(e),e.bypassAuthState)}async function Jf(e){const{auth:t,user:n}=e;return Sp(n,t,"internal-error"),df(n,new Kf(e),e.bypassAuthState)}class Xf{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(Lj){this.reject(Lj)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:s,error:o,type:i}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(i)(a))}catch(Lj){this.reject(Lj)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Yf;case"linkViaPopup":case"linkViaRedirect":return Jf;case"reauthViaPopup":case"reauthViaRedirect":return Qf;default:xp(this.auth,"internal-error")}}resolve(e){Np(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Np(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const $f=new Ip(2e3,1e4);class Zf extends Xf{constructor(e,t,n,r,s){super(e,t,r,s),this.provider=n,this.authWindow=null,this.pollId=null,Zf.currentPopupAction&&Zf.currentPopupAction.cancel(),Zf.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Sp(e,this.auth,"internal-error"),e}async onExecution(){Np(1===this.filter.length,"Popup operations only handle one event");const e=Nf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(wp(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(wp(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zf.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(wp(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,$f.get())};e()}}Zf.currentPopupAction=null;const eg=new Map;class tg extends Xf{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=eg.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=sg(t),r=rg(e);if(!await r._isAvailable())return!1;const s="true"===await r._get(n);return await r._remove(n),s}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(Lj){e=()=>Promise.reject(Lj)}eg.set(this.auth._key(),e)}return this.bypassAuthState||eg.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function ng(e,t){eg.set(e._key(),t)}function rg(e){return lm(e._redirectPersistence)}function sg(e){return dm("pendingRedirect",e.config.apiKey,e.name)}async function og(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Pd(e.app))return Promise.reject(Ep(e));const r=jm(e),s=Gf(r,t),o=new tg(r,s,n),i=await o.execute();return i&&!n&&(delete i.user._redirectEventId,await r._persistUserIfCurrent(i.user),await r._setRedirectUser(null,t)),i}class ig{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lg(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!lg(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(wp(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ag(e))}saveEventToCache(e){this.cachedEventUids.add(ag(e)),this.lastProcessedEventTime=Date.now()}}function ag(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function lg(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const cg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ug=/^https?/;async function dg(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Up(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(hg(r))return}catch(n){}xp(e,"unauthorized-domain")}function hg(e){const t=jp(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return""===s.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!ug.test(n))return!1;if(cg.test(e))return r===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const pg=new Ip(3e4,6e4);function mg(){const e=Tf().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function fg(e){return new Promise(((t,n)=>{var r,s,o;function i(){mg(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{mg(),n(wp(e,"network-request-failed"))},timeout:pg.get()})}if(null===(s=null===(r=Tf().gapi)||void 0===r?void 0:r.iframes)||void 0===s?void 0:s.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Tf().gapi)||void 0===o?void 0:o.load)){const t=Lm("iframefcb");return Tf()[t]=()=>{gapi.load?i():n(wp(e,"network-request-failed"))},Im("".concat(Pm.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}i()}})).catch((e=>{throw gg=null,e}))}let gg=null;const vg=new Ip(5e3,15e3),yg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xg(e){const t=e.config;Sp(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Lp(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Ad},s=bg.get(e.config.apiHost);s&&(r.eid=s);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(du(r).slice(1))}async function wg(e){const t=await function(e){return gg=gg||fg(e),gg}(e),n=Tf().gapi;return Sp(n,e,"internal-error"),t.open({where:document.body,url:xg(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yg,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const s=wp(e,"network-request-failed"),o=Tf().setTimeout((()=>{r(s)}),vg.get());function i(){Tf().clearTimeout(o),n(t)}t.ping(i).then(i,(()=>{r(s)}))}))))}const _g={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Eg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(Lj){}}}function kg(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-s)/2,0).toString(),i=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},_g),{width:r.toString(),height:s.toString(),top:o,left:i}),c=eu().toLowerCase();n&&(a=gm(c)?"_blank":n),mm(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return wm(arguments.length>0&&void 0!==arguments[0]?arguments[0]:eu())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Eg(null);const d=window.open(t||"",a,u);Sp(d,e,"popup-blocked");try{d.focus()}catch(Lj){}return new Eg(d)}const Sg="__/auth/handler",Cg="emulator/auth/handler",Ng=encodeURIComponent("fac");async function jg(e,t,n,r,s,o){Sp(e.config.authDomain,e,"auth-domain-config-required"),Sp(e.config.apiKey,e,"invalid-api-key");const i={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ad,eventId:s};if(t instanceof ef){t.setDefaultLanguage(e.languageCode),i.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(i.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))i[e]=t}if(t instanceof tf){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(i.scopes=e.join(","))}e.tenantId&&(i.tid=e.tenantId);const a=i;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Ng,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Sg);return Lp(t,Cg)}(e),"?").concat(du(a).slice(1)).concat(c)}const Tg="webStorageSupport";const Pg=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Sf,this._completeRedirectFn=og,this._overrideRedirectResult=ng}async _openPopup(e,t,n,r){var s;Np(null===(s=this.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");return kg(e,await jg(e,t,n,jp(),r),Nf())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Tf().location.href=e}(await jg(e,t,n,jp(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Np(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await wg(e),n=new ig(e);return t.register("authEvent",(t=>{Sp(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Tg,{type:Tg},(n=>{var r;const s=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Tg];void 0!==s&&t(!!s),xp(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=dg(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Em()||fm()||wm()}};var Ig="@firebase/auth",Lg="1.10.7";class Ag{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Sp(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Og=Gc("authIdTokenMaxAge")||300;let Rg=null;var Dg;Pm={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=wp("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Dg="Browser",jd(new yu("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:i,authDomain:a}=r.options;Sp(i&&!i.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:i,authDomain:a,clientPlatform:Dg,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:km(Dg)},c=new Nm(r,s,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(lm);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),jd(new yu("auth-internal",(e=>(e=>new Ag(e))(jm(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Dd(Ig,Lg,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Dg)),Dd(Ig,Lg,"esm2017");const Mg="firebasestorage.googleapis.com",Ug="storageBucket";class Fg extends iu{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(Vg(e),"Firebase Storage: ".concat(t," (").concat(Vg(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Fg.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Vg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var zg,Bg;function Vg(e){return"storage/"+e}function qg(){return new Fg(zg.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Hg(){return new Fg(zg.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Wg(){return new Fg(zg.CANCELED,"User canceled the upload/download.")}function Gg(){return new Fg(zg.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Kg(e){return new Fg(zg.INVALID_ARGUMENT,e)}function Yg(){return new Fg(zg.APP_DELETED,"The Firebase app was deleted.")}function Qg(e,t){return new Fg(zg.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Jg(e){throw new Fg(zg.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(zg||(zg={}));class Xg{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Xg.makeFromUrl(e,t)}catch(Lj){return new Xg(e,"")}if(""===n.path)return n;throw r=e,new Fg(zg.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const s=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const i=t.replace(/[.]/g,"\\."),a=[{regex:s,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(i,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(t===Mg?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}];for(let l=0;l<a.length;l++){const t=a[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let s=r[t.indices.path];s||(s=""),n=new Xg(e,s),t.postModify(n);break}}if(null==n)throw function(e){return new Fg(zg.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class $g{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function Zg(e){return"string"===typeof e||e instanceof String}function ev(e){return tv()&&e instanceof Blob}function tv(){return"undefined"!==typeof Blob}function nv(e,t,n,r){if(r<t)throw Kg("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Kg("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function rv(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function sv(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function ov(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),s=-1!==t.indexOf(e);return n||r||s}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Bg||(Bg={}));class iv{constructor(e,t,n,r,s,o,i,a,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11],h=arguments.length>12&&void 0!==arguments[12]&&arguments[12];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=i,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.isUsingEmulator=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new av(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===Bg.NO_ERROR,s=n.getStatus();if(!t||ov(s,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===Bg.ABORT;return void e(!1,new av(!1,null,t))}const o=-1!==this.successCodes_.indexOf(s);e(!0,new av(o,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,s=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(s,s.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(Lj){r(Lj)}else if(null!==s){const e=qg();e.serverResponse=s.getErrorText(),this.errorCallback_?r(this.errorCallback_(s,e)):r(e)}else if(t.canceled){r(this.appDelete_?Yg():Wg())}else{r(Hg())}};this.canceled_?t(0,new av(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,s=null,o=null,i=!1,a=0;function l(){return 2===a}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){s=setTimeout((()=>{s=null,e(p,l())}),t)}function h(){o&&clearTimeout(o)}function p(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];if(e)return h(),void u.call(null,e,...n);if(l()||i)return h(),void u.call(null,e,...n);let o;r<64&&(r*=2),1===a?(a=2,o=0):o=1e3*(r+Math.random()),d(o)}let m=!1;function f(e){m||(m=!0,h(),c||(null!==s?(e||(a=2),clearTimeout(s),d(0)):e||(a=1)))}return d(0),o=setTimeout((()=>{i=!0,f(!0)}),n),f}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class av{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function lv(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function cv(){const e=lv();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(tv())return new Blob(n);throw new Fg(zg.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function uv(e){if("undefined"===typeof atob)throw t="base-64",new Fg(zg.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const dv="raw",hv="base64",pv="base64url",mv="data_url";class fv{constructor(e,t){this.data=e,this.contentType=t||null}}function gv(e,t){switch(e){case dv:return new fv(vv(t));case hv:case pv:return new fv(yv(e,t));case mv:return new fv(function(e){const t=new bv(e);return t.base64?yv(hv,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(Lj){throw Qg(mv,"Malformed data URL.")}return vv(t)}(t.rest)}(t),new bv(t).contentType)}throw qg()}function vv(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function yv(e,t){switch(e){case hv:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw Qg(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case pv:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw Qg(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=uv(t)}catch(Lj){if(Lj.message.includes("polyfill"))throw Lj;throw Qg(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class bv{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Qg(mv,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class xv{constructor(e,t){let n=0,r="";ev(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(ev(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new xv(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new xv(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(tv()){const e=t.map((e=>e instanceof xv?e.data_:e));return new xv(cv.apply(null,e))}{const e=t.map((e=>Zg(e)?gv(dv,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let s=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[s++]=e[t]})),new xv(r,!0)}}uploadData(){return this.data_}}function wv(e){let t;try{t=JSON.parse(e)}catch(Lj){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function _v(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Ev(e,t){return t}class kv{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Ev}}let Sv=null;function Cv(){if(Sv)return Sv;const e=[];e.push(new kv("bucket")),e.push(new kv("generation")),e.push(new kv("metageneration")),e.push(new kv("name","fullPath",!0));const t=new kv("name");t.xform=function(e,t){return function(e){return!Zg(e)||e.length<2?e:_v(e)}(t)},e.push(t);const n=new kv("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new kv("timeCreated")),e.push(new kv("updated")),e.push(new kv("md5Hash",null,!0)),e.push(new kv("cacheControl",null,!0)),e.push(new kv("contentDisposition",null,!0)),e.push(new kv("contentEncoding",null,!0)),e.push(new kv("contentLanguage",null,!0)),e.push(new kv("contentType",null,!0)),e.push(new kv("metadata","customMetadata",!0)),Sv=e,Sv}function Nv(e,t,n){const r={type:"file"},s=n.length;for(let o=0;o<s;o++){const e=n[o];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,s=new Xg(n,r);return t._makeStorageReference(s)}})}(r,e),r}function jv(e,t,n){const r=wv(t);if(null===r)return null;return Nv(e,r,n)}function Tv(e,t){const n={},r=t.length;for(let s=0;s<r;s++){const r=t[s];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class Pv{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Iv(e){if(!e)throw qg()}function Lv(e,t){return function(n,r){const s=jv(e,r,t);return Iv(null!==s),s}}function Av(e,t){return function(n,r){const s=jv(e,r,t);return Iv(null!==s),function(e,t,n,r){const s=wv(t);if(null===s)return null;if(!Zg(s.downloadTokens))return null;const o=s.downloadTokens;if(0===o.length)return null;const i=encodeURIComponent;return o.split(",").map((t=>{const s=e.bucket,o=e.fullPath;return rv("/b/"+i(s)+"/o/"+i(o),n,r)+sv({alt:"media",token:t})}))[0]}(s,r,e.host,e._protocol)}}function Ov(e){return function(t,n){let r;var s,o;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Fg(zg.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new Fg(zg.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new Fg(zg.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(s=e.path,r=new Fg(zg.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function Rv(e){const t=Ov(e);return function(n,r){let s=t(n,r);var o;return 404===n.getStatus()&&(o=e.path,s=new Fg(zg.OBJECT_NOT_FOUND,"Object '"+o+"' does not exist.")),s.serverResponse=r.serverResponse,s}}function Dv(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function Mv(e,t,n,r,s){const o=t.bucketOnlyServerUrl(),i={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();i["Content-Type"]="multipart/related; boundary="+a;const l=Dv(t,r,s),c="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Tv(l,n)+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+a+"--",d=xv.getBlob(c,r,u);if(null===d)throw Gg();const h={name:l.fullPath},p=rv(o,e.host,e._protocol),m=e.maxUploadRetryTime,f=new Pv(p,"POST",Lv(e,n),m);return f.urlParams=h,f.headers=i,f.body=d.uploadData(),f.errorHandler=Ov(t),f}class Uv{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Bg.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=Bg.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=Bg.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r,s){if(this.sent_)throw Jg("cannot .send() more than once");if(Yc(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==s)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Jg("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Jg("cannot .getStatus() before sending");try{return this.xhr_.status}catch(Lj){return-1}}getResponse(){if(!this.sent_)throw Jg("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Jg("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Fv extends Uv{initXhr(){this.xhr_.responseType="text"}}function zv(){return new Fv}class Bv{constructor(e,t){this._service=e,this._location=t instanceof Xg?t:Xg.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Bv(e,t)}get root(){const e=new Xg(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _v(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new Xg(this._location.bucket,e);return new Bv(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Fg(zg.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function Vv(e,t,n){e._throwIfRoot("uploadBytes");const r=Mv(e.storage,e._location,Cv(),new xv(t,!0),n);return e.storage.makeRequestWithTokens(r,zv).then((t=>({metadata:t,ref:e})))}function qv(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=rv(t.fullServerUrl(),e.host,e._protocol),s=e.maxOperationRetryTime,o=new Pv(r,"GET",Av(e,n),s);return o.errorHandler=Rv(t),o}(e.storage,e._location,Cv());return e.storage.makeRequestWithTokens(t,zv).then((e=>{if(null===e)throw new Fg(zg.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function Hv(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=rv(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,s=new Pv(n,"DELETE",(function(e,t){}),r);return s.successCodes=[200,204],s.errorHandler=Rv(t),s}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,zv)}function Wv(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Xg(e._location.bucket,n);return new Bv(e.storage,r)}function Gv(e,t){if(e instanceof Qv){const n=e;if(null==n._bucket)throw new Fg(zg.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ug+"' property when initializing the app?");const r=new Bv(n,n._bucket);return null!=t?Gv(r,t):r}return void 0!==t?Wv(e,t):e}function Kv(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Qv)return new Bv(e,t);throw Kg("To use ref(service, url), the first argument must be a Storage instance.")}return Gv(e,t)}function Yv(e,t){const n=null===t||void 0===t?void 0:t[Ug];return null==n?null:Xg.makeFromBucketSpec(n,e)}class Qv{constructor(e,t,n,r,s){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=Mg,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Xg.makeFromBucketSpec(r,this._host):Yv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=Xg.makeFromBucketSpec(this._url,e):this._bucket=Yv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){nv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){nv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if(Pd(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Bv(this,e)}_makeRequest(e,t,n,r){let s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new $g(Yg());{const o=function(e,t,n,r,s,o){let i=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const l=sv(e.urlParams),c=e.url+l,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new iv(c,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,s,i,a)}(e,this._appId,n,r,t,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then((()=>this._requests.delete(o)),(()=>this._requests.delete(o))),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const Jv="@firebase/storage",Xv="0.13.13",$v="storage";function Zv(e,t){return Kv(e=vu(e),t)}function ey(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new Qv(r,s,o,n,Ad)}jd(new yu($v,ey,"PUBLIC").setMultipleInstances(!0)),Dd(Jv,Xv,""),Dd(Jv,Xv,"esm2017");var ty,ny,ry="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},sy={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var s=0;16>s;++s)r[s]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],s=e.g[2];var o=e.g[3],i=t+(o^n&(s^o))+r[0]+3614090360&4294967295;i=(n=(s=(o=(t=(n=(s=(o=(t=(n=(s=(o=(t=(n=(s=(o=(t=(n=(s=(o=(t=(n=(s=(o=(t=(n=(s=(o=(t=(n=(s=(o=(t=(n=(s=(o=(t=(n=(s=(o=(t=(n=(s=(o=(t=(n=(s=(o=(t=(n=(s=(o=(t=(n=(s=(o=(t=(n=(s=(o=(t=n+(i<<7&4294967295|i>>>25))+((i=o+(s^t&(n^s))+r[1]+3905402710&4294967295)<<12&4294967295|i>>>20))+((i=s+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|i>>>15))+((i=n+(t^s&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|i>>>10))+((i=t+(o^n&(s^o))+r[4]+4118548399&4294967295)<<7&4294967295|i>>>25))+((i=o+(s^t&(n^s))+r[5]+1200080426&4294967295)<<12&4294967295|i>>>20))+((i=s+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|i>>>15))+((i=n+(t^s&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|i>>>10))+((i=t+(o^n&(s^o))+r[8]+1770035416&4294967295)<<7&4294967295|i>>>25))+((i=o+(s^t&(n^s))+r[9]+2336552879&4294967295)<<12&4294967295|i>>>20))+((i=s+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|i>>>15))+((i=n+(t^s&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|i>>>10))+((i=t+(o^n&(s^o))+r[12]+1804603682&4294967295)<<7&4294967295|i>>>25))+((i=o+(s^t&(n^s))+r[13]+4254626195&4294967295)<<12&4294967295|i>>>20))+((i=s+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|i>>>15))+((i=n+(t^s&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|i>>>10))+((i=t+(s^o&(n^s))+r[1]+4129170786&4294967295)<<5&4294967295|i>>>27))+((i=o+(n^s&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|i>>>23))+((i=s+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|i>>>18))+((i=n+(o^t&(s^o))+r[0]+3921069994&4294967295)<<20&4294967295|i>>>12))+((i=t+(s^o&(n^s))+r[5]+3593408605&4294967295)<<5&4294967295|i>>>27))+((i=o+(n^s&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|i>>>23))+((i=s+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|i>>>18))+((i=n+(o^t&(s^o))+r[4]+3889429448&4294967295)<<20&4294967295|i>>>12))+((i=t+(s^o&(n^s))+r[9]+568446438&4294967295)<<5&4294967295|i>>>27))+((i=o+(n^s&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|i>>>23))+((i=s+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|i>>>18))+((i=n+(o^t&(s^o))+r[8]+1163531501&4294967295)<<20&4294967295|i>>>12))+((i=t+(s^o&(n^s))+r[13]+2850285829&4294967295)<<5&4294967295|i>>>27))+((i=o+(n^s&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|i>>>23))+((i=s+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|i>>>18))+((i=n+(o^t&(s^o))+r[12]+2368359562&4294967295)<<20&4294967295|i>>>12))+((i=t+(n^s^o)+r[5]+4294588738&4294967295)<<4&4294967295|i>>>28))+((i=o+(t^n^s)+r[8]+2272392833&4294967295)<<11&4294967295|i>>>21))+((i=s+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|i>>>16))+((i=n+(s^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|i>>>9))+((i=t+(n^s^o)+r[1]+2763975236&4294967295)<<4&4294967295|i>>>28))+((i=o+(t^n^s)+r[4]+1272893353&4294967295)<<11&4294967295|i>>>21))+((i=s+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|i>>>16))+((i=n+(s^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|i>>>9))+((i=t+(n^s^o)+r[13]+681279174&4294967295)<<4&4294967295|i>>>28))+((i=o+(t^n^s)+r[0]+3936430074&4294967295)<<11&4294967295|i>>>21))+((i=s+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|i>>>16))+((i=n+(s^o^t)+r[6]+76029189&4294967295)<<23&4294967295|i>>>9))+((i=t+(n^s^o)+r[9]+3654602809&4294967295)<<4&4294967295|i>>>28))+((i=o+(t^n^s)+r[12]+3873151461&4294967295)<<11&4294967295|i>>>21))+((i=s+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|i>>>16))+((i=n+(s^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|i>>>9))+((i=t+(s^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|i>>>26))+((i=o+(n^(t|~s))+r[7]+1126891415&4294967295)<<10&4294967295|i>>>22))+((i=s+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|i>>>17))+((i=n+(o^(s|~t))+r[5]+4237533241&4294967295)<<21&4294967295|i>>>11))+((i=t+(s^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|i>>>26))+((i=o+(n^(t|~s))+r[3]+2399980690&4294967295)<<10&4294967295|i>>>22))+((i=s+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|i>>>17))+((i=n+(o^(s|~t))+r[1]+2240044497&4294967295)<<21&4294967295|i>>>11))+((i=t+(s^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|i>>>26))+((i=o+(n^(t|~s))+r[15]+4264355552&4294967295)<<10&4294967295|i>>>22))+((i=s+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|i>>>17))+((i=n+(o^(s|~t))+r[13]+1309151649&4294967295)<<21&4294967295|i>>>11))+((o=(t=n+((i=t+(s^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|i>>>26))+((i=o+(n^(t|~s))+r[11]+3174756917&4294967295)<<10&4294967295|i>>>22))^((s=o+((i=s+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|i>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(s+(i<<21&4294967295|i>>>11))&4294967295,e.g[2]=e.g[2]+s&4294967295,e.g[3]=e.g[3]+o&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,s=e.length-1;0<=s;s--){var o=0|e[s];r&&o==t||(n[s]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var s=Array(arguments.length-2),o=2;o<arguments.length;o++)s[o-2]=arguments[o];return t.prototype[n].apply(e,s)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,s=this.B,o=this.h,i=0;i<t;){if(0==o)for(;i<=r;)n(this,e,i),i+=this.blockSize;if("string"===typeof e){for(;i<t;)if(s[o++]=e.charCodeAt(i++),o==this.blockSize){n(this,s),o=0;break}}else for(;i<t;)if(s[o++]=e[i++],o==this.blockSize){n(this,s),o=0;break}}this.h=o,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var s={};function o(e){return-128<=e&&128>e?function(e,t){var n=s;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function i(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return h(i(-e));for(var t=[],n=1,s=0;e>=n;s++)t[s]=e/n|0,n*=4294967296;return new r(t,0)}var a=o(0),l=o(1),c=o(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],s=0;s<t;s++)n[s]=~e.g[s];return new r(n,~e.h).add(l)}function p(e,t){return e.add(h(t))}function m(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function f(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new f(a,a);if(d(e))return t=g(h(e),t),new f(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new f(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var s=y(n,1),o=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=o.add(r);0>=c.l(e)&&(s=s.add(n),o=c),r=y(r,1),n=y(n,1)}return t=p(e,s.j(t)),new f(s,t)}for(s=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(o=i(n)).j(t);d(c)||0<c.l(e);)c=(o=i(n-=r)).j(t);u(o)&&(o=l),s=s.add(o),e=p(e,c)}return new f(s,e)}function v(e){for(var t=e.g.length+1,n=[],s=0;s<t;s++)n[s]=e.i(s)<<1|e.i(s-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var s=e.g.length-n,o=[],i=0;i<s;i++)o[i]=0<t?e.i(i+n)>>>t|e.i(i+n+1)<<32-t:e.i(i+n);return new r(o,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=i(Math.pow(e,6)),n=this,r="";;){var s=g(n,t).g,o=((0<(n=p(n,s.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=s))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=p(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0,o=0;o<=t;o++){var i=s+(65535&this.i(o))+(65535&e.i(o)),a=(i>>>16)+(this.i(o)>>>16)+(e.i(o)>>>16);s=a>>>16,i&=65535,a&=65535,n[o]=a<<16|i}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return a;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return i(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],s=0;s<2*t;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var o=0;o<e.g.length;o++){var l=this.i(s)>>>16,p=65535&this.i(s),f=e.i(o)>>>16,g=65535&e.i(o);n[2*s+2*o]+=p*g,m(n,2*s+2*o),n[2*s+2*o+1]+=l*g,m(n,2*s+2*o+1),n[2*s+2*o+1]+=p*f,m(n,2*s+2*o+1),n[2*s+2*o+2]+=l*f,m(n,2*s+2*o+2)}for(s=0;s<t;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=t;s<2*t;s++)n[s]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)&e.i(s);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)|e.i(s);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)^e.i(s);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,ny=sy.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=i,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=i(Math.pow(n,8)),s=a,o=0;o<t.length;o+=8){var l=Math.min(8,t.length-o),c=parseInt(t.substring(o,o+l),n);8>l?(l=i(Math.pow(n,l)),s=s.j(l).add(i(c))):s=(s=s.j(r)).add(i(c))}return s},ty=sy.Integer=r}).apply("undefined"!==typeof ry?ry:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var oy,iy,ay,ly,cy,uy,dy,hy,py="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},my={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof py&&py];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var s=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var i=e[o];if(!(i in s))break e;s=s[i]}(r=r(o=s[e=e[e.length-1]]))!=o&&null!=r&&t(s,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,s={next:function(){if(!r&&n<e.length){var s=n++;return{value:t(s,e[s]),done:!1}}return r=!0,{done:!0,value:void 0}}};return s[Symbol.iterator]=function(){return s},s}(this,(function(e,t){return t}))}}));var r=r||{},s=this||self;function o(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function i(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var s=Array(arguments.length-2),o=2;o<arguments.length;o++)s[o-2]=arguments[o];return t.prototype[n].apply(e,s)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function p(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(o(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let s=0;s<r;s++)e[n+s]=t[s]}else e.push(t)}}function m(e){return/^[\s\xa0]*$/.test(e)}function f(){var e=s.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=-1!=f().indexOf("Gecko")&&!(-1!=f().toLowerCase().indexOf("webkit")&&-1==f().indexOf("Edge"))&&!(-1!=f().indexOf("Trident")||-1!=f().indexOf("MSIE"))&&-1==f().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,r;for(let s=1;s<arguments.length;s++){for(n in r=arguments[s],r)e[n]=r[n];for(let t=0;t<x.length;t++)n=x[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function _(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function E(e){s.setTimeout((()=>{throw e}),0)}function k(){var e=T;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var S=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new C),(e=>e.reset()));class C{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let N,j=!1,T=new class{constructor(){this.h=this.g=null}add(e,t){const n=S.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},P=()=>{const e=s.Promise.resolve(void 0);N=()=>{e.then(I)}};var I=()=>{for(var e;e=k();){try{e.h.call(e.g)}catch(n){E(n)}var t=S;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}j=!1};function L(){this.s=this.s,this.C=this.C}function A(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}L.prototype.s=!1,L.prototype.ma=function(){this.s||(this.s=!0,this.N())},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},A.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};s.addEventListener("test",e,t),s.removeEventListener("test",e,t)}catch(n){}return e}();function R(e,t){if(A.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var s=!0;break e}catch(o){}s=!1}s||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:D[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&R.aa.h.call(this)}}d(R,A);var D={2:"touch",3:"pen",4:"mouse"};R.prototype.h=function(){R.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),U=0;function F(e,t,n,r,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=s,this.key=++U,this.da=this.fa=!1}function z(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function B(e){this.src=e,this.g={},this.h=0}function V(e,t){var n=t.type;if(n in e.g){var r,s=e.g[n],o=Array.prototype.indexOf.call(s,t,void 0);(r=0<=o)&&Array.prototype.splice.call(s,o,1),r&&(z(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function q(e,t,n,r){for(var s=0;s<e.length;++s){var o=e[s];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return s}return-1}B.prototype.add=function(e,t,n,r,s){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var i=q(e,t,r,s);return-1<i?(t=e[i],n||(t.fa=!1)):((t=new F(t,this.src,o,!!r,s)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),W={};function G(e,t,n,r,s){if(r&&r.once)return Y(e,t,n,r,s);if(Array.isArray(t)){for(var o=0;o<t.length;o++)G(e,t[o],n,r,s);return null}return n=te(n),e&&e[M]?e.K(t,n,i(r)?!!r.capture:!!r,s):K(e,t,n,!1,r,s)}function K(e,t,n,r,s,o){if(!t)throw Error("Invalid event type");var a=i(s)?!!s.capture:!!s,l=Z(e);if(l||(e[H]=l=new B(e)),(n=l.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=$;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)O||(s=a),void 0===s&&(s=!1),e.addEventListener(t.toString(),r,s);else if(e.attachEvent)e.attachEvent(X(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Y(e,t,n,r,s){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Y(e,t[o],n,r,s);return null}return n=te(n),e&&e[M]?e.L(t,n,i(r)?!!r.capture:!!r,s):K(e,t,n,!0,r,s)}function Q(e,t,n,r,s){if(Array.isArray(t))for(var o=0;o<t.length;o++)Q(e,t[o],n,r,s);else r=i(r)?!!r.capture:!!r,n=te(n),e&&e[M]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=q(o=e.g[t],n,r,s))&&(z(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=q(t,n,r,s)),(n=-1<e?t[e]:null)&&J(n))}function J(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[M])V(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(X(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(V(n,e),0==n.h&&(n.src=null,t[H]=null)):z(e)}}}function X(e){return e in W?W[e]:W[e]="on"+e}function $(e,t){if(e.da)e=!0;else{t=new R(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&J(e),e=n.call(r,t)}return e}function Z(e){return(e=e[H])instanceof B?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){L.call(this),this.i=new B(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new A(t,e);else if(t instanceof A)t.target=t.target||e;else{var s=t;w(t=new A(r,e),s)}if(s=!0,n)for(var o=n.length-1;0<=o;o--){var i=t.g=n[o];s=se(i,r,!0,t)&&s}if(s=se(i=t.g=e,r,!0,t)&&s,s=se(i,r,!1,t)&&s,n)for(o=0;o<n.length;o++)s=se(i=t.g=n[o],r,!1,t)&&s}function se(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var s=!0,o=0;o<t.length;++o){var i=t[o];if(i&&!i.da&&i.capture==n){var a=i.listener,l=i.ha||i.src;i.fa&&V(e.i,i),s=!1!==a.call(l,r)&&s}}return s&&!r.defaultPrevented}function oe(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function ie(e){e.g=oe((()=>{e.g=null,e.i&&(e.i=!1,ie(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,L),ne.prototype[M]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Q(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)z(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ae extends L{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ie(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){L.call(this),this.h=e,this.g={}}d(le,L);var ce=[];function ue(e){y(e.g,(function(e,t){this.g.hasOwnProperty(t)&&J(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=s.JSON.stringify,he=s.JSON.parse,pe=class{stringify(e){return s.JSON.stringify(e,void 0)}parse(e){return s.JSON.parse(e,void 0)}};function me(){}function fe(e){return e.h||(e.h=e.i())}function ge(){}me.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){A.call(this,"d")}function be(){A.call(this,"c")}d(ye,A),d(be,A);var xe={},we=null;function _e(){return we=we||new ne}function Ee(e){A.call(this,xe.La,e)}function ke(e){const t=_e();re(t,new Ee(t))}function Se(e,t){A.call(this,xe.STAT_EVENT,e),this.stat=t}function Ce(e){const t=_e();re(t,new Se(t,e))}function Ne(e,t){A.call(this,xe.Ma,e),this.size=t}function je(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return s.setTimeout((function(){e()}),t)}function Te(){this.g=!0}function Pe(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var o=s[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var i=1;i<s.length;i++)s[i]=""}}}return de(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}xe.La="serverreachability",d(Ee,A),xe.STAT_EVENT="statevent",d(Se,A),xe.Ma="timingevent",d(Ne,A),Te.prototype.xa=function(){this.g=!1},Te.prototype.info=function(){};var Ie,Le={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ae={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Oe(){}function Re(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new De}function De(){this.i=null,this.g="",this.h=!1}d(Oe,me),Oe.prototype.g=function(){return new XMLHttpRequest},Oe.prototype.i=function(){return{}},Ie=new Oe;var Me={},Ue={};function Fe(e,t,n){e.L=1,e.v=dt(it(t)),e.m=n,e.P=!0,ze(e,null)}function ze(e,t){e.F=Date.now(),qe(e),e.A=it(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),St(n.i,"t",r),e.C=0,n=e.j.J,e.h=new De,e.g=pn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ae(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var s="readystatechange";Array.isArray(s)||(s&&(ce[0]=s.toString()),s=ce);for(var o=0;o<s.length;o++){var i=G(n,s[o],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ke(),function(e,t,n,r,s,o){e.info((function(){if(e.g)if(o)for(var i="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");i=2<=d.length&&"type"==d[1]?i+(u+"=")+c+"&":i+(u+"=redacted&")}}else i=null;else i=o;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+t+"\n"+n+"\n"+i}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Be(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Ve(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ue:(n=Number(t.substring(n,r)),isNaN(n)?Me:(r+=1)+n>t.length?Ue:(t=t.slice(r,r+n),e.C=r+n,t))}function qe(e){e.S=Date.now()+e.I,He(e,e.I)}function He(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=je(c(e.ba,e),t)}function We(e){e.B&&(s.clearTimeout(e.B),e.B=null)}function Ge(e){0==e.j.G||e.J||ln(e.j,e)}function Ke(e){We(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ye(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;an(n),Jt(n)}rn(n),Ce(18)}}else n.za=s[1],0<n.za-n.T&&37500>s[2]&&n.F&&0==n.v&&!n.C&&(n.C=je(c(n.Za,n),6e3));if(1>=$e(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&an(n),!m(t))for(s=n.Da.g.parse(t),t=0;t<s.length;t++){let c=s[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const s=c[4];null!=s&&(n.Aa=s,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(et(o,o.h),o.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var i=e;if((r=n).qa=hn(r,r.J?r.ia:null,r.W),i.K){tt(r.h,i);var a=i,l=r.L;l&&(a.I=l),a.B&&(We(a),qe(a)),r.g=i}else nn(r);0<n.i.length&&$t(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Qt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}ke()}catch(u){}}Re.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Wt(e)?t.j():this.Y(e)},Re.prototype.Y=function(e){try{if(e==this.g)e:{const h=Wt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Gt(this.g)))){this.J||4!=h||7==t||ke(),We(this);var n=this.g.Z();this.X=n;t:if(Be(this)){var r=Gt(this.g);e="";var o=r.length,i=4==Wt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ke(this),Ge(this);var a="";break t}this.h.i=new s.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(i&&t==o-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,s,o,i){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+t+"\n"+n+"\n"+o+" "+i}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!m(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Ce(12),Ke(this),Ge(this);break e}Pe(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ye(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=Ve(this,a),e==Ue){4==h&&(this.s=4,Ce(14),n=!1),Pe(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,Ce(15),Pe(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Pe(this.i,this.l,e,null),Ye(this,e)}if(Be(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=a.length||this.h.h||(this.s=1,Ce(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),sn(d),d.M=!0,Ce(11))}}else Pe(this.i,this.l,a,"[Invalid Chunked Response]"),Ke(this),Ge(this)}else Pe(this.i,this.l,a,null),Ye(this,a);4==h&&Ke(this),this.o&&!this.J&&(4==h?ln(this.j,this):(this.o=!1,qe(this)))}else(function(e){const t={};e=(e.g&&2<=Wt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(m(e[r]))continue;var n=_(e[r]);const s=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[s]||[];t[s]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Ce(12)):(this.s=0,Ce(13)),Ke(this),Ge(this)}}}catch(h){}},Re.prototype.cancel=function(){this.J=!0,Ke(this)},Re.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(ke(),Ce(17)),Ke(this),this.s=2,Ge(this)):He(this,this.S-e)};var Qe=class{constructor(e,t){this.g=e,this.map=t}};function Je(e){this.l=e||10,s.PerformanceNavigationTiming?e=0<(e=s.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function $e(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(o(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(o(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(o(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),s=r.length,i=0;i<s;i++)t.call(void 0,r[i],n&&n[i],e)}Je.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var st=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ot(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof ot){this.h=e.h,at(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new wt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(st))?(this.h=!1,at(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new wt(null,this.h))}function it(e){return new ot(e)}function at(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof wt?(e.i=t,function(e,t){t&&!e.j&&(_t(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Et(this,t),St(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=pt(t,bt)),e.i=new wt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function pt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,mt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function mt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ot.prototype.toString=function(){var e=[],t=this.j;t&&e.push(pt(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(pt(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(pt(n,"/"==n.charAt(0)?yt:vt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",pt(n,xt)),e.join("")};var ft,gt=/[#\/\?@]/g,vt=/[#\?:]/g,yt=/[#\?]/g,bt=/[#\?@]/g,xt=/#/g;function wt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function _t(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),s=null;if(0<=r){var o=e[n].substring(0,r);s=e[n].substring(r+1)}else o=e[n];t(o,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Et(e,t){_t(e),t=Ct(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function kt(e,t){return _t(e),t=Ct(e,t),e.g.has(t)}function St(e,t,n){Et(e,t),0<n.length&&(e.i=null,e.g.set(Ct(e,t),h(n)),e.h+=n.length)}function Ct(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Nt(e,t,n,r,s){try{s&&(s.onload=null,s.onerror=null,s.onabort=null,s.ontimeout=null),r(n)}catch(o){}}function jt(){this.g=new pe}function Tt(e,t,n){const r=n||"";try{rt(e,(function(e,n){let s=e;i(e)&&(s=de(e)),t.push(r+n+"="+encodeURIComponent(s))}))}catch(Lj){throw t.push(r+"type="+encodeURIComponent("_badmap")),Lj}}function Pt(e){this.l=e.Ub||null,this.j=e.eb||!1}function It(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Lt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function At(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Ot(e)}function Ot(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Rt(e){let t="";return y(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Dt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Rt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Mt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=wt.prototype).add=function(e,t){_t(this),this.i=null,e=Ct(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){_t(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){_t(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const s=e[r];for(let e=0;e<s.length;e++)n.push(t[r])}return n},e.V=function(e){_t(this);let t=[];if("string"===typeof e)kt(this,e)&&(t=t.concat(this.g.get(Ct(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return _t(this),this.i=null,kt(this,e=Ct(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),i=this.V(r);for(r=0;r<i.length;r++){var s=o;""!==i[r]&&(s+="="+encodeURIComponent(String(i[r]))),e.push(s)}}return this.i=e.join("&")},d(Pt,me),Pt.prototype.g=function(){return new It(this.l,this.j)},Pt.prototype.i=(ft={},function(){return ft}),d(It,ne),(e=It.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Ot(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||s).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,At(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ot(this)),this.g&&(this.readyState=3,Ot(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof s.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Lt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?At(this):Ot(this),3==this.readyState&&Lt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,At(this))},e.Qa=function(e){this.g&&(this.response=e,At(this))},e.ga=function(){this.g&&At(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(It.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Mt,ne);var Ut=/^https?$/i,Ft=["POST","PUT"];function zt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Bt(e),qt(e)}function Bt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Vt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Wt(e)||2!=e.Z()))if(e.u&&4==Wt(e))oe(e.Ea,0,e);else if(re(e,"readystatechange"),4==Wt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var o;if(o=0===r){var i=String(e.D).match(st)[1]||null;!i&&s.self&&s.self.location&&(i=s.self.location.protocol.slice(0,-1)),o=!Ut.test(i?i.toLowerCase():"")}n=o}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var a=2<Wt(e)?e.g.statusText:""}catch(l){a=""}e.l=a+" ["+e.Z()+"]",Bt(e)}}finally{qt(e)}}}function qt(e,t){if(e.g){Ht(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(Lj){}}}function Ht(e){e.I&&(s.clearTimeout(e.I),e.I=null)}function Wt(e){return e.g?e.g.readyState:0}function Gt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Kt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Yt(e){this.Aa=0,this.i=[],this.j=new Te,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kt("baseRetryDelayMs",5e3,e),this.cb=Kt("retryDelaySeedMs",1e4,e),this.Wa=Kt("forwardChannelMaxRetries",2,e),this.wa=Kt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Je(e&&e.concurrentRequestLimit),this.Da=new jt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Qt(e){if(Xt(e),3==e.G){var t=e.U++,n=it(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new Re(e,e.j,t)).L=2,t.v=dt(it(n)),n=!1,s.navigator&&s.navigator.sendBeacon)try{n=s.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&s.Image&&((new Image).src=t.v,n=!0),n||(t.g=pn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),qe(t)}dn(e)}function Jt(e){e.g&&(sn(e),e.g.cancel(),e.g=null)}function Xt(e){Jt(e),e.u&&(s.clearTimeout(e.u),e.u=null),an(e),e.h.cancel(),e.s&&("number"===typeof e.s&&s.clearTimeout(e.s),e.s=null)}function $t(e){if(!Xe(e.h)&&!e.s){e.s=!0;var t=e.Ga;N||P(),j||(N(),j=!0),T.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=it(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Dt(r,e.m,e.o),n=new Re(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Fe(n,r,t)}function en(e,t){e.H&&y(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var s=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=s[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let i=!0;for(let a=0;a<n;a++){let n=s[a].g;const l=s[a].map;if(n-=t,0>n)t=Math.max(0,s[a].g-100),i=!1;else try{Tt(l,e,"req"+n+"_")}catch(o){r&&r(l)}}if(i){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;N||P(),j||(N(),j=!0),T.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=je(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function sn(e){null!=e.A&&(s.clearTimeout(e.A),e.A=null)}function on(e){e.g=new Re(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=it(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Dt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(it(t)),n.m=null,n.P=!0,ze(n,e)}function an(e){null!=e.C&&(s.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){an(e),sn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var s=e.B;re(r=_e(),new Ne(r,n)),$t(e)}else nn(e);else if(3==(s=t.s)||0==s&&0<t.X||!(1==r&&function(e,t){return!($e(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=je(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),s){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new ot(r||"//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||at(r,"https"),dt(r),t?function(e,t){const n=new Te;if(s.Image){const r=new Image;r.onload=u(Nt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Nt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Nt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Nt,n,"TestLoadImage: timeout",!1,t,r),s.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Te;const n=new AbortController,r=setTimeout((()=>{n.abort(),Nt(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Nt(0,0,!0,t):Nt(0,0,!1,t)})).catch((()=>{clearTimeout(r),Nt(0,0,!1,t)}))}(r.toString(),n)}else Ce(2);e.G=0,e.l&&e.l.sa(t),dn(e),Xt(e)}function dn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(p(e.ka,t),p(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function hn(e,t,n){var r=n instanceof ot?it(n):new ot(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var o=s.location;r=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var i=new ot(null);r&&at(i,r),t&&(i.g=t),o&&lt(i,o),n&&(i.l=n),r=i}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function pn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Mt(new Pt({eb:n})):new Mt(e.pa)).Ha(e.J),t}function mn(){}function fn(){}function gn(e,t){ne.call(this),this.g=new Yt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!m(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!m(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function vn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=Mt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ie.g(),this.v=this.o?fe(this.o):fe(Ie),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(i){return void zt(this,i)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),o=s.FormData&&e instanceof s.FormData,!(0<=Array.prototype.indexOf.call(Ft,t,void 0))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ht(this),this.u=!0,this.g.send(e),this.u=!1}catch(i){zt(this,i)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),qt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qt(this,!0)),Mt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Vt(this):this.bb())},e.bb=function(){Vt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Wt(this)?this.g.status:-1}catch(ft){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(ft){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Yt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Ce(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=hn(this,null,this.W),$t(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const s=new Re(this,this.j,e);let o=this.o;if(this.S&&(o?(o=b(o),w(o,this.S)):o=this.S),null!==this.m||this.O||(s.H=o,o=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,s,t),ut(n=it(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Rt(o)))+"&"+t:this.m&&Dt(n,this.m,o)),et(this.h,s),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),s.T=!0,Fe(s,n,null)):Fe(s,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Xe(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,on(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=je(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ce(10),Jt(this),on(this))},e.Za=function(){null!=this.C&&(this.C=null,Jt(this),rn(this),Ce(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ce(2)):(this.j.info("Failed to ping google.com"),Ce(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=mn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},fn.prototype.g=function(e,t){return new gn(e,t)},d(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Qt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Qe(t.Ya++,e)),3==t.G&&$t(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Qt(this.g),delete this.g,gn.aa.N.call(this)},d(vn,ye),d(yn,be),d(bn,mn),bn.prototype.ua=function(){re(this.g,"a")},bn.prototype.ta=function(e){re(this.g,new vn(e))},bn.prototype.sa=function(e){re(this.g,new yn)},bn.prototype.ra=function(){re(this.g,"b")},fn.prototype.createWebChannel=fn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,hy=my.createWebChannelTransport=function(){return new fn},dy=my.getStatEventTarget=function(){return _e()},uy=my.Event=xe,cy=my.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Le.NO_ERROR=0,Le.TIMEOUT=8,Le.HTTP_ERROR=6,ly=my.ErrorCode=Le,Ae.COMPLETE="complete",ay=my.EventType=Ae,ge.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,iy=my.WebChannel=ge,my.FetchXmlHttpFactory=Pt,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,oy=my.XhrIo=Mt}).apply("undefined"!==typeof py?py:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const fy="@firebase/firestore",gy="4.7.17";class vy{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vy.UNAUTHENTICATED=new vy(null),vy.GOOGLE_CREDENTIALS=new vy("google-credentials-uid"),vy.FIRST_PARTY=new vy("first-party-uid"),vy.MOCK_USER=new vy("mock-user");let yy="11.9.0";const by=new ju("@firebase/firestore");function xy(){return by.logLevel}function wy(e){if(by.logLevel<=Eu.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(ky);by.debug("Firestore (".concat(yy,"): ").concat(e),...s)}}function _y(e){if(by.logLevel<=Eu.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(ky);by.error("Firestore (".concat(yy,"): ").concat(e),...s)}}function Ey(e){if(by.logLevel<=Eu.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(ky);by.warn("Firestore (".concat(yy,"): ").concat(e),...s)}}function ky(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Sy(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,Cy(e,r,n)}function Cy(e,t,n){let r="FIRESTORE (".concat(yy,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw _y(r),new Error(r)}function Ny(e,t,n,r){let s="Unexpected state";"string"==typeof n?s=n:r=n,e||Cy(t,s,r)}function jy(e,t){return e}const Ty={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Py extends iu{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Iy{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Ly{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Ay{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(vy.UNAUTHENTICATED)))}shutdown(){}}class Oy{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Ry{constructor(e){this.t=e,this.currentUser=vy.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ny(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let s=new Iy;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Iy,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=s;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},i=e=>{wy("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((e=>i(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?i(e):(wy("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Iy)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(wy("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Ny("string"==typeof t.accessToken,31837,{l:t}),new Ly(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ny(null===e||"string"==typeof e,2055,{h:e}),new vy(e)}}class Dy{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=vy.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class My{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Dy(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(vy.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Uy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Fy{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pd(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ny(void 0===this.o,3512);const n=e=>{null!=e.error&&wy("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,wy("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{wy("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):wy("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Uy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Ny("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new Uy(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function zy(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function By(){return new TextEncoder}class Vy{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=zy(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function qy(e,t){return e<t?-1:e>t?1:0}function Hy(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),s=t.codePointAt(n);if(r!==s){if(r<128&&s<128)return qy(r,s);{const o=By(),i=Gy(o.encode(Wy(e,n)),o.encode(Wy(t,n)));return 0!==i?i:qy(r,s)}}n+=r>65535?2:1}return qy(e.length,t.length)}function Wy(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function Gy(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return qy(e[n],t[n]);return qy(e.length,t.length)}function Ky(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}const Yy=-62135596800,Qy=1e6;class Jy{static now(){return Jy.fromMillis(Date.now())}static fromDate(e){return Jy.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Qy);return new Jy(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Py(Ty.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Py(Ty.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Yy)throw new Py(Ty.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Py(Ty.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Qy}_compareTo(e){return this.seconds===e.seconds?qy(this.nanoseconds,e.nanoseconds):qy(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Yy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Xy{static fromTimestamp(e){return new Xy(e)}static min(){return new Xy(new Jy(0,0))}static max(){return new Xy(new Jy(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const $y="__name__";class Zy{constructor(e,t,n){void 0===t?t=0:t>e.length&&Sy(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&Sy(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Zy.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Zy?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Zy.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return qy(e.length,t.length)}static compareSegments(e,t){const n=Zy.isNumericId(e),r=Zy.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Zy.extractNumericId(e).compare(Zy.extractNumericId(t)):Hy(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ty.fromString(e.substring(4,e.length-2))}}class eb extends Zy{construct(e,t,n){return new eb(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n){if(s.indexOf("//")>=0)throw new Py(Ty.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push(...s.split("/").filter((e=>e.length>0)))}return new eb(e)}static emptyPath(){return new eb([])}}const tb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nb extends Zy{construct(e,t,n){return new nb(e,t,n)}static isValidIdentifier(e){return tb.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nb.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===$y}static keyField(){return new nb([$y])}static fromServerFormat(e){const t=[];let n="",r=0;const s=()=>{if(0===n.length)throw new Py(Ty.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Py(Ty.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Py(Ty.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(s(),r++)}if(s(),o)throw new Py(Ty.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nb(t)}static emptyPath(){return new nb([])}}class rb{constructor(e){this.path=e}static fromPath(e){return new rb(eb.fromString(e))}static fromName(e){return new rb(eb.fromString(e).popFirst(5))}static empty(){return new rb(eb.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===eb.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return eb.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new rb(new eb(e.slice()))}}const sb=-1;class ob{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}ob.UNKNOWN_ID=-1;function ib(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,s=Xy.fromTimestamp(1e9===r?new Jy(n+1,0):new Jy(n,r));return new lb(s,rb.empty(),t)}function ab(e){return new lb(e.readTime,e.key,sb)}class lb{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new lb(Xy.min(),rb.empty(),sb)}static max(){return new lb(Xy.max(),rb.empty(),sb)}}function cb(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=rb.comparator(e.documentKey,t.documentKey),0!==n?n:qy(e.largestBatchId,t.largestBatchId))}const ub="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class db{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function hb(e){if(e.code!==Ty.FAILED_PRECONDITION||e.message!==ub)throw e;wy("LocalStore","Unexpectedly lost primary lease")}class pb{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Sy(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new pb(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof pb?t:pb.resolve(t)}catch(e){return pb.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):pb.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):pb.reject(t)}static resolve(e){return new pb(((t,n)=>{t(e)}))}static reject(e){return new pb(((t,n)=>{n(e)}))}static waitFor(e){return new pb(((t,n)=>{let r=0,s=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++s,o&&s===r&&t()}),(e=>n(e)))})),o=!0,s===r&&t()}))}static or(e){let t=pb.resolve(!1);for(const n of e)t=t.next((e=>e?pb.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new pb(((n,r)=>{const s=e.length,o=new Array(s);let i=0;for(let a=0;a<s;a++){const l=a;t(e[l]).next((e=>{o[l]=e,++i,i===s&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new pb(((n,r)=>{const s=()=>{!0===e()?t().next((()=>{s()}),r):n()};s()}))}}function mb(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fb(e){return"IndexedDbTransactionError"===e.name}class gb{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ue(e),this.ce=e=>t.writeSequenceNumber(e))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}gb.le=-1;const vb=-1;function yb(e){return null==e}function bb(e){return 0===e&&1/e==-1/0}function xb(e){return"number"==typeof e&&Number.isInteger(e)&&!bb(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const wb="\x01";function _b(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=kb(t)),t=Eb(e.get(n),t);return kb(t)}function Eb(e,t){let n=t;const r=e.length;for(let s=0;s<r;s++){const t=e.charAt(s);switch(t){case"\0":n+="\x01\x10";break;case wb:n+="\x01\x11";break;default:n+=t}}return n}function kb(e){return e+wb+"\x01"}const Sb="remoteDocuments",Cb="owner",Nb="mutationQueues",jb="mutations";const Tb="documentMutations",Pb="remoteDocumentsV14",Ib="remoteDocumentGlobal",Lb="targets",Ab="targetDocuments",Ob="targetGlobal",Rb="collectionParents",Db="clientMetadata",Mb="bundles",Ub="namedQueries",Fb="indexConfiguration",zb="indexState",Bb="indexEntries",Vb="documentOverlays",qb="globals",Hb=[Nb,jb,Tb,Sb,Lb,Cb,Ob,Ab,Db,Ib,Rb,Mb,Ub],Wb=[Nb,jb,Tb,Pb,Lb,Cb,Ob,Ab,Db,Ib,Rb,Mb,Ub,Vb],Gb=Wb,Kb=[...Gb,Fb,zb,Bb];function Yb(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Qb(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Jb(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Xb{constructor(e,t){this.comparator=e,this.root=t||Zb.EMPTY}insert(e,t){return new Xb(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zb.BLACK,null,null))}remove(e){return new Xb(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zb.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $b(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $b(this.root,e,this.comparator,!1)}getReverseIterator(){return new $b(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $b(this.root,e,this.comparator,!0)}}class $b{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zb{constructor(e,t,n,r,s){this.key=e,this.value=t,this.color=null!=n?n:Zb.RED,this.left=null!=r?r:Zb.EMPTY,this.right=null!=s?s:Zb.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,s){return new Zb(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const s=n(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Zb.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Zb.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zb.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zb.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Sy(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Sy(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Sy(27949);return e+(this.isRed()?0:1)}}Zb.EMPTY=null,Zb.RED=!0,Zb.BLACK=!1,Zb.EMPTY=new class{constructor(){this.size=0}get key(){throw Sy(57766)}get value(){throw Sy(16141)}get color(){throw Sy(16727)}get left(){throw Sy(29726)}get right(){throw Sy(36894)}copy(e,t,n,r,s){return this}insert(e,t,n){return new Zb(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ex{constructor(e){this.comparator=e,this.data=new Xb(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new tx(this.data.getIterator())}getIteratorFrom(e){return new tx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof ex))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ex(this.comparator);return t.data=e,t}}class tx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class nx{constructor(e){this.fields=e,e.sort(nb.comparator)}static empty(){return new nx([])}unionWith(e){let t=new ex(nb.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new nx(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ky(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class rx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class sx{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new rx("Invalid base64 string: "+e):e}}(e);return new sx(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new sx(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qy(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sx.EMPTY_BYTE_STRING=new sx("");const ox=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ix(e){if(Ny(!!e,39018),"string"==typeof e){let t=0;const n=ox.exec(e);if(Ny(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ax(e.seconds),nanos:ax(e.nanos)}}function ax(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function lx(e){return"string"==typeof e?sx.fromBase64String(e):sx.fromUint8Array(e)}const cx="server_timestamp",ux="__type__",dx="__previous_value__",hx="__local_write_time__";function px(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[ux])||void 0===n?void 0:n.stringValue)===cx}function mx(e){const t=e.mapValue.fields[dx];return px(t)?mx(t):t}function fx(e){const t=ix(e.mapValue.fields[hx].timestampValue);return new Jy(t.seconds,t.nanos)}class gx{constructor(e,t,n,r,s,o,i,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=i,this.longPollingOptions=a,this.useFetchStreams=l,this.isUsingEmulator=c}}const vx="(default)";class yx{constructor(e,t){this.projectId=e,this.database=t||vx}static empty(){return new yx("","")}get isDefaultDatabase(){return this.database===vx}isEqual(e){return e instanceof yx&&e.projectId===this.projectId&&e.database===this.database}}const bx="__type__",xx="__max__",wx={mapValue:{fields:{__type__:{stringValue:xx}}}},_x="__vector__",Ex="value";function kx(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?px(e)?4:Bx(e)?9007199254740991:Fx(e)?10:11:Sy(28295,{value:e})}function Sx(e,t){if(e===t)return!0;const n=kx(e);if(n!==kx(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return fx(e).isEqual(fx(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=ix(e.timestampValue),r=ix(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return lx(e.bytesValue).isEqual(lx(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ax(e.geoPointValue.latitude)===ax(t.geoPointValue.latitude)&&ax(e.geoPointValue.longitude)===ax(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ax(e.integerValue)===ax(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=ax(e.doubleValue),r=ax(t.doubleValue);return n===r?bb(n)===bb(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ky(e.arrayValue.values||[],t.arrayValue.values||[],Sx);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Yb(n)!==Yb(r))return!1;for(const s in n)if(n.hasOwnProperty(s)&&(void 0===r[s]||!Sx(n[s],r[s])))return!1;return!0}(e,t);default:return Sy(52216,{left:e})}}function Cx(e,t){return void 0!==(e.values||[]).find((e=>Sx(e,t)))}function Nx(e,t){if(e===t)return 0;const n=kx(e),r=kx(t);if(n!==r)return qy(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return qy(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=ax(e.integerValue||e.doubleValue),r=ax(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return jx(e.timestampValue,t.timestampValue);case 4:return jx(fx(e),fx(t));case 5:return Hy(e.stringValue,t.stringValue);case 6:return function(e,t){const n=lx(e),r=lx(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let s=0;s<n.length&&s<r.length;s++){const e=qy(n[s],r[s]);if(0!==e)return e}return qy(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=qy(ax(e.latitude),ax(t.latitude));return 0!==n?n:qy(ax(e.longitude),ax(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Tx(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,s,o;const i=e.fields||{},a=t.fields||{},l=null===(n=i[Ex])||void 0===n?void 0:n.arrayValue,c=null===(r=a[Ex])||void 0===r?void 0:r.arrayValue,u=qy((null===(s=null==l?void 0:l.values)||void 0===s?void 0:s.length)||0,(null===(o=null==c?void 0:c.values)||void 0===o?void 0:o.length)||0);return 0!==u?u:Tx(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===wx.mapValue&&t===wx.mapValue)return 0;if(e===wx.mapValue)return 1;if(t===wx.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),s=t.fields||{},o=Object.keys(s);r.sort(),o.sort();for(let i=0;i<r.length&&i<o.length;++i){const e=Hy(r[i],o[i]);if(0!==e)return e;const t=Nx(n[r[i]],s[o[i]]);if(0!==t)return t}return qy(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Sy(23264,{Pe:n})}}function jx(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return qy(e,t);const n=ix(e),r=ix(t),s=qy(n.seconds,r.seconds);return 0!==s?s:qy(n.nanos,r.nanos)}function Tx(e,t){const n=e.values||[],r=t.values||[];for(let s=0;s<n.length&&s<r.length;++s){const e=Nx(n[s],r[s]);if(e)return e}return qy(n.length,r.length)}function Px(e){return Ix(e)}function Ix(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=ix(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return lx(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return rb.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Ix(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const s of t)r?r=!1:n+=",",n+="".concat(s,":").concat(Ix(e.fields[s]));return n+"}"}(e.mapValue):Sy(61005,{value:e})}function Lx(e){switch(kx(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=mx(e);return t?16+Lx(t):16;case 5:return 2*e.stringValue.length;case 6:return lx(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+Lx(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Qb(e.fields,((e,n)=>{t+=e.length+Lx(n)})),t}(e.mapValue);default:throw Sy(13486,{value:e})}}function Ax(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Ox(e){return!!e&&"integerValue"in e}function Rx(e){return!!e&&"arrayValue"in e}function Dx(e){return!!e&&"nullValue"in e}function Mx(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ux(e){return!!e&&"mapValue"in e}function Fx(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[bx])||void 0===n?void 0:n.stringValue)===_x}function zx(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Qb(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=zx(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=zx(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Bx(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===xx}class Vx{constructor(e){this.value=e}static empty(){return new Vx({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Ux(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=zx(t)}setAll(e){let t=nb.emptyPath(),n={},r=[];e.forEach(((e,s)=>{if(!t.isImmediateParentOf(s)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=s.popLast()}e?n[s.lastSegment()]=zx(e):r.push(s.lastSegment())}));const s=this.getFieldsMap(t);this.applyChanges(s,n,r)}delete(e){const t=this.field(e.popLast());Ux(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Sx(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Ux(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Qb(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Vx(zx(this.value))}}function qx(e){const t=[];return Qb(e.fields,((e,n)=>{const r=new nb([e]);if(Ux(n)){const e=qx(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new nx(t)}class Hx{constructor(e,t,n,r,s,o,i){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=s,this.data=o,this.documentState=i}static newInvalidDocument(e){return new Hx(e,0,Xy.min(),Xy.min(),Xy.min(),Vx.empty(),0)}static newFoundDocument(e,t,n,r){return new Hx(e,1,t,Xy.min(),n,r,0)}static newNoDocument(e,t){return new Hx(e,2,t,Xy.min(),Xy.min(),Vx.empty(),0)}static newUnknownDocument(e,t){return new Hx(e,3,t,Xy.min(),Xy.min(),Vx.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Xy.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vx.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vx.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xy.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Hx&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Hx(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Wx{constructor(e,t){this.position=e,this.inclusive=t}}function Gx(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const o=t[s],i=e.position[s];if(r=o.field.isKeyField()?rb.comparator(rb.fromName(i.referenceValue),n.key):Nx(i,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Kx(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Sx(e.position[n],t.position[n]))return!1;return!0}class Yx{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Qx(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Jx{}class Xx extends Jx{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new ow(e,t,n):"array-contains"===t?new cw(e,n):"in"===t?new uw(e,n):"not-in"===t?new dw(e,n):"array-contains-any"===t?new hw(e,n):new Xx(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new iw(e,n):new aw(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Nx(t,this.value)):null!==t&&kx(this.value)===kx(t)&&this.matchesComparison(Nx(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Sy(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $x extends Jx{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new $x(e,t)}matches(e){return Zx(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.Te||(this.Te=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Zx(e){return"and"===e.op}function ew(e){return tw(e)&&Zx(e)}function tw(e){for(const t of e.filters)if(t instanceof $x)return!1;return!0}function nw(e){if(e instanceof Xx)return e.field.canonicalString()+e.op.toString()+Px(e.value);if(ew(e))return e.filters.map((e=>nw(e))).join(",");{const t=e.filters.map((e=>nw(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function rw(e,t){return e instanceof Xx?function(e,t){return t instanceof Xx&&e.op===t.op&&e.field.isEqual(t.field)&&Sx(e.value,t.value)}(e,t):e instanceof $x?function(e,t){return t instanceof $x&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&rw(n,t.filters[r])),!0)}(e,t):void Sy(19439)}function sw(e){return e instanceof Xx?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Px(e.value))}(e):e instanceof $x?function(e){return e.op.toString()+" {"+e.getFilters().map(sw).join(" ,")+"}"}(e):"Filter"}class ow extends Xx{constructor(e,t,n){super(e,t,n),this.key=rb.fromName(n.referenceValue)}matches(e){const t=rb.comparator(e.key,this.key);return this.matchesComparison(t)}}class iw extends Xx{constructor(e,t){super(e,"in",t),this.keys=lw("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class aw extends Xx{constructor(e,t){super(e,"not-in",t),this.keys=lw("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function lw(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>rb.fromName(e.referenceValue)))}class cw extends Xx{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Rx(t)&&Cx(t.arrayValue,this.value)}}class uw extends Xx{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Cx(this.value.arrayValue,t)}}class dw extends Xx{constructor(e,t){super(e,"not-in",t)}matches(e){if(Cx(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Cx(this.value.arrayValue,t)}}class hw extends Xx{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Rx(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Cx(this.value.arrayValue,e)))}}class pw{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=s,this.startAt=o,this.endAt=i,this.Ie=null}}function mw(e){return new pw(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function fw(e){const t=jy(e);if(null===t.Ie){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>nw(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),yb(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Px(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Px(e))).join(",")),t.Ie=e}return t.Ie}function gw(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Qx(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!rw(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Kx(e.startAt,t.startAt)&&Kx(e.endAt,t.endAt)}function vw(e){return rb.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class yw{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=s,this.limitType=o,this.startAt=i,this.endAt=a,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function bw(e,t,n,r,s,o,i,a){return new yw(e,t,n,r,s,o,i,a)}function xw(e){return new yw(e)}function ww(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function _w(e){return null!==e.collectionGroup}function Ew(e){const t=jy(e);if(null===t.Ee){t.Ee=[];const e=new Set;for(const s of t.explicitOrderBy)t.Ee.push(s),e.add(s.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new ex(nb.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ee.push(new Yx(r,n))})),e.has(nb.keyField().canonicalString())||t.Ee.push(new Yx(nb.keyField(),n))}return t.Ee}function kw(e){const t=jy(e);return t.de||(t.de=Sw(t,Ew(e))),t.de}function Sw(e,t){if("F"===e.limitType)return mw(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Yx(e.field,t)}));const n=e.endAt?new Wx(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Wx(e.startAt.position,e.startAt.inclusive):null;return mw(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Cw(e,t){const n=e.filters.concat([t]);return new yw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Nw(e,t,n){return new yw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function jw(e,t){return gw(kw(e),kw(t))&&e.limitType===t.limitType}function Tw(e){return"".concat(fw(kw(e)),"|lt:").concat(e.limitType)}function Pw(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>sw(e))).join(", "),"]")),yb(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Px(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Px(e))).join(",")),"Target(".concat(t,")")}(kw(e)),"; limitType=").concat(e.limitType,")")}function Iw(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):rb.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Ew(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Gx(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Ew(e),t))&&!(e.endAt&&!function(e,t,n){const r=Gx(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Ew(e),t))}(e,t)}function Lw(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Aw(e){return(t,n)=>{let r=!1;for(const s of Ew(e)){const e=Ow(s,t,n);if(0!==e)return e;r=r||s.field.isKeyField()}return 0}}function Ow(e,t,n){const r=e.field.isKeyField()?rb.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),s=n.data.field(e);return null!==r&&null!==s?Nx(r,s):Sy(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Sy(19790,{direction:e.dir})}}class Rw{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,s]of n)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Qb(this.inner,((t,n)=>{for(const[r,s]of n)e(r,s)}))}isEmpty(){return Jb(this.inner)}size(){return this.innerSize}}const Dw=new Xb(rb.comparator);function Mw(){return Dw}const Uw=new Xb(rb.comparator);function Fw(){let e=Uw;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n)e=e.insert(s.key,s);return e}function zw(e){let t=Uw;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Bw(){return qw()}function Vw(){return qw()}function qw(){return new Rw((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Hw=new Xb(rb.comparator),Ww=new ex(rb.comparator);function Gw(){let e=Ww;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n)e=e.add(s);return e}const Kw=new ex(qy);function Yw(){return Kw}function Qw(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bb(t)?"-0":t}}function Jw(e){return{integerValue:""+e}}function Xw(e,t){return xb(t)?Jw(t):Qw(e,t)}class $w{constructor(){this._=void 0}}function Zw(e,t,n){return e instanceof n_?function(e,t){const n={fields:{[ux]:{stringValue:cx},[hx]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&px(t)&&(t=mx(t)),t&&(n.fields[dx]=t),{mapValue:n}}(n,t):e instanceof r_?s_(e,t):e instanceof o_?i_(e,t):function(e,t){const n=t_(e,t),r=l_(n)+l_(e.Re);return Ox(n)&&Ox(e.Re)?Jw(r):Qw(e.serializer,r)}(e,t)}function e_(e,t,n){return e instanceof r_?s_(e,t):e instanceof o_?i_(e,t):n}function t_(e,t){return e instanceof a_?function(e){return Ox(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class n_ extends $w{}class r_ extends $w{constructor(e){super(),this.elements=e}}function s_(e,t){const n=c_(t);for(const r of e.elements)n.some((e=>Sx(e,r)))||n.push(r);return{arrayValue:{values:n}}}class o_ extends $w{constructor(e){super(),this.elements=e}}function i_(e,t){let n=c_(t);for(const r of e.elements)n=n.filter((e=>!Sx(e,r)));return{arrayValue:{values:n}}}class a_ extends $w{constructor(e,t){super(),this.serializer=e,this.Re=t}}function l_(e){return ax(e.integerValue||e.doubleValue)}function c_(e){return Rx(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class u_{constructor(e,t){this.field=e,this.transform=t}}class d_{constructor(e,t){this.version=e,this.transformResults=t}}class h_{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new h_}static exists(e){return new h_(void 0,e)}static updateTime(e){return new h_(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function p_(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class m_{}function f_(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new S_(e.key,h_.none()):new x_(e.key,e.data,h_.none());{const n=e.data,r=Vx.empty();let s=new ex(nb.comparator);for(let e of t.fields)if(!s.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),s=s.add(e)}return new w_(e.key,r,new nx(s.toArray()),h_.none())}}function g_(e,t,n){e instanceof x_?function(e,t,n){const r=e.value.clone(),s=E_(e.fieldTransforms,t,n.transformResults);r.setAll(s),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof w_?function(e,t,n){if(!p_(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=E_(e.fieldTransforms,t,n.transformResults),s=t.data;s.setAll(__(e)),s.setAll(r),t.convertToFoundDocument(n.version,s).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function v_(e,t,n,r){return e instanceof x_?function(e,t,n,r){if(!p_(e.precondition,t))return n;const s=e.value.clone(),o=k_(e.fieldTransforms,r,t);return s.setAll(o),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null}(e,t,n,r):e instanceof w_?function(e,t,n,r){if(!p_(e.precondition,t))return n;const s=k_(e.fieldTransforms,r,t),o=t.data;return o.setAll(__(e)),o.setAll(s),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return p_(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function y_(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),s=t_(r.transform,e||null);null!=s&&(null===n&&(n=Vx.empty()),n.set(r.field,s))}return n||null}function b_(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ky(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof r_&&t instanceof r_||e instanceof o_&&t instanceof o_?Ky(e.elements,t.elements,Sx):e instanceof a_&&t instanceof a_?Sx(e.Re,t.Re):e instanceof n_&&t instanceof n_}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class x_ extends m_{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class w_ extends m_{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function __(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function E_(e,t,n){const r=new Map;Ny(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let s=0;s<n.length;s++){const o=e[s],i=o.transform,a=t.data.field(o.field);r.set(o.field,e_(i,a,n[s]))}return r}function k_(e,t,n){const r=new Map;for(const s of e){const e=s.transform,o=n.data.field(s.field);r.set(s.field,Zw(e,o,t))}return r}class S_ extends m_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class C_ extends m_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class N_{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&g_(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=v_(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=v_(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Vw();return this.mutations.forEach((r=>{const s=e.get(r.key),o=s.overlayedDocument;let i=this.applyToLocalView(o,s.mutatedFields);i=t.has(r.key)?null:i;const a=f_(o,i);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(Xy.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Gw())}isEqual(e){return this.batchId===e.batchId&&Ky(this.mutations,e.mutations,((e,t)=>b_(e,t)))&&Ky(this.baseMutations,e.baseMutations,((e,t)=>b_(e,t)))}}class j_{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Ny(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let r=Hw;const s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,n[o].version);return new j_(e,t,n,r)}}class T_{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class P_{constructor(e,t){this.count=e,this.unchangedNames=t}}var I_,L_;function A_(e){switch(e){case Ty.OK:return Sy(64938);case Ty.CANCELLED:case Ty.UNKNOWN:case Ty.DEADLINE_EXCEEDED:case Ty.RESOURCE_EXHAUSTED:case Ty.INTERNAL:case Ty.UNAVAILABLE:case Ty.UNAUTHENTICATED:return!1;case Ty.INVALID_ARGUMENT:case Ty.NOT_FOUND:case Ty.ALREADY_EXISTS:case Ty.PERMISSION_DENIED:case Ty.FAILED_PRECONDITION:case Ty.ABORTED:case Ty.OUT_OF_RANGE:case Ty.UNIMPLEMENTED:case Ty.DATA_LOSS:return!0;default:return Sy(15467,{code:e})}}function O_(e){if(void 0===e)return _y("GRPC error has no .code"),Ty.UNKNOWN;switch(e){case I_.OK:return Ty.OK;case I_.CANCELLED:return Ty.CANCELLED;case I_.UNKNOWN:return Ty.UNKNOWN;case I_.DEADLINE_EXCEEDED:return Ty.DEADLINE_EXCEEDED;case I_.RESOURCE_EXHAUSTED:return Ty.RESOURCE_EXHAUSTED;case I_.INTERNAL:return Ty.INTERNAL;case I_.UNAVAILABLE:return Ty.UNAVAILABLE;case I_.UNAUTHENTICATED:return Ty.UNAUTHENTICATED;case I_.INVALID_ARGUMENT:return Ty.INVALID_ARGUMENT;case I_.NOT_FOUND:return Ty.NOT_FOUND;case I_.ALREADY_EXISTS:return Ty.ALREADY_EXISTS;case I_.PERMISSION_DENIED:return Ty.PERMISSION_DENIED;case I_.FAILED_PRECONDITION:return Ty.FAILED_PRECONDITION;case I_.ABORTED:return Ty.ABORTED;case I_.OUT_OF_RANGE:return Ty.OUT_OF_RANGE;case I_.UNIMPLEMENTED:return Ty.UNIMPLEMENTED;case I_.DATA_LOSS:return Ty.DATA_LOSS;default:return Sy(39323,{code:e})}}(L_=I_||(I_={}))[L_.OK=0]="OK",L_[L_.CANCELLED=1]="CANCELLED",L_[L_.UNKNOWN=2]="UNKNOWN",L_[L_.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",L_[L_.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",L_[L_.NOT_FOUND=5]="NOT_FOUND",L_[L_.ALREADY_EXISTS=6]="ALREADY_EXISTS",L_[L_.PERMISSION_DENIED=7]="PERMISSION_DENIED",L_[L_.UNAUTHENTICATED=16]="UNAUTHENTICATED",L_[L_.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",L_[L_.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",L_[L_.ABORTED=10]="ABORTED",L_[L_.OUT_OF_RANGE=11]="OUT_OF_RANGE",L_[L_.UNIMPLEMENTED=12]="UNIMPLEMENTED",L_[L_.INTERNAL=13]="INTERNAL",L_[L_.UNAVAILABLE=14]="UNAVAILABLE",L_[L_.DATA_LOSS=15]="DATA_LOSS";let R_=null;const D_=new ty([4294967295,4294967295],0);function M_(e){const t=By().encode(e),n=new ny;return n.update(t),new Uint8Array(n.digest())}function U_(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new ty([n,r],0),new ty([s,o],0)]}class F_{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new z_("Invalid padding: ".concat(t));if(n<0)throw new z_("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new z_("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new z_("Invalid padding when bitmap length is 0: ".concat(t));this.pe=8*e.length-t,this.ye=ty.fromNumber(this.pe)}we(e,t,n){let r=e.add(t.multiply(ty.fromNumber(n)));return 1===r.compare(D_)&&(r=new ty([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.pe)return!1;const t=M_(e),[n,r]=U_(t);for(let s=0;s<this.hashCount;s++){const e=this.we(n,r,s);if(!this.be(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new F_(s,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.pe)return;const t=M_(e),[n,r]=U_(t);for(let s=0;s<this.hashCount;s++){const e=this.we(n,r,s);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class z_ extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class B_{constructor(e,t,n,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,V_.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new B_(Xy.min(),r,new Xb(qy),Mw(),Gw())}}class V_{constructor(e,t,n,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new V_(n,t,Gw(),Gw(),Gw())}}class q_{constructor(e,t,n,r){this.De=e,this.removedTargetIds=t,this.key=n,this.ve=r}}class H_{constructor(e,t){this.targetId=e,this.Ce=t}}class W_{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sx.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class G_{constructor(){this.Fe=0,this.Me=Q_(),this.xe=sx.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return 0!==this.Fe}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Gw(),t=Gw(),n=Gw();return this.Me.forEach(((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Sy(38017,{changeType:s})}})),new V_(this.xe,this.Oe,e,t,n)}Qe(){this.Ne=!1,this.Me=Q_()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ny(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class K_{constructor(e){this.ze=e,this.je=new Map,this.He=Mw(),this.Je=Y_(),this.Ye=Y_(),this.Ze=new Xb(qy)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,(t=>{const n=this.rt(t);switch(e.state){case 0:this.it(t)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(t);break;case 3:this.it(t)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),n.ke(e.resumeToken));break;default:Sy(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach(((e,n)=>{this.it(n)&&t(n)}))}ot(e){const t=e.targetId,n=e.Ce.count,r=this._t(t);if(r){const s=r.target;if(vw(s))if(0===n){const e=new rb(s.path);this.tt(t,e,Hx.newNoDocument(e,Xy.min()))}else Ny(1===n,20013,{expectedCount:n});else{const r=this.ut(t);if(r!==n){const n=this.ct(e),s=n?this.lt(n,e,r):1;if(0!==s){this.st(t);const e=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,e)}null==R_||R_.ht(function(e,t,n,r,s){var o,i,a,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===s,hashCount:null!==(o=null==h?void 0:h.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(a=null===(i=null==h?void 0:h.bits)||void 0===i?void 0:i.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.Ce,this.ze.Pt(),n,s))}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:s=0}=t;let o,i;try{o=lx(n).toUint8Array()}catch(e){if(e instanceof rx)return Ey("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{i=new F_(o,r,s)}catch(e){return Ey(e instanceof z_?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===i.pe?null:i}lt(e,t,n){return t.Ce.count===n-this.Tt(e,t.targetId)?0:2}Tt(e,t){const n=this.ze.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const s=this.ze.Pt(),o="projects/".concat(s.projectId,"/databases/").concat(s.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.tt(t,n,null),r++)})),r}It(e){const t=new Map;this.je.forEach(((n,r)=>{const s=this._t(r);if(s){if(n.current&&vw(s.target)){const t=new rb(s.target.path);this.Et(t).has(r)||this.dt(r,t)||this.tt(r,t,Hx.newNoDocument(t,e))}n.Le&&(t.set(r,n.qe()),n.Qe())}}));let n=Gw();this.Ye.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this._t(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.He.forEach(((t,n)=>n.setReadTime(e)));const r=new B_(e,t,this.Ze,this.He,n);return this.He=Mw(),this.Je=Y_(),this.Ye=Y_(),this.Ze=new Xb(qy),r}et(e,t){if(!this.it(e))return;const n=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,n),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,n){if(!this.it(e))return;const r=this.rt(e);this.dt(e,t)?r.$e(t,1):r.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),n&&(this.He=this.He.insert(t,n))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new G_,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new ex(qy),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new ex(qy),this.Je=this.Je.insert(e,t)),t}it(e){const t=null!==this._t(e);return t||wy("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new G_),this.ze.getRemoteKeysForTarget(e).forEach((t=>{this.tt(e,t,null)}))}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Y_(){return new Xb(rb.comparator)}function Q_(){return new Xb(rb.comparator)}const J_={asc:"ASCENDING",desc:"DESCENDING"},X_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$_={and:"AND",or:"OR"};class Z_{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function eE(e,t){return e.useProto3Json||yb(t)?t:{value:t}}function tE(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function nE(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function rE(e,t){return tE(e,t.toTimestamp())}function sE(e){return Ny(!!e,49232),Xy.fromTimestamp(function(e){const t=ix(e);return new Jy(t.seconds,t.nanos)}(e))}function oE(e,t){return iE(e,t).canonicalString()}function iE(e,t){const n=function(e){return new eb(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function aE(e){const t=eb.fromString(e);return Ny(NE(t),10190,{key:t.toString()}),t}function lE(e,t){return oE(e.databaseId,t.path)}function cE(e,t){const n=aE(t);if(n.get(1)!==e.databaseId.projectId)throw new Py(Ty.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Py(Ty.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new rb(pE(n))}function uE(e,t){return oE(e.databaseId,t)}function dE(e){const t=aE(e);return 4===t.length?eb.emptyPath():pE(t)}function hE(e){return new eb(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function pE(e){return Ny(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function mE(e,t,n){return{name:lE(e,t),fields:n.value.mapValue.fields}}function fE(e,t){let n;if(t instanceof x_)n={update:mE(e,t.key,t.value)};else if(t instanceof S_)n={delete:lE(e,t.key)};else if(t instanceof w_)n={update:mE(e,t.key,t.data),updateMask:CE(t.fieldMask)};else{if(!(t instanceof C_))return Sy(16599,{ft:t.type});n={verify:lE(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof n_)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof r_)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof o_)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof a_)return{fieldPath:t.field.canonicalString(),increment:n.Re};throw Sy(20930,{transform:t.transform})}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:rE(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Sy(27497)}(e,t.precondition)),n}function gE(e,t){return{documents:[uE(e,t.path)]}}function vE(e,t){const n={structuredQuery:{}},r=t.path;let s;null!==t.collectionGroup?(s=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=uE(e,s);const o=function(e){if(0!==e.length)return SE($x.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const i=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:EE(e.field),direction:xE(e.dir)}}(e)))}(t.orderBy);i&&(n.structuredQuery.orderBy=i);const a=eE(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{gt:n,parent:s}}function yE(e){let t=dE(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ny(1===r,65062);const e=n.from[0];e.allDescendants?s=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=bE(e);return t instanceof $x&&ew(t)?t.getFilters():[t]}(n.where));let i=[];n.orderBy&&(i=function(e){return e.map((e=>function(e){return new Yx(kE(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,yb(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Wx(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Wx(n,t)}(n.endAt)),bw(t,s,i,o,a,"F",l,c)}function bE(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=kE(e.unaryFilter.field);return Xx.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=kE(e.unaryFilter.field);return Xx.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=kE(e.unaryFilter.field);return Xx.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=kE(e.unaryFilter.field);return Xx.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Sy(61313);default:return Sy(60726)}}(e):void 0!==e.fieldFilter?function(e){return Xx.create(kE(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Sy(58110);default:return Sy(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return $x.create(e.compositeFilter.filters.map((e=>bE(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Sy(1026)}}(e.compositeFilter.op))}(e):Sy(30097,{filter:e})}function xE(e){return J_[e]}function wE(e){return X_[e]}function _E(e){return $_[e]}function EE(e){return{fieldPath:e.canonicalString()}}function kE(e){return nb.fromServerFormat(e.fieldPath)}function SE(e){return e instanceof Xx?function(e){if("=="===e.op){if(Mx(e.value))return{unaryFilter:{field:EE(e.field),op:"IS_NAN"}};if(Dx(e.value))return{unaryFilter:{field:EE(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Mx(e.value))return{unaryFilter:{field:EE(e.field),op:"IS_NOT_NAN"}};if(Dx(e.value))return{unaryFilter:{field:EE(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:EE(e.field),op:wE(e.op),value:e.value}}}(e):e instanceof $x?function(e){const t=e.getFilters().map((e=>SE(e)));return 1===t.length?t[0]:{compositeFilter:{op:_E(e.op),filters:t}}}(e):Sy(54877,{filter:e})}function CE(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function NE(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class jE{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Xy.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Xy.min(),i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:sx.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=i,this.expectedCount=a}withSequenceNumber(e){return new jE(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new jE(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new jE(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new jE(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class TE{constructor(e){this.wt=e}}function PE(e){const t=yE({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Nw(t,t.limit,"L"):t}class IE{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(ax(e.integerValue));else if("doubleValue"in e){const n=ax(e.doubleValue);isNaN(n)?this.Mt(t,13):(this.Mt(t,15),bb(n)?t.xt(0):t.xt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Mt(t,20),"string"==typeof n&&(n=ix(n)),t.Ot("".concat(n.seconds||"")),t.xt(n.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(lx(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Mt(t,45),t.xt(n.latitude||0),t.xt(n.longitude||0)}else"mapValue"in e?Bx(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):Fx(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):Sy(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){const n=e.fields||{};this.Mt(t,55);for(const r of Object.keys(n))this.Nt(r,t),this.Ct(n[r],t)}qt(e,t){var n,r;const s=e.fields||{};this.Mt(t,53);const o=Ex,i=(null===(r=null===(n=s[o].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Mt(t,15),t.xt(ax(i)),this.Nt(o,t),this.Ct(s[o],t)}$t(e,t){const n=e.values||[];this.Mt(t,50);for(const r of n)this.Ct(r,t)}kt(e,t){this.Mt(t,37),rb.fromName(e).path.forEach((e=>{this.Mt(t,60),this.Kt(e,t)}))}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}}IE.Wt=new IE;class LE{constructor(){this.Cn=new AE}addToCollectionParentIndex(e,t){return this.Cn.add(t),pb.resolve()}getCollectionParents(e,t){return pb.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return pb.resolve()}deleteFieldIndex(e,t){return pb.resolve()}deleteAllFieldIndexes(e){return pb.resolve()}createTargetIndexes(e,t){return pb.resolve()}getDocumentsMatchingTarget(e,t){return pb.resolve(null)}getIndexType(e,t){return pb.resolve(0)}getFieldIndexes(e,t){return pb.resolve([])}getNextCollectionGroupToUpdate(e){return pb.resolve(null)}getMinOffset(e,t){return pb.resolve(lb.min())}getMinOffsetFromCollectionGroup(e,t){return pb.resolve(lb.min())}updateCollectionGroup(e,t,n){return pb.resolve()}updateIndexEntries(e,t){return pb.resolve()}}class AE{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ex(eb.comparator),s=!r.has(n);return this.index[t]=r.add(n),s}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new ex(eb.comparator)).toArray()}}new Uint8Array(0);const OE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},RE=41943040;class DE{static withCacheSize(e){return new DE(e,DE.DEFAULT_COLLECTION_PERCENTILE,DE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}DE.DEFAULT_COLLECTION_PERCENTILE=10,DE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,DE.DEFAULT=new DE(RE,DE.DEFAULT_COLLECTION_PERCENTILE,DE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),DE.DISABLED=new DE(-1,0,0);class ME{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new ME(0)}static lr(){return new ME(-1)}}const UE="LruGarbageCollector",FE=1048576;function zE(e,t){let[n,r]=e,[s,o]=t;const i=qy(n,s);return 0===i?qy(r,o):i}class BE{constructor(e){this.Er=e,this.buffer=new ex(zE),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();zE(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class VE{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Vr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return null!==this.Vr}mr(e){wy(UE,"Garbage collection scheduled in ".concat(e,"ms")),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){fb(e)?wy(UE,"Ignoring IndexedDB error during garbage collection: ",e):await hb(e)}await this.mr(3e5)}))}}class qE{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return pb.resolve(gb.le);const n=new BE(t);return this.gr.forEachTarget(e,(e=>n.Rr(e.sequenceNumber))).next((()=>this.gr.yr(e,(e=>n.Rr(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.gr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(wy("LruGarbageCollector","Garbage collection skipped; disabled"),pb.resolve(OE)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(wy("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),OE):this.wr(e,t)))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let n,r,s,o,i,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(wy("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,i=Date.now(),this.removeTargets(e,n,t)))).next((t=>(s=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),xy()<=Eu.DEBUG&&wy("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(i-o)+"ms\n"+"\tRemoved ".concat(s," targets in ")+(a-i)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),pb.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:e}))))}}function HE(e,t){return new qE(e,t)}class WE{constructor(){this.changes=new Rw((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Hx.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?pb.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class GE{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class KE{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&v_(n.mutation,e,nx.empty(),Jy.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Gw()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Gw();const r=Bw();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Fw();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Bw();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Gw())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let s=Mw();const o=qw(),i=qw();return t.forEach(((e,t)=>{const i=n.get(t.key);r.has(t.key)&&(void 0===i||i.mutation instanceof w_)?s=s.insert(t.key,t):void 0!==i?(o.set(t.key,i.mutation.getFieldMask()),v_(i.mutation,t,i.mutation.getFieldMask(),Jy.now())):o.set(t.key,nx.empty())})),this.recalculateAndSaveOverlays(e,s).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return i.set(e,new GE(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),i)))}recalculateAndSaveOverlays(e,t){const n=qw();let r=new Xb(((e,t)=>e-t)),s=Gw();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const s of e)s.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let i=n.get(e)||nx.empty();i=s.applyToLocalView(o,i),n.set(e,i);const a=(r.get(s.batchId)||Gw()).add(e);r=r.insert(s.batchId,a)}))})).next((()=>{const o=[],i=r.getReverseIterator();for(;i.hasNext();){const r=i.getNext(),a=r.key,l=r.value,c=Vw();l.forEach((e=>{if(!s.has(e)){const r=f_(t.get(e),n.get(e));null!==r&&c.set(e,r),s=s.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,c))}return pb.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return rb.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):_w(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-s.size):pb.resolve(Bw());let i=sb,a=s;return o.next((t=>pb.forEach(t,((t,n)=>(i<n.largestBatchId&&(i=n.largestBatchId),s.get(t)?pb.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,s))).next((()=>this.computeViews(e,a,t,Gw()))).next((e=>({batchId:i,changes:zw(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new rb(t)).next((e=>{let t=Fw();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const s=t.collectionGroup;let o=Fw();return this.indexManager.getCollectionParents(e,s).next((i=>pb.forEach(i,(i=>{const a=function(e,t){return new yw(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,i.child(s));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,s,r)))).next((e=>{s.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Hx.newInvalidDocument(r)))}));let n=Fw();return e.forEach(((e,r)=>{const o=s.get(e);void 0!==o&&v_(o.mutation,r,nx.empty(),Jy.now()),Iw(t,r)&&(n=n.insert(e,r))})),n}))}}class YE{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return pb.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:sE(e.createTime)}}(t)),pb.resolve()}getNamedQuery(e,t){return pb.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(e){return{name:e.name,query:PE(e.bundledQuery),readTime:sE(e.readTime)}}(t)),pb.resolve()}}class QE{constructor(){this.overlays=new Xb(rb.comparator),this.Qr=new Map}getOverlay(e,t){return pb.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Bw();return pb.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.St(e,t,r)})),pb.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Qr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Qr.delete(n)),pb.resolve()}getOverlaysForCollection(e,t,n){const r=Bw(),s=t.length+1,o=new rb(t.child("")),i=this.overlays.getIteratorFrom(o);for(;i.hasNext();){const e=i.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===s&&e.largestBatchId>n&&r.set(e.getKey(),e)}return pb.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let s=new Xb(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=s.get(e.largestBatchId);null===t&&(t=Bw(),s=s.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const i=Bw(),a=s.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>i.set(e,t))),!(i.size()>=r)););return pb.resolve(i)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Qr.get(r.largestBatchId).delete(n.key);this.Qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new T_(t,n));let s=this.Qr.get(t);void 0===s&&(s=Gw(),this.Qr.set(t,s)),this.Qr.set(t,s.add(n.key))}}class JE{constructor(){this.sessionToken=sx.EMPTY_BYTE_STRING}getSessionToken(e){return pb.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,pb.resolve()}}class XE{constructor(){this.$r=new ex($E.Ur),this.Kr=new ex($E.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const n=new $E(e,t);this.$r=this.$r.add(n),this.Kr=this.Kr.add(n)}Gr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.zr(new $E(e,t))}jr(e,t){e.forEach((e=>this.removeReference(e,t)))}Hr(e){const t=new rb(new eb([])),n=new $E(t,e),r=new $E(t,e+1),s=[];return this.Kr.forEachInRange([n,r],(e=>{this.zr(e),s.push(e.key)})),s}Jr(){this.$r.forEach((e=>this.zr(e)))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new rb(new eb([])),n=new $E(t,e),r=new $E(t,e+1);let s=Gw();return this.Kr.forEachInRange([n,r],(e=>{s=s.add(e.key)})),s}containsKey(e){const t=new $E(e,0),n=this.$r.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class $E{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return rb.comparator(e.key,t.key)||qy(e.Zr,t.Zr)}static Wr(e,t){return qy(e.Zr,t.Zr)||rb.comparator(e.key,t.key)}}class ZE{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new ex($E.Ur)}checkEmpty(e){return pb.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new N_(s,t,n,r);this.mutationQueue.push(o);for(const i of r)this.Xr=this.Xr.add(new $E(i.key,s)),this.indexManager.addToCollectionParentIndex(e,i.key.path.popLast());return pb.resolve(o)}lookupMutationBatch(e,t){return pb.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ti(n),s=r<0?0:r;return pb.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return pb.resolve(0===this.mutationQueue.length?vb:this.nr-1)}getAllMutationBatches(e){return pb.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new $E(t,0),r=new $E(t,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([n,r],(e=>{const t=this.ei(e.Zr);s.push(t)})),pb.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ex(qy);return t.forEach((e=>{const t=new $E(e,0),r=new $E(e,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([t,r],(e=>{n=n.add(e.Zr)}))})),pb.resolve(this.ni(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let s=n;rb.isDocumentKey(s)||(s=s.child(""));const o=new $E(new rb(s),0);let i=new ex(qy);return this.Xr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(i=i.add(e.Zr)),!0)}),o),pb.resolve(this.ni(i))}ni(e){const t=[];return e.forEach((e=>{const n=this.ei(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Ny(0===this.ri(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Xr;return pb.forEach(t.mutations,(r=>{const s=new $E(r.key,t.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Xr=n}))}sr(e){}containsKey(e,t){const n=new $E(t,0),r=this.Xr.firstAfterOrEqual(n);return pb.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,pb.resolve()}ri(e,t){return this.ti(e)}ti(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ek{constructor(e){this.ii=e,this.docs=new Xb(rb.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),s=r?r.size:0,o=this.ii(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return pb.resolve(n?n.document.mutableCopy():Hx.newInvalidDocument(t))}getEntries(e,t){let n=Mw();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Hx.newInvalidDocument(e))})),pb.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let s=Mw();const o=t.path,i=new rb(o.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(i);for(;a.hasNext();){const{key:e,value:{document:i}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||cb(ab(i),n)<=0||(r.has(i.key)||Iw(t,i))&&(s=s.insert(i.key,i.mutableCopy()))}return pb.resolve(s)}getAllFromCollectionGroup(e,t,n,r){Sy(9500)}si(e,t){return pb.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new tk(this)}getSize(e){return pb.resolve(this.size)}}class tk extends WE{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Br.addEntry(e,r)):this.Br.removeEntry(n)})),pb.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}class nk{constructor(e){this.persistence=e,this.oi=new Rw((e=>fw(e)),gw),this.lastRemoteSnapshotVersion=Xy.min(),this.highestTargetId=0,this._i=0,this.ai=new XE,this.targetCount=0,this.ui=ME.cr()}forEachTarget(e,t){return this.oi.forEach(((e,n)=>t(n))),pb.resolve()}getLastRemoteSnapshotVersion(e){return pb.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pb.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),pb.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this._i&&(this._i=t),pb.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new ME(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,pb.resolve()}updateTargetData(e,t){return this.Tr(t),pb.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,pb.resolve()}removeTargets(e,t,n){let r=0;const s=[];return this.oi.forEach(((o,i)=>{i.sequenceNumber<=t&&null===n.get(i.targetId)&&(this.oi.delete(o),s.push(this.removeMatchingKeysForTargetId(e,i.targetId)),r++)})),pb.waitFor(s).next((()=>r))}getTargetCount(e){return pb.resolve(this.targetCount)}getTargetData(e,t){const n=this.oi.get(t)||null;return pb.resolve(n)}addMatchingKeys(e,t,n){return this.ai.Gr(t,n),pb.resolve()}removeMatchingKeys(e,t,n){this.ai.jr(t,n);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach((t=>{s.push(r.markPotentiallyOrphaned(e,t))})),pb.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),pb.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ai.Yr(t);return pb.resolve(n)}containsKey(e,t){return pb.resolve(this.ai.containsKey(t))}}class rk{constructor(e,t){this.ci={},this.overlays={},this.li=new gb(0),this.hi=!1,this.hi=!0,this.Pi=new JE,this.referenceDelegate=e(this),this.Ti=new nk(this),this.indexManager=new LE,this.remoteDocumentCache=function(e){return new ek(e)}((e=>this.referenceDelegate.Ii(e))),this.serializer=new TE(t),this.Ei=new YE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new QE,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ci[e.toKey()];return n||(n=new ZE(t,this.referenceDelegate),this.ci[e.toKey()]=n),n}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,n){wy("MemoryPersistence","Starting transaction:",e);const r=new sk(this.li.next());return this.referenceDelegate.di(),n(r).next((e=>this.referenceDelegate.Ai(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ri(e,t){return pb.or(Object.values(this.ci).map((n=>()=>n.containsKey(e,t))))}}class sk extends db{constructor(e){super(),this.currentSequenceNumber=e}}class ok{constructor(e){this.persistence=e,this.Vi=new XE,this.mi=null}static fi(e){return new ok(e)}get gi(){if(this.mi)return this.mi;throw Sy(60996)}addReference(e,t,n){return this.Vi.addReference(n,t),this.gi.delete(n.toString()),pb.resolve()}removeReference(e,t,n){return this.Vi.removeReference(n,t),this.gi.add(n.toString()),pb.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),pb.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach((e=>this.gi.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.gi.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pb.forEach(this.gi,(n=>{const r=rb.fromPath(n);return this.pi(e,r).next((e=>{e||t.removeEntry(r,Xy.min())}))})).next((()=>(this.mi=null,t.apply(e))))}updateLimboDocument(e,t){return this.pi(e,t).next((e=>{e?this.gi.delete(t.toString()):this.gi.add(t.toString())}))}Ii(e){return 0}pi(e,t){return pb.or([()=>pb.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class ik{constructor(e,t){this.persistence=e,this.yi=new Rw((e=>_b(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=HE(this,t)}static fi(e,t){return new ik(e,t)}di(){}Ai(e){return pb.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}br(e){let t=0;return this.yr(e,(e=>{t++})).next((()=>t))}yr(e,t){return pb.forEach(this.yi,((n,r)=>this.Dr(e,n,r).next((e=>e?pb.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.si(e,(r=>this.Dr(e,r,t).next((e=>{e||(n++,s.removeEntry(r,Xy.min()))})))).next((()=>s.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),pb.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),pb.resolve()}removeReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),pb.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),pb.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Lx(e.data.value)),t}Dr(e,t,n){return pb.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.yi.get(t);return pb.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ak{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ds=n,this.As=r}static Rs(e,t){let n=Gw(),r=Gw();for(const s of t.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new ak(e,t.fromCache,n,r)}}class lk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ck{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=ru()?8:mb(eu())>0?6:4}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,n,r){const s={result:null};return this.ws(e,t).next((e=>{s.result=e})).next((()=>{if(!s.result)return this.bs(e,t,r,n).next((e=>{s.result=e}))})).next((()=>{if(s.result)return;const n=new lk;return this.Ss(e,t,n).next((r=>{if(s.result=r,this.fs)return this.Ds(e,t,n,r.size)}))})).next((()=>s.result))}Ds(e,t,n,r){return n.documentReadCount<this.gs?(xy()<=Eu.DEBUG&&wy("QueryEngine","SDK will not create cache indexes for query:",Pw(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),pb.resolve()):(xy()<=Eu.DEBUG&&wy("QueryEngine","Query:",Pw(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ps*r?(xy()<=Eu.DEBUG&&wy("QueryEngine","The SDK decides to create cache indexes for query:",Pw(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kw(t))):pb.resolve())}ws(e,t){if(ww(t))return pb.resolve(null);let n=kw(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Nw(t,null,"F"),n=kw(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const s=Gw(...r);return this.ys.getDocuments(e,s).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.vs(t,r);return this.Cs(t,o,s,n.readTime)?this.ws(e,Nw(t,null,"F")):this.Fs(e,o,t,n)}))))})))))}bs(e,t,n,r){return ww(t)||r.isEqual(Xy.min())?pb.resolve(null):this.ys.getDocuments(e,n).next((s=>{const o=this.vs(t,s);return this.Cs(t,o,n,r)?pb.resolve(null):(xy()<=Eu.DEBUG&&wy("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Pw(t)),this.Fs(e,o,t,ib(r,sb)).next((e=>e)))}))}vs(e,t){let n=new ex(Aw(e));return t.forEach(((t,r)=>{Iw(e,r)&&(n=n.add(r))})),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ss(e,t,n){return xy()<=Eu.DEBUG&&wy("QueryEngine","Using full collection scan to execute query:",Pw(t)),this.ys.getDocumentsMatchingQuery(e,t,lb.min(),n)}Fs(e,t,n,r){return this.ys.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const uk="LocalStore";class dk{constructor(e,t,n,r){this.persistence=e,this.Ms=t,this.serializer=r,this.xs=new Xb(qy),this.Os=new Rw((e=>fw(e)),gw),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(n)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KE(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.xs)))}}function hk(e,t,n,r){return new dk(e,t,n,r)}async function pk(e,t){const n=jy(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((s=>(r=s,n.Ls(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const s=[],o=[];let i=Gw();for(const e of r){s.push(e.batchId);for(const t of e.mutations)i=i.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)i=i.add(t.key)}return n.localDocuments.getDocuments(e,i).next((e=>({ks:e,removedBatchIds:s,addedBatchIds:o})))}))}))}function mk(e){const t=jy(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Ti.getLastRemoteSnapshotVersion(e)))}function fk(e,t,n){let r=Gw(),s=Gw();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Mw();return n.forEach(((n,o)=>{const i=e.get(n);o.isFoundDocument()!==i.isFoundDocument()&&(s=s.add(n)),o.isNoDocument()&&o.version.isEqual(Xy.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!i.isValidDocument()||o.version.compareTo(i.version)>0||0===o.version.compareTo(i.version)&&i.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):wy(uk,"Ignoring outdated watch update for ",n,". Current version:",i.version," Watch version:",o.version)})),{qs:r,Qs:s}}))}function gk(e,t){const n=jy(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=vb),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function vk(e,t){const n=jy(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Ti.getTargetData(e,t).next((s=>s?(r=s,pb.resolve(r)):n.Ti.allocateTargetId(e).next((s=>(r=new jE(t,s,"TargetPurposeListen",e.currentSequenceNumber),n.Ti.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.xs.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.xs=n.xs.insert(e.targetId,e),n.Os.set(t,e.targetId)),e}))}async function yk(e,t,n){const r=jy(e),s=r.xs.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,s)))}catch(e){if(!fb(e))throw e;wy(uk,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.xs=r.xs.remove(t),r.Os.delete(s.target)}function bk(e,t,n){const r=jy(e);let s=Xy.min(),o=Gw();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=jy(e),s=r.Os.get(n);return void 0!==s?pb.resolve(r.xs.get(s)):r.Ti.getTargetData(t,n)}(r,e,kw(t)).next((t=>{if(t)return s=t.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.Ms.getDocumentsMatchingQuery(e,t,n?s:Xy.min(),n?o:Gw()))).next((e=>(xk(r,Lw(t),e),{documents:e,$s:o})))))}function xk(e,t,n){let r=e.Ns.get(t)||Xy.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ns.set(t,r)}class wk{constructor(){this.activeTargetIds=Yw()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _k{constructor(){this.xo=new wk,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,n){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new wk,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ek{No(e){}shutdown(){}}const kk="ConnectivityMonitor";class Sk{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){wy(kk,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){wy(kk,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ck=null;function Nk(){return null===Ck?Ck=268435456+Math.round(2147483648*Math.random()):Ck++,"0x"+Ck.toString(16)}const jk="RestConnection",Tk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Pk{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo="projects/".concat(n,"/databases/").concat(r),this.Go=this.databaseId.database===vx?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}zo(e,t,n,r,s){const o=Nk(),i=this.jo(e,t.toUriEncodedString());wy(jk,"Sending RPC '".concat(e,"' ").concat(o,":"),i,n);const a={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(a,r,s);const{host:l}=new URL(i),c=Yc(l);return this.Jo(e,i,a,n,c).then((t=>(wy(jk,"Received RPC '".concat(e,"' ").concat(o,": "),t),t)),(t=>{throw Ey(jk,"RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",i,"request:",n),t}))}Yo(e,t,n,r,s,o){return this.zo(e,t,n,r,s)}Ho(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+yy,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}jo(e,t){const n=Tk[e];return"".concat(this.Ko,"/v1/").concat(t,":").concat(n)}terminate(){}}class Ik{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}const Lk="WebChannelConnection";class Ak extends Pk{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,s){const o=Nk();return new Promise(((s,i)=>{const a=new oy;a.setWithCredentials(!0),a.listenOnce(ay.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case ly.NO_ERROR:const t=a.getResponseJson();wy(Lk,"XHR for RPC '".concat(e,"' ").concat(o," received:"),JSON.stringify(t)),s(t);break;case ly.TIMEOUT:wy(Lk,"RPC '".concat(e,"' ").concat(o," timed out")),i(new Py(Ty.DEADLINE_EXCEEDED,"Request time out"));break;case ly.HTTP_ERROR:const n=a.getStatus();if(wy(Lk,"RPC '".concat(e,"' ").concat(o," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ty).indexOf(t)>=0?t:Ty.UNKNOWN}(t.status);i(new Py(e,t.message))}else i(new Py(Ty.UNKNOWN,"Server responded with status "+a.getStatus()))}else i(new Py(Ty.UNAVAILABLE,"Connection failed."));break;default:Sy(9055,{h_:e,streamId:o,P_:a.getLastErrorCode(),T_:a.getLastError()})}}finally{wy(Lk,"RPC '".concat(e,"' ").concat(o," completed."))}}));const l=JSON.stringify(r);wy(Lk,"RPC '".concat(e,"' ").concat(o," sending request:"),r),a.send(t,"POST",l,n,15)}))}I_(e,t,n){const r=Nk(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=hy(),i=dy(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Ho(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=s.join("");wy(Lk,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=o.createWebChannel(c,a);this.E_(u);let d=!1,h=!1;const p=new Ik({Zo:t=>{h?wy(Lk,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(wy(Lk,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),wy(Lk,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Xo:()=>u.close()}),m=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return m(u,iy.EventType.OPEN,(()=>{h||(wy(Lk,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),p.__())})),m(u,iy.EventType.CLOSE,(()=>{h||(h=!0,wy(Lk,"RPC '".concat(e,"' stream ").concat(r," transport closed")),p.u_(),this.d_(u))})),m(u,iy.EventType.ERROR,(t=>{h||(h=!0,Ey(Lk,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),p.u_(new Py(Ty.UNAVAILABLE,"The operation could not be completed")))})),m(u,iy.EventType.MESSAGE,(t=>{var n;if(!h){const s=t.data[0];Ny(!!s,16349);const o=s,i=(null==o?void 0:o.error)||(null===(n=o[0])||void 0===n?void 0:n.error);if(i){wy(Lk,"RPC '".concat(e,"' stream ").concat(r," received error:"),i);const t=i.status;let n=function(e){const t=I_[e];if(void 0!==t)return O_(t)}(t),s=i.message;void 0===n&&(n=Ty.INTERNAL,s="Unknown error status: "+t+" with message "+i.message),h=!0,p.u_(new Py(n,s)),u.close()}else wy(Lk,"RPC '".concat(e,"' stream ").concat(r," received:"),s),p.c_(s)}})),m(i,uy.STAT_EVENT,(t=>{t.stat===cy.PROXY?wy(Lk,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===cy.NOPROXY&&wy(Lk,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{p.a_()}),0),p}terminate(){this.l_.forEach((e=>e.close())),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter((t=>t===e))}}function Ok(){return"undefined"!=typeof document?document:null}function Rk(e){return new Z_(e,!0)}class Dk{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.xi=e,this.timerId=t,this.A_=n,this.R_=r,this.V_=s,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),n=Math.max(0,Date.now()-this.g_),r=Math.max(0,t-n);r>0&&wy("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.m_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.f_=this.xi.enqueueAfterDelay(this.timerId,r,(()=>(this.g_=Date.now(),e()))),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){null!==this.f_&&(this.f_.skipDelay(),this.f_=null)}cancel(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}const Mk="PersistentStream";class Uk{constructor(e,t,n,r,s,o,i,a){this.xi=e,this.S_=n,this.D_=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=i,this.listener=a,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new Dk(e,t)}O_(){return 1===this.state||5===this.state||this.N_()}N_(){return 2===this.state||3===this.state}start(){this.M_=0,4!==this.state?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&null===this.C_&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,(()=>this.q_())))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,4!==e?this.x_.reset():t&&t.code===Ty.RESOURCE_EXHAUSTED?(_y(t.toString()),_y("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===Ty.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.v_===t&&this.z_(n,r)}),(t=>{e((()=>{const e=new Py(Ty.UNKNOWN,"Fetching auth token failed: "+t.message);return this.j_(e)}))}))}z_(e,t){const n=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_((()=>{n((()=>this.listener.e_()))})),this.stream.n_((()=>{n((()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,(()=>(this.N_()&&(this.state=3),Promise.resolve()))),this.listener.n_())))})),this.stream.i_((e=>{n((()=>this.j_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.M_?this.J_(e):this.onNext(e)))}))}B_(){this.state=5,this.x_.y_((async()=>{this.state=0,this.start()}))}j_(e){return wy(Mk,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget((()=>this.v_===e?t():(wy(Mk,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Fk extends Uk{constructor(e,t,n,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=s}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Sy(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(Ny(void 0===t||"string"==typeof t,58123),sx.fromBase64String(t||"")):(Ny(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),sx.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),i=t.targetChange.cause,a=i&&function(e){const t=void 0===e.code?Ty.UNKNOWN:O_(e.code);return new Py(t,e.message||"")}(i);n=new W_(r,s,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=cE(e,r.document.name),o=sE(r.document.updateTime),i=r.document.createTime?sE(r.document.createTime):Xy.min(),a=new Vx({mapValue:{fields:r.document.fields}}),l=Hx.newFoundDocument(s,o,i,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new q_(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=cE(e,r.document),o=r.readTime?sE(r.readTime):Xy.min(),i=Hx.newNoDocument(s,o),a=r.removedTargetIds||[];n=new q_([],a,i.key,i)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=cE(e,r.document),o=r.removedTargetIds||[];n=new q_([],o,s,null)}else{if(!("filter"in t))return Sy(11601,{Vt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:s}=e,o=new P_(r,s),i=e.targetId;n=new H_(i,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Xy.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Xy.min():t.readTime?sE(t.readTime):Xy.min()}(e);return this.listener.Y_(t,n)}Z_(e){const t={};t.database=hE(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=vw(r)?{documents:gE(e,r)}:{query:vE(e,r).gt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=nE(e,t.resumeToken);const r=eE(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Xy.min())>0){n.readTime=tE(e,t.snapshotVersion.toTimestamp());const r=eE(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Sy(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Q_(t)}X_(e){const t={};t.database=hE(this.serializer),t.removeTarget=e,this.Q_(t)}}class zk extends Uk{constructor(e,t,n,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=s}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return Ny(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ny(!e.writeResults||0===e.writeResults.length,55816),this.listener.na()}onNext(e){Ny(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=function(e,t){return e&&e.length>0?(Ny(void 0!==t,14353),e.map((e=>function(e,t){let n=e.updateTime?sE(e.updateTime):sE(t);return n.isEqual(Xy.min())&&(n=sE(t)),new d_(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=sE(e.commitTime);return this.listener.ra(n,t)}ia(){const e={};e.database=hE(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>fE(this.serializer,e)))};this.Q_(t)}}class Bk{}class Vk extends Bk{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.sa=!1}oa(){if(this.sa)throw new Py(Ty.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,n,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[o,i]=s;return this.connection.zo(e,iE(t,n),r,o,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ty.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Py(Ty.UNKNOWN,e.toString())}))}Yo(e,t,n,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[i,a]=o;return this.connection.Yo(e,iE(t,n),r,i,a,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ty.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Py(Ty.UNKNOWN,e.toString())}))}terminate(){this.sa=!0,this.connection.terminate()}}class qk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){0===this._a&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve()))))}Pa(e){"Online"===this.state?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.la("Offline")))}set(e){this.Ta(),this._a=0,"Online"===e&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ua?(_y(t),this.ua=!1):wy("OnlineStateTracker",t)}Ta(){null!==this.aa&&(this.aa.cancel(),this.aa=null)}}const Hk="RemoteStore";class Wk{constructor(e,t,n,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=s,this.Ra.No((e=>{n.enqueueAndForget((async()=>{eS(this)&&(wy(Hk,"Restarting streams for network reachability change."),await async function(e){const t=jy(e);t.da.add(4),await Kk(t),t.Va.set("Unknown"),t.da.delete(4),await Gk(t)}(this))}))})),this.Va=new qk(n,r)}}async function Gk(e){if(eS(e))for(const t of e.Aa)await t(!0)}async function Kk(e){for(const t of e.Aa)await t(!1)}function Yk(e,t){const n=jy(e);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),Zk(n)?$k(n):bS(n).N_()&&Jk(n,t))}function Qk(e,t){const n=jy(e),r=bS(n);n.Ea.delete(t),r.N_()&&Xk(n,t),0===n.Ea.size&&(r.N_()?r.k_():eS(n)&&n.Va.set("Unknown"))}function Jk(e,t){if(e.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Xy.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}bS(e).Z_(t)}function Xk(e,t){e.ma.Ke(t),bS(e).X_(t)}function $k(e){e.ma=new K_({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e.Ea.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),bS(e).start(),e.Va.ca()}function Zk(e){return eS(e)&&!bS(e).O_()&&e.Ea.size>0}function eS(e){return 0===jy(e).da.size}function tS(e){e.ma=void 0}async function nS(e){e.Va.set("Online")}async function rS(e){e.Ea.forEach(((t,n)=>{Jk(e,t)}))}async function sS(e,t){tS(e),Zk(e)?(e.Va.Pa(t),$k(e)):e.Va.set("Unknown")}async function oS(e,t,n){if(e.Va.set("Online"),t instanceof W_&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ea.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ea.delete(r),e.ma.removeTarget(r))}(e,t)}catch(n){wy(Hk,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await iS(e,n)}else if(t instanceof q_?e.ma.Xe(t):t instanceof H_?e.ma.ot(t):e.ma.nt(t),!n.isEqual(Xy.min()))try{const t=await mk(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.ma.It(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const s=e.Ea.get(r);s&&e.Ea.set(r,s.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.Ea.get(t);if(!r)return;e.Ea.set(t,r.withResumeToken(sx.EMPTY_BYTE_STRING,r.snapshotVersion)),Xk(e,t);const s=new jE(r.target,t,n,r.sequenceNumber);Jk(e,s)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){wy(Hk,"Failed to raise snapshot:",t),await iS(e,t)}}async function iS(e,t,n){if(!fb(t))throw t;e.da.add(1),await Kk(e),e.Va.set("Offline"),n||(n=()=>mk(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{wy(Hk,"Retrying IndexedDB access"),await n(),e.da.delete(1),await Gk(e)}))}function aS(e,t){return t().catch((n=>iS(e,n,t)))}async function lS(e){const t=jy(e),n=xS(t);let r=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:vb;for(;cS(t);)try{const e=await gk(t.localStore,r);if(null===e){0===t.Ia.length&&n.k_();break}r=e.batchId,uS(t,e)}catch(e){await iS(t,e)}dS(t)&&hS(t)}function cS(e){return eS(e)&&e.Ia.length<10}function uS(e,t){e.Ia.push(t);const n=xS(e);n.N_()&&n.ea&&n.ta(t.mutations)}function dS(e){return eS(e)&&!xS(e).O_()&&e.Ia.length>0}function hS(e){xS(e).start()}async function pS(e){xS(e).ia()}async function mS(e){const t=xS(e);for(const n of e.Ia)t.ta(n.mutations)}async function fS(e,t,n){const r=e.Ia.shift(),s=j_.from(r,t,n);await aS(e,(()=>e.remoteSyncer.applySuccessfulWrite(s))),await lS(e)}async function gS(e,t){t&&xS(e).ea&&await async function(e,t){if(function(e){return A_(e)&&e!==Ty.ABORTED}(t.code)){const n=e.Ia.shift();xS(e).L_(),await aS(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await lS(e)}}(e,t),dS(e)&&hS(e)}async function vS(e,t){const n=jy(e);n.asyncQueue.verifyOperationInProgress(),wy(Hk,"RemoteStore received new credentials");const r=eS(n);n.da.add(3),await Kk(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await Gk(n)}async function yS(e,t){const n=jy(e);t?(n.da.delete(2),await Gk(n)):t||(n.da.add(2),await Kk(n),n.Va.set("Unknown"))}function bS(e){return e.fa||(e.fa=function(e,t,n){const r=jy(e);return r.oa(),new Fk(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{e_:nS.bind(null,e),n_:rS.bind(null,e),i_:sS.bind(null,e),Y_:oS.bind(null,e)}),e.Aa.push((async t=>{t?(e.fa.L_(),Zk(e)?$k(e):e.Va.set("Unknown")):(await e.fa.stop(),tS(e))}))),e.fa}function xS(e){return e.ga||(e.ga=function(e,t,n){const r=jy(e);return r.oa(),new zk(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{e_:()=>Promise.resolve(),n_:pS.bind(null,e),i_:gS.bind(null,e),na:mS.bind(null,e),ra:fS.bind(null,e)}),e.Aa.push((async t=>{t?(e.ga.L_(),await lS(e)):(await e.ga.stop(),e.Ia.length>0&&(wy(Hk,"Stopping write stream with ".concat(e.Ia.length," pending writes")),e.Ia=[]))}))),e.ga}class wS{constructor(e,t,n,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=s,this.deferred=new Iy,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,s){const o=Date.now()+n,i=new wS(e,t,o,r,s);return i.start(n),i}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Py(Ty.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _S(e,t){if(_y("AsyncQueue","".concat(t,": ").concat(e)),fb(e))return new Py(Ty.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class ES{static emptySet(e){return new ES(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||rb.comparator(t.key,n.key):(e,t)=>rb.comparator(e.key,t.key),this.keyedMap=Fw(),this.sortedSet=new Xb(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ES))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new ES;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class kS{constructor(){this.pa=new Xb(rb.comparator)}track(e){const t=e.doc.key,n=this.pa.get(t);n?0!==e.type&&3===n.type?this.pa=this.pa.insert(t,e):3===e.type&&1!==n.type?this.pa=this.pa.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.pa=this.pa.remove(t):1===e.type&&2===n.type?this.pa=this.pa.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Sy(63341,{Vt:e,ya:n}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal(((t,n)=>{e.push(n)})),e}}class SS{constructor(e,t,n,r,s,o,i,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=i,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,s){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new SS(e,t,ES.emptySet(t),o,n,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class CS{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some((e=>e.va()))}}class NS{constructor(){this.queries=jS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=jy(e),r=n.queries;n.queries=jS(),r.forEach(((e,n)=>{for(const r of n.Sa)r.onError(t)}))}(this,new Py(Ty.ABORTED,"Firestore shutting down"))}}function jS(){return new Rw((e=>Tw(e)),jw)}async function TS(e,t){const n=jy(e);let r=3;const s=t.query;let o=n.queries.get(s);o?!o.Da()&&t.va()&&(r=2):(o=new CS,r=t.va()?0:1);try{switch(r){case 0:o.ba=await n.onListen(s,!0);break;case 1:o.ba=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(e){const n=_S(e,"Initialization of query '".concat(Pw(t.query),"' failed"));return void t.onError(n)}n.queries.set(s,o),o.Sa.push(t),t.Fa(n.onlineState),o.ba&&t.Ma(o.ba)&&AS(n)}async function PS(e,t){const n=jy(e),r=t.query;let s=3;const o=n.queries.get(r);if(o){const e=o.Sa.indexOf(t);e>=0&&(o.Sa.splice(e,1),0===o.Sa.length?s=t.va()?0:1:!o.Da()&&t.va()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function IS(e,t){const n=jy(e);let r=!1;for(const s of t){const e=s.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Ma(s)&&(r=!0);t.ba=s}}r&&AS(n)}function LS(e,t,n){const r=jy(e),s=r.queries.get(t);if(s)for(const o of s.Sa)o.onError(n);r.queries.delete(t)}function AS(e){e.Ca.forEach((e=>{e.next()}))}var OS,RS;(RS=OS||(OS={})).xa="default",RS.Cache="cache";class DS{constructor(e,t,n){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=n||{}}Ma(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new SS(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache)return!0;if(!this.va())return!0;const n="Offline"!==t;return(!this.options.Qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}qa(e){e=SS.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==OS.Cache}}class MS{constructor(e){this.key=e}}class US{constructor(e){this.key=e}}class FS{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Gw(),this.mutatedKeys=Gw(),this.Za=Aw(e),this.Xa=new ES(this.Za)}get eu(){return this.Ha}tu(e,t){const n=t?t.nu:new kS,r=t?t.Xa:this.Xa;let s=t?t.mutatedKeys:this.mutatedKeys,o=r,i=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Iw(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let p=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),p=!0):this.ru(c,u)||(n.track({type:2,doc:u}),p=!0,(a&&this.Za(u,a)>0||l&&this.Za(u,l)<0)&&(i=!0)):!c&&u?(n.track({type:0,doc:u}),p=!0):c&&!u&&(n.track({type:1,doc:c}),p=!0,(a||l)&&(i=!0)),p&&(u?(o=o.add(u),s=h?s.add(e):s.delete(e)):(o=o.delete(e),s=s.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),s=s.delete(e.key),n.track({type:1,doc:e})}return{Xa:o,nu:n,Cs:i,mutatedKeys:s}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const s=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const o=e.nu.wa();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Sy(20277,{Vt:e})}};return n(e)-n(t)}(e.type,t.type)||this.Za(e.doc,t.doc))),this.iu(n),r=null!=r&&r;const i=t&&!r?this.su():[],a=0===this.Ya.size&&this.current&&!r?1:0,l=a!==this.Ja;return this.Ja=a,0!==o.length||l?{snapshot:new SS(this.query,e.Xa,s,o,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),ou:i}:{ou:i}}Fa(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new kS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach((e=>this.Ha=this.Ha.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ha=this.Ha.delete(e))),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Gw(),this.Xa.forEach((e=>{this._u(e.key)&&(this.Ya=this.Ya.add(e.key))}));const t=[];return e.forEach((e=>{this.Ya.has(e)||t.push(new US(e))})),this.Ya.forEach((n=>{e.has(n)||t.push(new MS(n))})),t}au(e){this.Ha=e.$s,this.Ya=Gw();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return SS.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,0===this.Ja,this.hasCachedResults)}}const zS="SyncEngine";class BS{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class VS{constructor(e){this.key=e,this.cu=!1}}class qS{constructor(e,t,n,r,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.lu={},this.hu=new Rw((e=>Tw(e)),jw),this.Pu=new Map,this.Tu=new Set,this.Iu=new Xb(rb.comparator),this.Eu=new Map,this.du=new XE,this.Au={},this.Ru=new Map,this.Vu=ME.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return!0===this.mu}}async function HS(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=dC(e);let s;const o=r.hu.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.uu()):s=await GS(r,t,n,!0),s}async function WS(e,t){const n=dC(e);await GS(n,t,!0,!1)}async function GS(e,t,n,r){const s=await vk(e.localStore,kw(t)),o=s.targetId,i=e.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await KS(e,t,o,"current"===i,s.resumeToken)),e.isPrimaryClient&&n&&Yk(e.remoteStore,s),a}async function KS(e,t,n,r,s){e.fu=(t,n,r)=>async function(e,t,n,r){let s=t.view.tu(n);s.Cs&&(s=await bk(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.tu(n,s)})));const o=r&&r.targetChanges.get(t.targetId),i=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(s,e.isPrimaryClient,o,i);return oC(e,t.targetId,a.ou),a.snapshot}(e,t,n,r);const o=await bk(e.localStore,t,!0),i=new FS(t,o.$s),a=i.tu(o.documents),l=V_.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,s),c=i.applyChanges(a,e.isPrimaryClient,l);oC(e,n,c.ou);const u=new BS(t,n,i);return e.hu.set(t,u),e.Pu.has(n)?e.Pu.get(n).push(t):e.Pu.set(n,[t]),c.snapshot}async function YS(e,t,n){const r=jy(e),s=r.hu.get(t),o=r.Pu.get(s.targetId);if(o.length>1)return r.Pu.set(s.targetId,o.filter((e=>!jw(e,t)))),void r.hu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await yk(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Qk(r.remoteStore,s.targetId),rC(r,s.targetId)})).catch(hb)):(rC(r,s.targetId),await yk(r.localStore,s.targetId,!0))}async function QS(e,t){const n=jy(e),r=n.hu.get(t),s=n.Pu.get(r.targetId);n.isPrimaryClient&&1===s.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Qk(n.remoteStore,r.targetId))}async function JS(e,t){const n=jy(e);try{const e=await function(e,t){const n=jy(e),r=t.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const i=[];t.targetChanges.forEach(((o,a)=>{const l=s.get(a);if(!l)return;i.push(n.Ti.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.Ti.addMatchingKeys(e,o.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(sx.EMPTY_BYTE_STRING,Xy.min()).withLastLimboFreeSnapshotVersion(Xy.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),s=s.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,o)&&i.push(n.Ti.updateTargetData(e,c))}));let a=Mw(),l=Gw();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&i.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),i.push(fk(e,o,t.documentUpdates).next((e=>{a=e.qs,l=e.Qs}))),!r.isEqual(Xy.min())){const t=n.Ti.getLastRemoteSnapshotVersion(e).next((t=>n.Ti.setTargetsMetadata(e,e.currentSequenceNumber,r)));i.push(t)}return pb.waitFor(i).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.xs=s,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Eu.get(t);r&&(Ny(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.cu=!0:e.modifiedDocuments.size>0?Ny(r.cu,14607):e.removedDocuments.size>0&&(Ny(r.cu,42227),r.cu=!1))})),await lC(n,e,t)}catch(e){await hb(e)}}function XS(e,t,n){const r=jy(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.hu.forEach(((n,r)=>{const s=r.view.Fa(t);s.snapshot&&e.push(s.snapshot)})),function(e,t){const n=jy(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const s of n.Sa)s.Fa(t)&&(r=!0)})),r&&AS(n)}(r.eventManager,t),e.length&&r.lu.Y_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function $S(e,t,n){const r=jy(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.Eu.get(t),o=s&&s.key;if(o){let e=new Xb(rb.comparator);e=e.insert(o,Hx.newNoDocument(o,Xy.min()));const n=Gw().add(o),s=new B_(Xy.min(),new Map,new Xb(qy),e,n);await JS(r,s),r.Iu=r.Iu.remove(o),r.Eu.delete(t),aC(r)}else await yk(r.localStore,t,!1).then((()=>rC(r,t,n))).catch(hb)}async function ZS(e,t){const n=jy(e),r=t.batch.batchId;try{const e=await function(e,t){const n=jy(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),s=n.Bs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const s=n.batch,o=s.keys();let i=pb.resolve();return o.forEach((e=>{i=i.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);Ny(null!==o,48541),t.version.compareTo(o)<0&&(s.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),i.next((()=>e.mutationQueue.removeMutationBatch(t,s)))}(n,e,t,s).next((()=>s.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Gw();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);nC(n,r,null),tC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await lC(n,e)}catch(e){await hb(e)}}async function eC(e,t,n){const r=jy(e);try{const e=await function(e,t){const n=jy(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Ny(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);nC(r,t,n),tC(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await lC(r,e)}catch(n){await hb(n)}}function tC(e,t){(e.Ru.get(t)||[]).forEach((e=>{e.resolve()})),e.Ru.delete(t)}function nC(e,t,n){const r=jy(e);let s=r.Au[r.currentUser.toKey()];if(s){const e=s.get(t);e&&(n?e.reject(n):e.resolve(),s=s.remove(t)),r.Au[r.currentUser.toKey()]=s}}function rC(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Pu.get(t))e.hu.delete(r),n&&e.lu.gu(r,n);e.Pu.delete(t),e.isPrimaryClient&&e.du.Hr(t).forEach((t=>{e.du.containsKey(t)||sC(e,t)}))}function sC(e,t){e.Tu.delete(t.path.canonicalString());const n=e.Iu.get(t);null!==n&&(Qk(e.remoteStore,n),e.Iu=e.Iu.remove(t),e.Eu.delete(n),aC(e))}function oC(e,t,n){for(const r of n)r instanceof MS?(e.du.addReference(r.key,t),iC(e,r)):r instanceof US?(wy(zS,"Document no longer in limbo: "+r.key),e.du.removeReference(r.key,t),e.du.containsKey(r.key)||sC(e,r.key)):Sy(19791,{pu:r})}function iC(e,t){const n=t.key,r=n.path.canonicalString();e.Iu.get(n)||e.Tu.has(r)||(wy(zS,"New document in limbo: "+n),e.Tu.add(r),aC(e))}function aC(e){for(;e.Tu.size>0&&e.Iu.size<e.maxConcurrentLimboResolutions;){const t=e.Tu.values().next().value;e.Tu.delete(t);const n=new rb(eb.fromString(t)),r=e.Vu.next();e.Eu.set(r,new VS(n)),e.Iu=e.Iu.insert(n,r),Yk(e.remoteStore,new jE(kw(xw(n.path)),r,"TargetPurposeLimboResolution",gb.le))}}async function lC(e,t,n){const r=jy(e),s=[],o=[],i=[];r.hu.isEmpty()||(r.hu.forEach(((e,a)=>{i.push(r.fu(a,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const s=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,s?"current":"not-current")}if(e){s.push(e);const t=ak.Rs(a.targetId,e);o.push(t)}})))})),await Promise.all(i),r.lu.Y_(s),await async function(e,t){const n=jy(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>pb.forEach(t,(t=>pb.forEach(t.ds,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>pb.forEach(t.As,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!fb(e))throw e;wy(uk,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.xs.get(e),r=t.snapshotVersion,s=t.withLastLimboFreeSnapshotVersion(r);n.xs=n.xs.insert(e,s)}}}(r.localStore,o))}async function cC(e,t){const n=jy(e);if(!n.currentUser.isEqual(t)){wy(zS,"User change. New user:",t.toKey());const e=await pk(n.localStore,t);n.currentUser=t,function(e,t){e.Ru.forEach((e=>{e.forEach((e=>{e.reject(new Py(Ty.CANCELLED,t))}))})),e.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await lC(n,e.ks)}}function uC(e,t){const n=jy(e),r=n.Eu.get(t);if(r&&r.cu)return Gw().add(r.key);{let e=Gw();const r=n.Pu.get(t);if(!r)return e;for(const t of r){const r=n.hu.get(t);e=e.unionWith(r.view.eu)}return e}}function dC(e){const t=jy(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=JS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=uC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=$S.bind(null,t),t.lu.Y_=IS.bind(null,t.eventManager),t.lu.gu=LS.bind(null,t.eventManager),t}function hC(e){const t=jy(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ZS.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=eC.bind(null,t),t}class pC{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rk(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return hk(this.persistence,new ck,e.initialUser,this.serializer)}Su(e){return new rk(ok.fi,this.serializer)}bu(e){return new _k}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pC.provider={build:()=>new pC};class mC extends pC{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){Ny(this.persistence.referenceDelegate instanceof ik,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new VE(n,e.asyncQueue,t)}Su(e){const t=void 0!==this.cacheSizeBytes?DE.withCacheSize(this.cacheSizeBytes):DE.DEFAULT;return new rk((e=>ik.fi(e,t)),this.serializer)}}class fC{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>XS(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=cC.bind(null,this.syncEngine),await yS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new NS}createDatastore(e){const t=Rk(e.databaseInfo.databaseId),n=function(e){return new Ak(e)}(e.databaseInfo);return function(e,t,n,r){return new Vk(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,s){return new Wk(e,t,n,r,s)}(this.localStore,this.datastore,e.asyncQueue,(e=>XS(this.syncEngine,e,0)),Sk.C()?new Sk:new Ek)}createSyncEngine(e,t){return function(e,t,n,r,s,o,i){const a=new qS(e,t,n,r,s,o);return i&&(a.mu=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=jy(e);wy(Hk,"RemoteStore shutting down."),t.da.add(5),await Kk(t),t.Ra.shutdown(),t.Va.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}fC.provider={build:()=>new fC};class gC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):_y("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const vC="FirestoreClient";class yC{constructor(e,t,n,r,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=vy.UNAUTHENTICATED,this.clientId=Vy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,(async e=>{wy(vC,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(wy(vC,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Iy;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=_S(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function bC(e,t){e.asyncQueue.verifyOperationInProgress(),wy(vC,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await pk(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function xC(e,t){e.asyncQueue.verifyOperationInProgress();const n=await wC(e);wy(vC,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>vS(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>vS(t.remoteStore,n))),e._onlineComponents=t}async function wC(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){wy(vC,"Using user provided OfflineComponentProvider");try{await bC(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===Ty.FAILED_PRECONDITION||e.code===Ty.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Ey("Error using user provided cache. Falling back to memory cache: "+n),await bC(e,new pC)}}else wy(vC,"Using default OfflineComponentProvider"),await bC(e,new mC(void 0));return e._offlineComponents}async function _C(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(wy(vC,"Using user provided OnlineComponentProvider"),await xC(e,e._uninitializedComponentsProvider._online)):(wy(vC,"Using default OnlineComponentProvider"),await xC(e,new fC))),e._onlineComponents}function EC(e){return _C(e).then((e=>e.syncEngine))}async function kC(e){const t=await _C(e),n=t.eventManager;return n.onListen=HS.bind(null,t.syncEngine),n.onUnlisten=YS.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=WS.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=QS.bind(null,t.syncEngine),n}function SC(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Iy;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,s){const o=new gC({next:n=>{o.xu(),t.enqueueAndForget((()=>PS(e,i))),n.fromCache&&"server"===r.source?s.reject(new Py(Ty.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):s.resolve(n)},error:e=>s.reject(e)}),i=new DS(n,o,{includeMetadataChanges:!0,Qa:!0});return TS(e,i)}(await kC(e),e.asyncQueue,t,n,r))),r.promise}function CC(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const NC=new Map;function jC(e,t,n){if(!n)throw new Py(Ty.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function TC(e){if(!rb.isDocumentKey(e))throw new Py(Ty.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function PC(e){if(rb.isDocumentKey(e))throw new Py(Ty.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function IC(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Sy(12329,{type:typeof e})}function LC(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Py(Ty.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=IC(e);throw new Py(Ty.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}const AC="firestore.googleapis.com",OC=!0;class RC{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Py(Ty.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=AC,this.ssl=OC}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:OC;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=RE;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<FE)throw new Py(Ty.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Py(Ty.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CC(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Py(Ty.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Py(Ty.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Py(Ty.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class DC{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new RC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Py(Ty.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Py(Ty.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new RC(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ay;switch(e.type){case"firstParty":return new My(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Py(Ty.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=NC.get(e);t&&(wy("ComponentProvider","Removing Datastore"),NC.delete(e),t.terminate())}(this),Promise.resolve()}}class MC{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new MC(this.firestore,e,this._query)}}class UC{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new FC(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new UC(this.firestore,e,this._key)}}class FC extends MC{constructor(e,t,n){super(e,t,xw(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new UC(this.firestore,null,new rb(e))}withConverter(e){return new FC(this.firestore,e,this._path)}}function zC(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];if(e=vu(e),jC("collection","path",t),e instanceof DC){const n=eb.fromString(t,...r);return PC(n),new FC(e,null,n)}{if(!(e instanceof UC||e instanceof FC))throw new Py(Ty.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(eb.fromString(t,...r));return PC(n),new FC(e.firestore,null,n)}}function BC(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];if(e=vu(e),1===arguments.length&&(t=Vy.newId()),jC("doc","path",t),e instanceof DC){const n=eb.fromString(t,...r);return TC(n),new UC(e,null,new rb(n))}{if(!(e instanceof UC||e instanceof FC))throw new Py(Ty.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(eb.fromString(t,...r));return TC(n),new UC(e.firestore,e instanceof FC?e.converter:null,new rb(n))}}const VC="AsyncQueue";class qC{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new Dk(this,"async_queue_retry"),this.rc=()=>{const e=Ok();e&&wy(VC,"Visibility state changed to "+e.visibilityState),this.x_.b_()},this.sc=e;const t=Ok();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=Ok();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise((()=>{}));const t=new Iy;return this._c((()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Ju.push(e),this.ac())))}async ac(){if(0!==this.Ju.length){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(Lj){if(!fb(Lj))throw Lj;wy(VC,"Operation failed with retryable error: "+Lj)}this.Ju.length>0&&this.x_.y_((()=>this.ac()))}}_c(e){const t=this.sc.then((()=>(this.ec=!0,e().catch((e=>{throw this.Xu=e,this.ec=!1,_y("INTERNAL UNHANDLED ERROR: ",HC(e)),e})).then((e=>(this.ec=!1,e))))));return this.sc=t,t}enqueueAfterDelay(e,t,n){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const r=wS.createAndSchedule(this,e,t,n,(e=>this.uc(e)));return this.Zu.push(r),r}oc(){this.Xu&&Sy(47125,{cc:HC(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do{e=this.sc,await e}while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then((()=>{this.Zu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Zu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.lc()}))}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function HC(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class WC extends DC{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new qC,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qC(e),this._firestoreClient=void 0,await e}}}function GC(e){if(e._terminated)throw new Py(Ty.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||KC(e),e._firestoreClient}function KC(e){var t,n,r;const s=e._freezeSettings(),o=function(e,t,n,r){return new gx(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,CC(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,s);e._componentsProvider||(null===(n=s.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=s.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),e._firestoreClient=new yC(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class YC{constructor(e){this._byteString=e}static fromBase64String(e){try{return new YC(sx.fromBase64String(e))}catch(e){throw new Py(Ty.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new YC(sx.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class QC{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Py(Ty.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nb(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class JC{constructor(e){this._methodName=e}}class XC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Py(Ty.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Py(Ty.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qy(this._lat,e._lat)||qy(this._long,e._long)}}class $C{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const ZC=/^__.*__$/;class eN{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new w_(e,this.data,this.fieldMask,t,this.fieldTransforms):new x_(e,this.data,t,this.fieldTransforms)}}class tN{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new w_(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function nN(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Sy(40011,{Ic:e})}}class rN{constructor(e,t,n,r,s,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===s&&this.Ec(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new rN(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.dc({path:n,Rc:!1});return r.Vc(e),r}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.dc({path:n,Rc:!1});return r.Ec(),r}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return bN(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(0===e.length)throw this.gc("Document fields must not be empty");if(nN(this.Ic)&&ZC.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class sN{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Rk(e)}bc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new rN({Ic:e,methodName:t,wc:n,path:nb.emptyPath(),Rc:!1,yc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function oN(e){const t=e._freezeSettings(),n=Rk(e._databaseId);return new sN(e._databaseId,!!t.ignoreUndefinedProperties,n)}function iN(e,t,n,r,s){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const i=e.bc(o.merge||o.mergeFields?2:0,t,n,s);fN("Data must be an object, but it was:",i,r);const a=pN(r,i);let l,c;if(o.merge)l=new nx(i.fieldMask),c=i.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const s=gN(t,r,n);if(!i.contains(s))throw new Py(Ty.INVALID_ARGUMENT,"Field '".concat(s,"' is specified in your field mask but missing from your input data."));xN(e,s)||e.push(s)}l=new nx(e),c=i.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=i.fieldTransforms;return new eN(new Vx(a),l,c)}class aN extends JC{_toFieldTransform(e){if(2!==e.Ic)throw 1===e.Ic?e.gc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.gc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof aN}}class lN extends JC{_toFieldTransform(e){return new u_(e.path,new n_)}isEqual(e){return e instanceof lN}}function cN(e,t,n,r){const s=e.bc(1,t,n);fN("Data must be an object, but it was:",s,r);const o=[],i=Vx.empty();Qb(r,((e,r)=>{const a=yN(t,e,n);r=vu(r);const l=s.mc(a);if(r instanceof aN)o.push(a);else{const e=hN(r,l);null!=e&&(o.push(a),i.set(a,e))}}));const a=new nx(o);return new tN(i,a,s.fieldTransforms)}function uN(e,t,n,r,s,o){const i=e.bc(1,t,n),a=[gN(t,r,n)],l=[s];if(o.length%2!=0)throw new Py(Ty.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<o.length;h+=2)a.push(gN(t,o[h])),l.push(o[h+1]);const c=[],u=Vx.empty();for(let h=a.length-1;h>=0;--h)if(!xN(c,a[h])){const e=a[h];let t=l[h];t=vu(t);const n=i.mc(e);if(t instanceof aN)c.push(e);else{const r=hN(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new nx(c);return new tN(u,d,i.fieldTransforms)}function dN(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return hN(n,e.bc(r?4:3,t))}function hN(e,t){if(mN(e=vu(e)))return fN("Unsupported field value:",t,e),pN(e,t);if(e instanceof JC)return function(e,t){if(!nN(t.Ic))throw t.gc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.gc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Rc&&4!==t.Ic)throw t.gc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const s of e){let e=hN(s,t.fc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=vu(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Xw(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Jy.fromDate(e);return{timestampValue:tE(t.serializer,n)}}if(e instanceof Jy){const n=new Jy(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:tE(t.serializer,n)}}if(e instanceof XC)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof YC)return{bytesValue:nE(t.serializer,e._byteString)};if(e instanceof UC){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.gc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:oE(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof $C)return function(e,t){return{mapValue:{fields:{[bx]:{stringValue:_x},[Ex]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.gc("VectorValues must only contain numeric values.");return Qw(t.serializer,e)}))}}}}}}(e,t);throw t.gc("Unsupported field value: ".concat(IC(e)))}(e,t)}function pN(e,t){const n={};return Jb(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Qb(e,((e,r)=>{const s=hN(r,t.Ac(e));null!=s&&(n[e]=s)})),{mapValue:{fields:n}}}function mN(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Jy||e instanceof XC||e instanceof YC||e instanceof UC||e instanceof JC||e instanceof $C)}function fN(e,t,n){if(!mN(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=IC(n);throw"an object"===r?t.gc(e+" a custom object"):t.gc(e+" "+r)}}function gN(e,t,n){if((t=vu(t))instanceof QC)return t._internalPath;if("string"==typeof t)return yN(e,t);throw bN("Field path arguments must be of type string or ",e,!1,void 0,n)}const vN=new RegExp("[~\\*/\\[\\]]");function yN(e,t,n){if(t.search(vN)>=0)throw bN("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new QC(...t.split("."))._internalPath}catch(r){throw bN("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function bN(e,t,n,r,s){const o=r&&!r.isEmpty(),i=void 0!==s;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||i)&&(l+=" (found",o&&(l+=" in field ".concat(r)),i&&(l+=" in document ".concat(s)),l+=")"),new Py(Ty.INVALID_ARGUMENT,a+e+l)}function xN(e,t){return e.some((e=>e.isEqual(t)))}class wN{constructor(e,t,n,r,s){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new UC(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new _N(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(EN("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class _N extends wN{data(){return super.data()}}function EN(e,t){return"string"==typeof t?yN(e,t):t instanceof QC?t._internalPath:t._delegate._internalPath}function kN(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Py(Ty.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class SN{}class CN extends SN{}class NN extends CN{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new NN(e,t,n)}_apply(e){const t=this._parse(e);return IN(e._query,t),new MC(e.firestore,e.converter,Cw(e._query,t))}_parse(e){const t=oN(e.firestore),n=function(e,t,n,r,s,o,i){let a;if(s.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Py(Ty.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){PN(i,o);const t=[];for(const n of i)t.push(TN(r,e,n));a={arrayValue:{values:t}}}else a=TN(r,e,i)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||PN(i,o),a=dN(n,t,i,"in"===o||"not-in"===o);return Xx.create(s,o,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class jN extends SN{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new jN(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:$x.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const s of r)IN(n,s),n=Cw(n,s)}(e._query,t),new MC(e.firestore,e.converter,Cw(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function TN(e,t,n){if("string"==typeof(n=vu(n))){if(""===n)throw new Py(Ty.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_w(t)&&-1!==n.indexOf("/"))throw new Py(Ty.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(eb.fromString(n));if(!rb.isDocumentKey(r))throw new Py(Ty.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Ax(e,new rb(r))}if(n instanceof UC)return Ax(e,n._key);throw new Py(Ty.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(IC(n),"."))}function PN(e,t){if(!Array.isArray(e)||0===e.length)throw new Py(Ty.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function IN(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Py(Ty.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Py(Ty.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class LN{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(kx(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ax(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(lx(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Sy(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Qb(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const s=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[Ex].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>ax(e.doubleValue)));return new $C(s)}convertGeoPoint(e){return new XC(ax(e.latitude),ax(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=mx(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(fx(e));default:return null}}convertTimestamp(e){const t=ix(e);return new Jy(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=eb.fromString(e);Ny(NE(n),9688,{name:e});const r=new yx(n.get(1),n.get(3)),s=new rb(n.popFirst(5));return r.isEqual(t)||_y("Document ".concat(s," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),s}}function AN(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class ON{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class RN extends wN{constructor(e,t,n,r,s,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new DN(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(EN("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class DN extends RN{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class MN{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new ON(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new DN(this._firestore,this._userDataWriter,n.key,n,new ON(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Py(Ty.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new DN(e._firestore,e._userDataWriter,n.doc.key,n.doc,new ON(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new DN(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ON(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let s=-1,o=-1;return 0!==t.type&&(s=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:UN(t.type),doc:r,oldIndex:s,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function UN(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Sy(61501,{type:e})}}class FN extends LN{constructor(e){super(),this.firestore=e}convertBytes(e){return new YC(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new UC(this.firestore,null,t)}}function zN(e){e=LC(e,MC);const t=LC(e.firestore,WC),n=GC(t),r=new FN(t);return kN(e._query),SC(n,e._query).then((n=>new MN(t,r,e,n)))}function BN(e,t,n){e=LC(e,UC);const r=LC(e.firestore,WC),s=oN(r);let o;for(var i=arguments.length,a=new Array(i>3?i-3:0),l=3;l<i;l++)a[l-3]=arguments[l];return o="string"==typeof(t=vu(t))||t instanceof QC?uN(s,"updateDoc",e._key,t,n,a):cN(s,"updateDoc",e._key,t),HN(r,[o.toMutation(e._key,h_.exists(!0))])}function VN(e){return HN(LC(e.firestore,WC),[new S_(e._key,h_.none())])}function qN(e,t){const n=LC(e.firestore,WC),r=BC(e),s=AN(e.converter,t);return HN(n,[iN(oN(e.firestore),"addDoc",r._key,s,null!==e.converter,{}).toMutation(r._key,h_.exists(!1))]).then((()=>r))}function HN(e,t){return function(e,t){const n=new Iy;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=hC(e);try{const e=await function(e,t){const n=jy(e),r=Jy.now(),s=t.reduce(((e,t)=>e.add(t.key)),Gw());let o,i;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=Mw(),l=Gw();return n.Bs.getEntries(e,s).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((s=>{o=s;const i=[];for(const e of t){const t=y_(e,o.get(e.key).overlayedDocument);null!=t&&i.push(new w_(e.key,t,qx(t.value.mapValue),h_.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,i,t)})).next((t=>{i=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:i.batchId,changes:zw(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Au[e.currentUser.toKey()];r||(r=new Xb(qy)),r=r.insert(t,n),e.Au[e.currentUser.toKey()]=r}(r,e.batchId,n),await lC(r,e.changes),await lS(r.remoteStore)}catch(e){const t=_S(e,"Failed to persist write");n.reject(t)}}(await EC(e),t,n))),n.promise}(GC(e),t)}function WN(){return new lN("serverTimestamp")}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){yy=e}(Ad),jd(new yu("firestore",((e,n)=>{let{instanceIdentifier:r,options:s}=n;const o=e.getProvider("app").getImmediate(),i=new WC(new Ry(e.getProvider("auth-internal")),new Fy(o,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Py(Ty.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yx(e.options.projectId,t)}(o,r),o);return s=Object.assign({useFetchStreams:t},s),i._setSettings(s),i}),"PUBLIC").setMultipleInstances(!0)),Dd(fy,gy,e),Dd(fy,gy,"esm2017")}();const GN=Od({apiKey:"AIzaSyD80GYkjPKfIbVW747zb3s7jXSuVfBJTe4",authDomain:"tours-81516-acfbc.firebaseapp.com",projectId:"tours-81516-acfbc",storageBucket:"tours-81516-acfbc.firebasestorage.app",messagingSenderId:"742946187892",appId:"1:742946187892:web:2b0d2bcb974d4564327f21",measurementId:"G-36FC6SS4WD"});let KN;try{KN=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rd();e=vu(e);const t=Td(e,Dh);return t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Td(e,Dh);if(n.isInitialized()){const e=n.getImmediate();if(cu(t,n.getOptions()))return e;throw Fh.create("already-initialized")}return n.initialize({options:t})}(e)}(GN)}catch(Aj){console.log("Analytics not available:",Aj)}const YN=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rd();const t=Td(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Td(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(cu(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;xp(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Pg,persistence:[zf,xf,Sf]}),r=Gc("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(s=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Og)return;const r=null===t||void 0===t?void 0:t.token;Rg!==r&&(Rg=r,await fetch(s,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){vu(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){vu(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var s;const o=qc("auth");return o&&zm(n,"http://".concat(o)),n}(GN),QN=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rd(),t=arguments.length>1?arguments[1]:void 0;e=vu(e);const n=Td(e,$v).getImmediate({identifier:t}),r=Hc("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n);const s=Yc(t);s&&(Qc("https://".concat(e.host,"/b")),Zc("Storage",!0)),e._isUsingEmulator=!0,e._protocol=s?"https":"http";const{mockUserToken:o}=r;o&&(e._overrideAuthToken="string"===typeof o?o:Jc(o,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}(GN),JN=function(e,t){const n="object"==typeof e?e:Rd(),r="string"==typeof e?e:t||vx,s=Td(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const e=Hc("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var s;e=LC(e,DC);const o=Yc(t),i=e._getSettings(),a=Object.assign(Object.assign({},i),{emulatorOptions:e._getEmulatorOptions()}),l="".concat(t,":").concat(n);o&&(Qc("https://".concat(l)),Zc("Firestore",!0)),i.host!==AC&&i.host!==l&&Ey("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},i),{host:l,ssl:o,emulatorOptions:r});if(!cu(c,a)&&(e._setSettings(c),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=vy.MOCK_USER;else{t=Jc(r.mockUserToken,null===(s=e._app)||void 0===s?void 0:s.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Py(Ty.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new vy(o)}e._authCredentials=new Oy(new Ly(t,n))}}(s,...e)}return s}(GN),XN={width:"100%",height:"400px",borderRadius:"0.5rem",border:"1px solid #e2e8f0"},$N={streetViewControl:!1,mapTypeControl:!1,fullscreenControl:!1,clickableIcons:!1,zoomControl:!0,gestureHandling:"cooperative",language:"pt-PT",region:"PT"},ZN={lat:39.5,lng:-8},ej=42.154,tj=36.838,nj=-6.189,rj=-9.526,sj={lisboa:{lat:38.7223,lng:-9.1393,name:"Lisboa"},porto:{lat:41.1579,lng:-8.6291,name:"Porto"},coimbra:{lat:40.2033,lng:-8.4103,name:"Coimbra"},braga:{lat:41.5518,lng:-8.4219,name:"Braga"},sintra:{lat:38.8029,lng:-9.3817,name:"Sintra"},cascais:{lat:38.6967,lng:-9.4206,name:"Cascais"},"\xf3bidos":{lat:39.3605,lng:-9.1567,name:"\xd3bidos"},evora:{lat:38.5664,lng:-7.9077,name:"\xc9vora"}},oj=e=>{let{value:n="",onChange:r,isMapLoaded:s,mapLoadError:o}=e;const[i,a]=(0,t.useState)([]),[l,u]=(0,t.useState)(""),[d,h]=(0,t.useState)(""),[p,m]=(0,t.useState)(!1),[f,g]=(0,t.useState)(!1),v=(0,t.useRef)(null),y=(0,t.useRef)(null),b=(0,t.useRef)(null),x=(0,t.useRef)(""),w=(0,t.useRef)(!1),_=(0,t.useCallback)((e=>{b.current=e}),[]),E=(0,t.useCallback)((()=>{b.current=null}),[]),k=(0,t.useCallback)((e=>{if(!e||!e.trim())return[];try{return e.split("\n").filter((e=>""!==e.trim())).map(((e,t)=>{const n=e.split(",").map((e=>e.trim()));if(n.length>=3){const[e,r,s]=n,o=parseFloat(r),i=parseFloat(s);if(!isNaN(o)&&!isNaN(i)&&o>=tj&&o<=ej&&i>=rj&&i<=nj)return{id:"loc-".concat(t,"-").concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,5)),name:e,lat:o,lng:i}}return null})).filter((e=>null!==e))}catch(Aj){return[]}}),[]);(0,t.useEffect)((()=>{if(!s||!window.google||f)return;return y.current=setTimeout((()=>{try{window.google.maps.Geocoder&&!v.current&&(v.current=new window.google.maps.Geocoder),g(!0)}catch(Aj){u("Erro ao inicializar Google Maps")}}),200),()=>{y.current&&clearTimeout(y.current)}}),[s,f]),(0,t.useEffect)((()=>{if(w.current||x.current===n)return;x.current=n;const e=k(n);if(a(e),b.current&&e.length>0){const t=e.reduce(((e,t)=>e+t.lat),0)/e.length,n=e.reduce(((e,t)=>e+t.lng),0)/e.length;b.current.panTo({lat:t,lng:n}),b.current.setZoom(1===e.length?12:8)}}),[n,k]);const S=(0,t.useCallback)((e=>{if(!r||w.current)return;w.current=!0;const t=e.map((e=>"".concat(e.name,", ").concat(e.lat.toFixed(6),", ").concat(e.lng.toFixed(6)))).join("\n");t!==x.current&&(x.current=t,r(t)),setTimeout((()=>{w.current=!1}),50)}),[r]),C=(0,t.useCallback)(((e,t,n)=>{if(i.find((e=>Math.abs(e.lat-t)<1e-4&&Math.abs(e.lng-n)<1e-4)))return void u("Este local j\xe1 foi adicionado");const r={id:"loc-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),name:e.trim(),lat:t,lng:n},s=[...i,r];a(s),u(""),setTimeout((()=>S(s)),10)}),[i,S]),N=(0,t.useCallback)((async e=>{if(e.trim()&&v.current&&f){m(!0),u("");try{const t={address:e,componentRestrictions:{country:"PT"},bounds:new window.google.maps.LatLngBounds(new window.google.maps.LatLng(tj,rj),new window.google.maps.LatLng(ej,nj))};v.current.geocode(t,((t,n)=>{if(m(!1),"OK"===n&&t&&t.length>0){const n=t[0],s=n.geometry.location,o=s.lat(),i=s.lng();if(o>=tj&&o<=ej&&i>=rj&&i<=nj){var r;const t=(null===(r=n.formatted_address)||void 0===r?void 0:r.split(",")[0])||e;C(t,o,i),h("")}else u("Local fora de Portugal")}else u("Nenhum local encontrado")}))}catch(Aj){u("Erro na pesquisa"),m(!1)}}else f||u("Google Maps ainda n\xe3o est\xe1 pronto")}),[f,C]),j=(0,t.useCallback)((e=>{const t=e.latLng.lat(),n=e.latLng.lng();t<tj||t>ej||n<rj||n>nj?u("Clique dentro do territ\xf3rio portugu\xeas"):C("Local ".concat(i.length+1),t,n)}),[i.length,C]),T=(0,t.useCallback)((e=>{const t=sj[e];t&&C(t.name,t.lat,t.lng)}),[C]),P=(0,t.useCallback)((e=>{const t=i.filter((t=>t.id!==e));a(t),u(""),setTimeout((()=>S(t)),10)}),[i,S]),I=(0,t.useCallback)(((e,t)=>{if(!t.trim())return void u("Nome n\xe3o pode estar vazio");const n=i.map((n=>n.id===e?c(c({},n),{},{name:t.trim()}):n));a(n),u(""),setTimeout((()=>S(n)),10)}),[i,S]),L=(0,t.useCallback)((()=>{window.confirm("Tem certeza que deseja remover todas as localiza\xe7\xf5es?")&&(a([]),u(""),setTimeout((()=>S([])),10))}),[S]),A=(0,t.useCallback)((e=>{e.preventDefault(),d.trim()&&N(d.trim())}),[d,N]);return o?(0,En.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,En.jsxs)("div",{className:"text-red-800",children:[(0,En.jsx)("strong",{children:"Erro ao carregar Google Maps:"})," ",o.message]})}):s?(0,En.jsxs)("div",{className:"space-y-4",children:[(0,En.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,En.jsx)("h4",{className:"text-green-800 font-semibold mb-2",children:"Seletor de Localiza\xe7\xf5es - Portugal"}),(0,En.jsxs)("ul",{className:"text-green-700 text-sm space-y-1",children:[(0,En.jsx)("li",{children:"\u2022 Pesquise locais espec\xedficos em Portugal"}),(0,En.jsx)("li",{children:"\u2022 Clique no mapa para adicionar pontos personalizados"}),(0,En.jsx)("li",{children:"\u2022 Use os bot\xf5es de teste para cidades principais"})]})]}),(0,En.jsx)("form",{onSubmit:A,children:(0,En.jsxs)("div",{className:"flex gap-2",children:[(0,En.jsx)("input",{type:"text",value:d,onChange:e=>h(e.target.value),placeholder:"Ex: Mercado do Bolh\xe3o Porto, Pal\xe1cio da Pena Sintra...",className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:p||!f}),(0,En.jsx)("button",{type:"submit",disabled:!d.trim()||p||!f,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Procurando...":"Procurar"})]})}),(0,En.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,En.jsx)("p",{className:"text-sm text-gray-600 w-full",children:"Teste r\xe1pido:"}),Object.entries(sj).map((e=>{let[t,n]=e;return(0,En.jsx)("button",{onClick:()=>T(t),disabled:!f,className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm hover:bg-blue-200 disabled:opacity-50",children:n.name},t)}))]}),i.length>0&&(0,En.jsxs)("div",{className:"flex justify-between items-center",children:[(0,En.jsxs)("span",{className:"text-sm text-gray-600",children:[i.length," localiza\xe7\xe3o",1!==i.length?"\xf5es":""," adicionada",1!==i.length?"s":""]}),(0,En.jsx)("button",{onClick:L,className:"text-red-600 hover:text-red-800 text-sm",children:"Limpar Tudo"})]}),l&&(0,En.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:(0,En.jsx)("span",{className:"text-yellow-800 text-sm",children:l})}),(0,En.jsx)(Ni,{mapContainerStyle:XN,center:ZN,zoom:7,options:$N,onLoad:_,onUnmount:E,onClick:j,children:i.map(((e,t)=>(0,En.jsx)(fa,{position:{lat:e.lat,lng:e.lng},title:e.name,label:{text:(t+1).toString(),color:"white",fontWeight:"bold"}},e.id)))}),i.length>0&&(0,En.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,En.jsxs)("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:["Localiza\xe7\xf5es (",i.length,")"]}),(0,En.jsx)("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:i.map(((e,t)=>(0,En.jsxs)("div",{className:"flex items-center justify-between bg-white p-3 rounded-md shadow-sm",children:[(0,En.jsxs)("div",{className:"flex items-center space-x-3 flex-1",children:[(0,En.jsx)("div",{className:"w-6 h-6 bg-blue-100 text-blue-800 rounded-full flex items-center justify-center text-xs font-bold",children:t+1}),(0,En.jsx)("input",{type:"text",value:e.name,onChange:t=>I(e.id,t.target.value),className:"flex-1 text-sm border-0 bg-transparent focus:ring-0 p-0 font-medium text-gray-900",placeholder:"Nome da localiza\xe7\xe3o"})]}),(0,En.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,En.jsxs)("span",{className:"text-xs text-gray-500 font-mono",children:[e.lat.toFixed(4),", ",e.lng.toFixed(4)]}),(0,En.jsx)("button",{type:"button",onClick:()=>P(e.id),className:"text-red-500 hover:text-red-700 p-1",children:(0,En.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,En.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})]},e.id)))})]}),0===i.length&&(0,En.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,En.jsxs)("svg",{className:"w-12 h-12 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,En.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,En.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,En.jsx)("p",{className:"text-sm",children:"Nenhuma localiza\xe7\xe3o adicionada ainda"})]})]}):(0,En.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,En.jsxs)("div",{className:"flex items-center",children:[(0,En.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600 mr-3"}),(0,En.jsx)("span",{className:"text-blue-800",children:"Carregando Google Maps..."})]})})},ij=e=>{let{selectedDates:n,onDatesChange:r,className:s=""}=e;const[o,i]=(0,t.useState)(new Date),[a,l]=(0,t.useState)(new Set(n));(0,t.useEffect)((()=>{l(new Set(n))}),[n]);const c=(()=>{const e=[],t=new Date;for(let n=0;n<6;n++){const r=new Date(t.getFullYear(),t.getMonth()+n,1);e.push(r)}return e})(),u=e=>{const t=e.getFullYear(),n=e.getMonth(),r=new Date(t,n,1),s=new Date(t,n+1,0).getDate(),o=r.getDay(),i=[],a=0===o?6:o-1;for(let l=0;l<a;l++)i.push(null);for(let l=1;l<=s;l++){const e=new Date(t,n,l),r=e.getDay();i.push({date:l,fullDate:e,dateString:d(e),isWeekend:0===r||6===r,isPast:e<(new Date).setHours(0,0,0,0),isToday:e.toDateString()===(new Date).toDateString()})}return i},d=e=>e.toISOString().split("T")[0],h=["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],p=["Seg","Ter","Qua","Qui","Sex","S\xe1b","Dom"];return(0,En.jsxs)("div",{className:"border rounded-lg p-4 bg-white ".concat(s),children:[(0,En.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,En.jsx)("h3",{className:"text-lg font-semibold",children:"Selecionar Datas Dispon\xedveis"}),(0,En.jsx)("div",{className:"flex gap-2",children:(0,En.jsxs)("button",{type:"button",onClick:()=>{const e=Array.from(a).sort();r(e)},className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 text-sm",children:["Aplicar (",a.size," datas)"]})})]}),(0,En.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:c.map(((e,t)=>{const n=u(e),r="".concat(h[e.getMonth()]," ").concat(e.getFullYear());return(0,En.jsxs)("div",{className:"border rounded-lg p-3",children:[(0,En.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,En.jsx)("h4",{className:"font-semibold text-gray-900",children:r}),(0,En.jsxs)("div",{className:"flex gap-1",children:[(0,En.jsx)("button",{type:"button",onClick:()=>(e=>{const t=u(e),n=new Set(a);t.forEach((e=>{!e||e.isWeekend||e.isPast||n.add(e.dateString)})),l(n)})(e),className:"px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200",title:"Selecionar todos os dias \xfateis",children:"Todos"}),(0,En.jsx)("button",{type:"button",onClick:()=>(e=>{const t=u(e),n=new Set(a);t.forEach((e=>{e&&n.delete(e.dateString)})),l(n)})(e),className:"px-2 py-1 text-xs bg-red-100 text-red-700 rounded hover:bg-red-200",title:"Limpar m\xeas",children:"Limpar"})]})]}),(0,En.jsx)("div",{className:"grid grid-cols-7 gap-1 mb-2",children:p.map((e=>(0,En.jsx)("div",{className:"text-xs font-medium text-gray-500 text-center p-1",children:e},e)))}),(0,En.jsx)("div",{className:"grid grid-cols-7 gap-1",children:n.map(((e,t)=>{if(!e)return(0,En.jsx)("div",{className:"h-8"},t);const n=a.has(e.dateString),r=!e.isWeekend&&!e.isPast;return(0,En.jsx)("button",{type:"button",onClick:()=>((e,t,n)=>{if(t||n)return;const r=new Set(a);r.has(e)?r.delete(e):r.add(e),l(r)})(e.dateString,e.isWeekend,e.isPast),disabled:!r,className:"\n                        h-8 w-8 text-xs rounded flex items-center justify-center transition-colors\n                        ".concat(e.isToday?"ring-2 ring-blue-500":"","\n                        ").concat(r?n?"bg-green-600 text-white hover:bg-green-700":"text-gray-700 hover:bg-gray-100 border border-gray-200":"text-gray-300 cursor-not-allowed","\n                      "),title:e.isWeekend?"Fins de semana n\xe3o dispon\xedveis":e.isPast?"Data j\xe1 passou":n?"Clique para remover":"Clique para adicionar",children:e.date},t)}))})]},t)}))}),(0,En.jsxs)("div",{className:"mt-4 text-sm text-gray-600",children:[(0,En.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,En.jsxs)("div",{className:"flex items-center",children:[(0,En.jsx)("div",{className:"w-4 h-4 bg-green-600 rounded mr-2"}),(0,En.jsx)("span",{children:"Selecionado"})]}),(0,En.jsxs)("div",{className:"flex items-center",children:[(0,En.jsx)("div",{className:"w-4 h-4 bg-gray-200 rounded mr-2"}),(0,En.jsx)("span",{children:"Dispon\xedvel"})]}),(0,En.jsxs)("div",{className:"flex items-center",children:[(0,En.jsx)("div",{className:"w-4 h-4 bg-gray-100 text-gray-300 rounded mr-2 flex items-center justify-center text-xs",children:"\xd7"}),(0,En.jsx)("span",{children:"Fins de semana"})]})]}),(0,En.jsxs)("p",{className:"mt-2",children:[(0,En.jsx)("strong",{children:"Dica:"}),' Use "Todos" para selecionar todos os dias \xfateis de um m\xeas, ou clique em dias individuais. Fins de semana est\xe3o desabilitados por defeito.']})]})]})},aj=["places"],lj=e=>{let{tourToEdit:n,onFormClose:r}=e;const[s,o]=(0,t.useState)({name:{pt:"",en:"",es:""},description:{pt:"",en:"",es:""},short_description:{pt:"",en:"",es:""},highlights:{pt:"",en:"",es:""},route_description:{pt:"",en:"",es:""},includes:{pt:"",en:"",es:""},excludes:{pt:"",en:"",es:""},price:"",duration_hours:"",max_participants:4,min_participants:1,tour_type:"cultural",location:"",map_locations:"",images:[],active:!0,featured:!1,difficulty_level:"easy",meeting_point:{pt:"",en:"",es:""},what_to_bring:{pt:"",en:"",es:""},age_restrictions:"",accessibility_info:{pt:"",en:"",es:""},available_dates:[]}),[i,a]=(0,t.useState)(!1),[l,u]=(0,t.useState)(""),[d,h]=(0,t.useState)(""),[p,m]=(0,t.useState)([]),[f,g]=(0,t.useState)(""),{isLoaded:v,loadError:y}=Xi({id:"google-map-script",googleMapsApiKey:"AIzaSyDse8LirlT11c0BVj40XoZaqnJLBU2GNWU",libraries:aj});(0,t.useEffect)((()=>{if(n&&n.id){const e={name:n.name||{pt:"",en:"",es:""},description:n.description||{pt:"",en:"",es:""},short_description:n.short_description||{pt:"",en:"",es:""},highlights:n.highlights||{pt:"",en:"",es:""},route_description:n.route_description||{pt:"",en:"",es:""},includes:n.includes||{pt:"",en:"",es:""},excludes:n.excludes||{pt:"",en:"",es:""},price:n.price||"",duration_hours:n.duration_hours||"",max_participants:n.max_participants||4,min_participants:n.min_participants||1,tour_type:n.tour_type||"cultural",location:n.location||"",map_locations:n.map_locations||"",images:n.images||[],active:void 0===n.active||n.active,featured:n.featured||!1,difficulty_level:n.difficulty_level||"easy",meeting_point:n.meeting_point||{pt:"",en:"",es:""},what_to_bring:n.what_to_bring||{pt:"",en:"",es:""},age_restrictions:n.age_restrictions||"",accessibility_info:n.accessibility_info||{pt:"",en:"",es:""},available_dates:n.available_dates||[]};o(e),m(n.available_dates||[])}else{o({name:{pt:"",en:"",es:""},description:{pt:"",en:"",es:""},short_description:{pt:"",en:"",es:""},highlights:{pt:"",en:"",es:""},route_description:{pt:"",en:"",es:""},includes:{pt:"",en:"",es:""},excludes:{pt:"",en:"",es:""},price:"",duration_hours:"",max_participants:4,min_participants:1,tour_type:"cultural",location:"",map_locations:"",images:[],active:!0,featured:!1,difficulty_level:"easy",meeting_point:{pt:"",en:"",es:""},what_to_bring:{pt:"",en:"",es:""},age_restrictions:"",accessibility_info:{pt:"",en:"",es:""},available_dates:[]}),m([])}}),[null===n||void 0===n?void 0:n.id]);const b=(e,t)=>{o((n=>c(c({},n),{},{[e]:t})))},x=(e,t,n)=>{o((r=>c(c({},r),{},{[e]:c(c({},r[e]),{},{[t]:n})})))},w=e=>{m(e),o((t=>c(c({},t),{},{available_dates:e})))};return(0,En.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,En.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,En.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:null!==n&&void 0!==n&&n.id?"Editar Tour":"Adicionar Novo Tour"}),(0,En.jsx)("button",{onClick:r,className:"text-gray-500 hover:text-gray-700 p-2",children:(0,En.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,En.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),l&&(0,En.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-6",children:(0,En.jsxs)("div",{className:"flex",children:[(0,En.jsx)("svg",{className:"w-5 h-5 text-red-600 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,En.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),(0,En.jsx)("div",{className:"text-red-800 whitespace-pre-line",children:l})]})}),(0,En.jsxs)("div",{className:"space-y-8",children:[(0,En.jsxs)("section",{children:[(0,En.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Informa\xe7\xf5es B\xe1sicas"}),(0,En.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,En.jsxs)("div",{children:[(0,En.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome (PT) *"}),(0,En.jsx)("input",{type:"text",value:s.name.pt,onChange:e=>x("name","pt",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nome do tour em portugu\xeas",required:!0})]}),(0,En.jsxs)("div",{children:[(0,En.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome (EN)"}),(0,En.jsx)("input",{type:"text",value:s.name.en,onChange:e=>x("name","en",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Tour name in English"})]}),(0,En.jsxs)("div",{children:[(0,En.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome (ES)"}),(0,En.jsx)("input",{type:"text",value:s.name.es,onChange:e=>x("name","es",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nombre del tour en espa\xf1ol"})]})]}),(0,En.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,En.jsxs)("div",{children:[(0,En.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descri\xe7\xe3o Curta (PT)"}),(0,En.jsx)("textarea",{value:s.short_description.pt,onChange:e=>x("short_description","pt",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"3",placeholder:"Descri\xe7\xe3o resumida em portugu\xeas"})]}),(0,En.jsxs)("div",{children:[(0,En.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descri\xe7\xe3o Curta (EN)"}),(0,En.jsx)("textarea",{value:s.short_description.en,onChange:e=>x("short_description","en",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"3",placeholder:"Short description in English"})]}),(0,En.jsxs)("div",{children:[(0,En.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descri\xe7\xe3o Curta (ES)"}),(0,En.jsx)("textarea",{value:s.short_description.es,onChange:e=>x("short_description","es",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"3",placeholder:"Descripci\xf3n corta en espa\xf1ol"})]})]}),(0,En.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[(0,En.jsxs)("div",{children:[(0,En.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pre\xe7o Total (\u20ac) *"}),(0,En.jsx)("input",{type:"number",value:s.price,onChange:e=>b("price",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 200",min:"0",step:"0.01",required:!0}),(0,En.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Pre\xe7o total do tour (n\xe3o por pessoa)"})]}),(0,En.jsxs)("div",{children:[(0,En.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dura\xe7\xe3o (horas)"}),(0,En.jsx)("input",{type:"number",value:s.duration_hours,onChange:e=>b("duration_hours",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 8",min:"1",max:"24"})]}),(0,En.jsxs)("div",{children:[(0,En.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Participantes (m\xe1x) *"}),(0,En.jsx)("input",{type:"number",value:s.max_participants,onChange:e=>{const t=parseInt(e.target.value);t>=1&&t<=4?b("max_participants",t):""===e.target.value&&b("max_participants","")},onBlur:e=>{const t=parseInt(e.target.value);(isNaN(t)||t<1||t>4)&&b("max_participants",4)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 4",min:"1",max:"4",required:!0}),(0,En.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"M\xe1ximo 4 pessoas (para grupos maiores, contacte diretamente)"})]}),(0,En.jsxs)("div",{children:[(0,En.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Tour"}),(0,En.jsxs)("select",{value:s.tour_type,onChange:e=>b("tour_type",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,En.jsx)("option",{value:"cultural",children:"Cultural"}),(0,En.jsx)("option",{value:"gastronomic",children:"Gastron\xf4mico"}),(0,En.jsx)("option",{value:"mixed",children:"Misto"}),(0,En.jsx)("option",{value:"custom",children:"Personalizado"})]})]})]}),(0,En.jsxs)("div",{className:"mb-4",children:[(0,En.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Localiza\xe7\xe3o Principal"}),(0,En.jsx)("input",{type:"text",value:s.location,onChange:e=>b("location",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Lisboa, Portugal"})]})]}),(0,En.jsxs)("section",{children:[(0,En.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Descri\xe7\xe3o Completa"}),(0,En.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,En.jsxs)("div",{children:[(0,En.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descri\xe7\xe3o (PT) *"}),(0,En.jsx)("textarea",{value:s.description.pt,onChange:e=>x("description","pt",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"6",placeholder:"Descri\xe7\xe3o detalhada do tour em portugu\xeas",required:!0})]}),(0,En.jsxs)("div",{children:[(0,En.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descri\xe7\xe3o (EN)"}),(0,En.jsx)("textarea",{value:s.description.en,onChange:e=>x("description","en",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"6",placeholder:"Detailed tour description in English"})]}),(0,En.jsxs)("div",{children:[(0,En.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descri\xe7\xe3o (ES)"}),(0,En.jsx)("textarea",{value:s.description.es,onChange:e=>x("description","es",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"6",placeholder:"Descripci\xf3n detallada del tour en espa\xf1ol"})]})]})]}),(0,En.jsxs)("section",{children:[(0,En.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Itiner\xe1rio por Hor\xe1rios"}),(0,En.jsxs)("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,En.jsx)("h4",{className:"font-semibold text-blue-900 mb-3",children:"Como criar o itiner\xe1rio:"}),(0,En.jsxs)("div",{className:"text-sm text-blue-800 space-y-2",children:[(0,En.jsxs)("p",{children:[(0,En.jsx)("strong",{children:"Formato:"})," Hora + Descri\xe7\xe3o da atividade"]}),(0,En.jsx)("p",{children:(0,En.jsx)("strong",{children:"Exemplo:"})}),(0,En.jsx)("div",{className:"bg-white p-3 rounded border mt-2 font-mono text-xs",children:(0,En.jsxs)("div",{className:"text-gray-700",children:[(0,En.jsx)("strong",{children:"10:00"})," Manh\xe3: Encontro no centro hist\xf3rico",(0,En.jsx)("br",{}),(0,En.jsx)("strong",{children:"12:30"})," Almo\xe7o: Restaurante tradicional",(0,En.jsx)("br",{}),(0,En.jsx)("strong",{children:"14:30"})," Tarde: Visita aos monumentos"]})})]})]}),(0,En.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,En.jsxs)("div",{children:[(0,En.jsxs)("label",{className:"text-sm font-medium text-gray-700 flex items-center justify-between mb-2",children:[(0,En.jsx)("span",{children:"PORTUGU\xcaS"}),(0,En.jsx)("span",{className:"text-xs text-blue-600",children:"Use hor\xe1rios (10:00, 12:30, etc.)"})]}),(0,En.jsx)("textarea",{value:s.route_description.pt,onChange:e=>x("route_description","pt",e.target.value),rows:"10",placeholder:"10:00 In\xedcio do tour\n12:30 Almo\xe7o tradicional\n14:30 Visitas culturais",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm font-mono"})]}),(0,En.jsxs)("div",{children:[(0,En.jsxs)("label",{className:"text-sm font-medium text-gray-700 flex items-center justify-between mb-2",children:[(0,En.jsx)("span",{children:"ENGLISH"}),(0,En.jsx)("span",{className:"text-xs text-blue-600",children:"Use times (10:00, 12:30, etc.)"})]}),(0,En.jsx)("textarea",{value:s.route_description.en,onChange:e=>x("route_description","en",e.target.value),rows:"10",placeholder:"10:00 Tour start\n12:30 Traditional lunch\n14:30 Cultural visits",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm font-mono"})]}),(0,En.jsxs)("div",{children:[(0,En.jsxs)("label",{className:"text-sm font-medium text-gray-700 flex items-center justify-between mb-2",children:[(0,En.jsx)("span",{children:"ESPA\xd1OL"}),(0,En.jsx)("span",{className:"text-xs text-blue-600",children:"Use horarios (10:00, 12:30, etc.)"})]}),(0,En.jsx)("textarea",{value:s.route_description.es,onChange:e=>x("route_description","es",e.target.value),rows:"10",placeholder:"10:00 Inicio del tour\n12:30 Almuerzo tradicional\n14:30 Visitas culturales",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm font-mono"})]})]}),s.route_description.pt&&(0,En.jsxs)("div",{className:"mt-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:[(0,En.jsx)("h4",{className:"font-semibold text-green-900 mb-3",children:"Preview do Itiner\xe1rio:"}),(0,En.jsx)("div",{className:"text-sm text-green-800",children:(e=>{if(!e)return[];const t=/(\d{1,2}[:h]\d{2}|\d{1,2}h)/gi,n=e.split("\n").filter((e=>""!==e.trim())),r=[];let s=null;return n.forEach((e=>{const n=e.match(t);if(n){s&&r.push(s);const o=n[0].replace("h",":"),i=e.replace(t,"").replace(":","").trim();s={time:o,title:i||"Atividade \xe0s ".concat(o)}}})),s&&r.push(s),r})(s.route_description.pt).map(((e,t)=>(0,En.jsxs)("div",{className:"mb-3 flex items-start",children:[(0,En.jsx)("span",{className:"font-bold text-indigo-600 mr-3 min-w-[60px] text-base",children:e.time}),(0,En.jsx)("span",{className:"flex-1 text-gray-700",children:e.title})]},t)))})]})]}),(0,En.jsxs)("section",{children:[(0,En.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Pontos de Destaque"}),(0,En.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,En.jsxs)("div",{children:[(0,En.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Highlights (PT)"}),(0,En.jsx)("textarea",{value:s.highlights.pt,onChange:e=>x("highlights","pt",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"5",placeholder:"Ex:\nVisita ao Pal\xe1cio da Pena\nDegusta\xe7\xe3o de vinhos locais\nPasseio pelo centro hist\xf3rico"})]}),(0,En.jsxs)("div",{children:[(0,En.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Highlights (EN)"}),(0,En.jsx)("textarea",{value:s.highlights.en,onChange:e=>x("highlights","en",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"5",placeholder:"Ex:\nVisit to Pena Palace\nLocal wine tasting\nHistoric center walk"})]}),(0,En.jsxs)("div",{children:[(0,En.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Highlights (ES)"}),(0,En.jsx)("textarea",{value:s.highlights.es,onChange:e=>x("highlights","es",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"5",placeholder:"Ex:\nVisita al Palacio da Pena\nDegustaci\xf3n de vinos locales\nPaseo por el centro hist\xf3rico"})]})]})]}),(0,En.jsxs)("section",{children:[(0,En.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"O que inclui e exclui"}),(0,En.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,En.jsxs)("div",{children:[(0,En.jsx)("h4",{className:"text-md font-medium text-green-700 mb-3",children:"Inclui"}),(0,En.jsxs)("div",{className:"space-y-3",children:[(0,En.jsxs)("div",{children:[(0,En.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Portugu\xeas"}),(0,En.jsx)("textarea",{value:s.includes.pt,onChange:e=>x("includes","pt",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",rows:"3",placeholder:"Ex: Guia tur\xedstico, Transporte, Almo\xe7o"})]}),(0,En.jsxs)("div",{children:[(0,En.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"English"}),(0,En.jsx)("textarea",{value:s.includes.en,onChange:e=>x("includes","en",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",rows:"3",placeholder:"Ex: Tour guide, Transportation, Lunch"})]}),(0,En.jsxs)("div",{children:[(0,En.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Espa\xf1ol"}),(0,En.jsx)("textarea",{value:s.includes.es,onChange:e=>x("includes","es",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",rows:"3",placeholder:"Ex: Gu\xeda tur\xedstico, Transporte, Almuerzo"})]})]})]}),(0,En.jsxs)("div",{children:[(0,En.jsx)("h4",{className:"text-md font-medium text-red-700 mb-3",children:"N\xe3o inclui"}),(0,En.jsxs)("div",{className:"space-y-3",children:[(0,En.jsxs)("div",{children:[(0,En.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Portugu\xeas"}),(0,En.jsx)("textarea",{value:s.excludes.pt,onChange:e=>x("excludes","pt",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",rows:"3",placeholder:"Ex: Despesas pessoais, Gorjetas, Bebidas extras"})]}),(0,En.jsxs)("div",{children:[(0,En.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"English"}),(0,En.jsx)("textarea",{value:s.excludes.en,onChange:e=>x("excludes","en",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",rows:"3",placeholder:"Ex: Personal expenses, Tips, Extra drinks"})]}),(0,En.jsxs)("div",{children:[(0,En.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Espa\xf1ol"}),(0,En.jsx)("textarea",{value:s.excludes.es,onChange:e=>x("excludes","es",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",rows:"3",placeholder:"Ex: Gastos personales, Propinas, Bebidas extra"})]})]})]})]})]}),(0,En.jsxs)("section",{children:[(0,En.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"\ud83d\udcc5 Datas Dispon\xedveis para Reserva"}),(0,En.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[(0,En.jsx)("h4",{className:"font-semibold text-blue-900 mb-3",children:"Sistema de Disponibilidade:"}),(0,En.jsxs)("div",{className:"text-sm text-blue-800 space-y-2",children:[(0,En.jsx)("p",{children:(0,En.jsx)("strong",{children:"\ud83d\udccb Como funciona:"})}),(0,En.jsxs)("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[(0,En.jsx)("li",{children:"Selecione as datas espec\xedficas em que este tour estar\xe1 dispon\xedvel"}),(0,En.jsx)("li",{children:"Apenas essas datas aparecer\xe3o no formul\xe1rio de reserva"}),(0,En.jsx)("li",{children:"Se n\xe3o selecionar nenhuma data, o tour aceita qualquer data futura"}),(0,En.jsx)("li",{children:"Fins de semana s\xe3o permitidos (pode desativar individualmente se necess\xe1rio)"})]})]})]}),(0,En.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[(0,En.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"\u2795 Adicionar Data R\xe1pida"}),(0,En.jsxs)("div",{className:"flex gap-3",children:[(0,En.jsx)("input",{type:"date",value:f,onChange:e=>g(e.target.value),min:(new Date).toISOString().split("T")[0],className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,En.jsx)("button",{type:"button",onClick:()=>{if(f&&!p.includes(f)){const e=[...p,f].sort();w(e),g("")}},disabled:!f||p.includes(f),className:"px-4 py-2 rounded-md font-medium ".concat(f&&!p.includes(f)?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:"Adicionar"})]})]}),(0,En.jsx)(ij,{selectedDates:p,onDatesChange:w,className:"mb-6"}),p.length>0&&(0,En.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[(0,En.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,En.jsxs)("h4",{className:"font-medium text-gray-900",children:["\ud83d\udcc5 Datas Selecionadas (",p.length,")"]}),(0,En.jsx)("button",{type:"button",onClick:()=>{w([])},className:"text-sm text-red-600 hover:text-red-800 font-medium",children:"\ud83d\uddd1\ufe0f Limpar Todas"})]}),(0,En.jsx)("div",{className:"max-h-40 overflow-y-auto",children:(0,En.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm",children:p.map((e=>(0,En.jsxs)("div",{className:"flex items-center justify-between bg-white p-2 rounded border",children:[(0,En.jsx)("span",{className:"font-medium",children:new Date(e+"T00:00:00").toLocaleDateString("pt-PT")}),(0,En.jsx)("button",{type:"button",onClick:()=>(e=>{const t=p.filter((t=>t!==e));w(t)})(e),className:"text-red-600 hover:text-red-800 font-bold ml-2",title:"Remover data",children:"\u2715"})]},e)))})}),(0,En.jsxs)("div",{className:"mt-3 text-xs text-gray-600",children:[(0,En.jsx)("p",{children:(0,En.jsx)("strong",{children:"\u2705 Estas datas estar\xe3o dispon\xedveis para reserva no website"})}),(0,En.jsx)("p",{children:"\ud83d\uddd3\ufe0f Se n\xe3o houver datas selecionadas, qualquer data futura ser\xe1 aceite"})]})]}),0===p.length&&(0,En.jsx)("div",{className:"border border-amber-200 rounded-lg p-4 bg-amber-50",children:(0,En.jsxs)("div",{className:"flex items-center",children:[(0,En.jsx)("span",{className:"text-2xl mr-3",children:"\u26a0\ufe0f"}),(0,En.jsxs)("div",{children:[(0,En.jsx)("h4",{className:"font-medium text-amber-900",children:"Nenhuma data espec\xedfica selecionada"}),(0,En.jsx)("p",{className:"text-sm text-amber-800",children:"O tour aceitar\xe1 reservas para qualquer data futura. Selecione datas espec\xedficas para restringir a disponibilidade."})]})]})})]}),(0,En.jsxs)("section",{children:[(0,En.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Localiza\xe7\xf5es do Itiner\xe1rio"}),(0,En.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,En.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:[(0,En.jsx)("strong",{children:"Selecione os pontos espec\xedficos que fazem parte do itiner\xe1rio do tour."}),(0,En.jsx)("br",{}),"Estas localiza\xe7\xf5es ser\xe3o mostradas no mapa da p\xe1gina de detalhes."]}),v?(0,En.jsx)(oj,{value:s.map_locations,onChange:e=>{o((t=>c(c({},t),{},{map_locations:e||""})))},isMapLoaded:v,mapLoadError:y}):y?(0,En.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,En.jsxs)("div",{className:"flex",children:[(0,En.jsx)("svg",{className:"w-5 h-5 text-red-600 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,En.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),(0,En.jsx)("div",{className:"text-red-800",children:"Erro ao carregar Google Maps. Verifique a configura\xe7\xe3o da API."})]})}):(0,En.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,En.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mr-3"}),(0,En.jsx)("p",{className:"text-gray-600",children:"A carregar Google Maps..."})]})]})]}),(0,En.jsxs)("section",{children:[(0,En.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Galeria de Imagens"}),(0,En.jsx)("div",{className:"mb-4",children:(0,En.jsxs)("div",{className:"flex gap-2",children:[(0,En.jsx)("input",{type:"url",value:d,onChange:e=>h(e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://exemplo.com/imagem.jpg"}),(0,En.jsx)("button",{type:"button",onClick:()=>{d.trim()&&(o((e=>c(c({},e),{},{images:[...e.images,d.trim()]}))),h(""))},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Adicionar"})]})}),s.images.length>0&&(0,En.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:s.images.map(((e,t)=>(0,En.jsxs)("div",{className:"relative group",children:[(0,En.jsx)("img",{src:e,alt:"Imagem ".concat(t+1),className:"w-full h-32 object-cover rounded-lg",onError:e=>{e.target.style.display="none"}}),(0,En.jsx)("button",{type:"button",onClick:()=>(e=>{o((t=>c(c({},t),{},{images:t.images.filter(((t,n)=>n!==e))})))})(t),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:"\xd7"}),(0,En.jsx)("div",{className:"absolute bottom-2 left-2 bg-black bg-opacity-50 text-white px-2 py-1 rounded text-xs",children:0===t?"Principal":"Imagem ".concat(t+1)})]},t)))})]}),(0,En.jsxs)("section",{children:[(0,En.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Configura\xe7\xf5es"}),(0,En.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,En.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,En.jsx)("input",{type:"checkbox",id:"active",checked:s.active,onChange:e=>b("active",e.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,En.jsx)("label",{htmlFor:"active",className:"text-sm font-medium text-gray-700",children:"Tour ativo (vis\xedvel no site)"})]}),(0,En.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,En.jsx)("input",{type:"checkbox",id:"featured",checked:s.featured,onChange:e=>b("featured",e.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,En.jsx)("label",{htmlFor:"featured",className:"text-sm font-medium text-gray-700",children:"Tour em destaque"})]})]})]}),(0,En.jsxs)("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[(0,En.jsx)("button",{type:"button",onClick:r,className:"px-6 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancelar"}),(0,En.jsx)("button",{type:"button",onClick:async()=>{a(!0),u("");try{const e=localStorage.getItem("admin_token"),t={Authorization:"Bearer ".concat(e),"Content-Type":"application/json"};if(!s.name.pt||!s.description.pt||!s.price)return u("Preencha pelo menos os campos obrigat\xf3rios (nome, descri\xe7\xe3o e pre\xe7o em portugu\xeas)"),void a(!1);if(s.max_participants<1||s.max_participants>4)return u("O n\xfamero m\xe1ximo de participantes deve ser entre 1 e 4"),void a(!1);const o=c(c({},s),{},{map_locations:String(s.map_locations||""),available_dates:p});let i;console.log("\ud83d\udcbe Saving tour with available_dates:",o.available_dates),i=n&&n.id?await ti.put("".concat(ni,"/api/tours/").concat(n.id),o,{headers:t}):await ti.post("".concat(ni,"/api/tours"),o,{headers:t}),setTimeout((()=>{r()}),1e3)}catch(l){var e,t,o,i;let n="Erro ao salvar o tour";null!==(e=l.response)&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.message?n=l.response.data.message:401===(null===(o=l.response)||void 0===o?void 0:o.status)?n="Sess\xe3o expirada. Fa\xe7a login novamente.":403===(null===(i=l.response)||void 0===i?void 0:i.status)&&(n="Sem permiss\xe3o para salvar tour."),u(n)}finally{a(!1)}},disabled:i,className:"px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed",children:i?(0,En.jsxs)("div",{className:"flex items-center",children:[(0,En.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Salvando..."]}):(0,En.jsx)(En.Fragment,{children:null!==n&&void 0!==n&&n.id?"Atualizar Tour":"Criar Tour"})})]})]})]})};const cj=new class{constructor(){this.collectionName="heroImages",this.storageFolder="hero-images",this.cache=new Map,this.cacheTimeout=3e5}_getCacheKey(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"".concat(e,"_").concat(t)}_isCacheValid(e){return Date.now()-e.timestamp<this.cacheTimeout}_setCache(e,t){this.cache.set(e,{data:t,timestamp:Date.now()})}_getCache(e){const t=this.cache.get(e);return t&&this._isCacheValid(t)?t.data:(this.cache.delete(e),null)}async getActiveHeroImages(){const e=this._getCacheKey("getActiveHeroImages"),t=this._getCache(e);if(t)return console.log("Retornando hero images do cache"),t;try{console.log("Buscando hero images ativas do Firestore...");const t=function(e,t){let n=[];for(var r=arguments.length,s=new Array(r>2?r-2:0),o=2;o<r;o++)s[o-2]=arguments[o];t instanceof SN&&n.push(t),n=n.concat(s),function(e){const t=e.filter((e=>e instanceof jN)).length,n=e.filter((e=>e instanceof NN)).length;if(t>1||t>0&&n>0)throw new Py(Ty.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)e=i._apply(e);return e}(zC(JN,this.collectionName),function(e,t,n){const r=t,s=EN("where",e);return NN._create(s,r,n)}("active","==",!0)),n=await zN(t),r=[];return n.forEach((e=>{var t,n,s,o;const i=e.data();r.push(c(c({id:e.id},i),{},{createdAt:(null===(t=i.createdAt)||void 0===t||null===(n=t.toDate)||void 0===n?void 0:n.call(t))||i.createdAt,updatedAt:(null===(s=i.updatedAt)||void 0===s||null===(o=s.toDate)||void 0===o?void 0:o.call(s))||i.updatedAt}))})),r.sort(((e,t)=>(e.order||0)-(t.order||0))),console.log("".concat(r.length," hero images ativas encontradas")),this._setCache(e,r),r}catch(Aj){if(console.error("Erro ao buscar hero images ativas:",Aj),"unavailable"===Aj.code)throw new Error("Firebase indispon\xedvel. Verifique sua conex\xe3o com a internet.");if("permission-denied"===Aj.code)throw new Error("Permiss\xe3o negada. Verifique as regras do Firestore.");throw Aj}}async getAllHeroImages(){const e=this._getCacheKey("getAllHeroImages"),t=this._getCache(e);if(t)return console.log("Retornando todas as hero images do cache"),t;try{console.log("Buscando todas as hero images do Firestore...");const t=await zN(zC(JN,this.collectionName)),n=[];return t.forEach((e=>{var t,r,s,o;const i=e.data();n.push(c(c({id:e.id},i),{},{createdAt:(null===(t=i.createdAt)||void 0===t||null===(r=t.toDate)||void 0===r?void 0:r.call(t))||i.createdAt,updatedAt:(null===(s=i.updatedAt)||void 0===s||null===(o=s.toDate)||void 0===o?void 0:o.call(s))||i.updatedAt}))})),n.sort(((e,t)=>(e.order||0)-(t.order||0))),console.log("".concat(n.length," hero images encontradas (total)")),this._setCache(e,n),n}catch(Aj){throw console.error("Erro ao buscar todas as hero images:",Aj),Aj}}async uploadHeroImage(e,t){try{if(console.log("Iniciando upload de hero image:",e.name),!e)throw new Error("Nenhum arquivo fornecido");if(!["image/jpeg","image/png","image/webp","image/jpg"].includes(e.type))throw new Error("Tipo de arquivo n\xe3o suportado. Use JPG, PNG ou WebP.");if(e.size>5242880)throw new Error("Arquivo muito grande. M\xe1ximo 5MB.");const n=Date.now(),r=Math.random().toString(36).substring(2,8),s=e.name.replace(/[^a-zA-Z0-9.-]/g,"_"),o="".concat(n,"_").concat(r,"_").concat(s);console.log("Fazendo upload para Storage:",o);const i=Zv(QN,"".concat(this.storageFolder,"/").concat(o)),a={contentType:e.type,customMetadata:{originalName:e.name,uploadedAt:(new Date).toISOString()}},l=await function(e,t,n){return Vv(e=vu(e),t,n)}(i,e,a);console.log("Upload conclu\xeddo:",l);const u=await function(e){return qv(e=vu(e))}(l.ref);console.log("URL obtida:",u);const d=c(c({},t),{},{imageUrl:u,fileName:o,fileSize:e.size,fileType:e.type,originalName:e.name,createdAt:WN(),updatedAt:WN()});console.log("Salvando metadados no Firestore...");const h=await qN(zC(JN,this.collectionName),d);return console.log("Hero image criada com sucesso:",h.id),this._clearCache(),c(c({id:h.id},d),{},{imageUrl:u})}catch(Aj){if(console.error("Erro detalhado no upload da hero image:",Aj),"storage/unauthorized"===Aj.code)throw new Error("Sem permiss\xe3o para upload. Verifique as regras do Firebase Storage.");if("storage/canceled"===Aj.code)throw new Error("Upload cancelado pelo usu\xe1rio.");if("storage/unknown"===Aj.code)throw new Error("Erro desconhecido no Firebase Storage.");throw Aj}}async updateHeroImage(e,t){try{console.log("Atualizando hero image:",e);const n=BC(JN,this.collectionName,e),r=c(c({},t),{},{updatedAt:WN()});return await BN(n,r),console.log("Hero image atualizada com sucesso"),this._clearCache(),c({id:e},r)}catch(Aj){throw console.error("Erro ao atualizar hero image:",Aj),Aj}}async deleteHeroImage(e,t,n){try{if(console.log("Deletando hero image:",e),await VN(BC(JN,this.collectionName,e)),console.log("Documento removido do Firestore"),n)try{const e=Zv(QN,"".concat(this.storageFolder,"/").concat(n));await function(e){return Hv(e=vu(e))}(e),console.log("Arquivo removido do Storage")}catch(r){console.warn("Erro ao deletar do Storage (arquivo pode n\xe3o existir):",r)}this._clearCache(),console.log("Hero image deletada com sucesso")}catch(Aj){throw console.error("Erro ao deletar hero image:",Aj),Aj}}_clearCache(){this.cache.clear(),console.log("Cache de hero images limpo")}async testConnection(){try{await zN(zC(JN,this.collectionName));return!0}catch(Aj){return console.error("Teste de conectividade falhou:",Aj),!1}}async getStats(){try{const e=await this.getAllHeroImages(),t=e.filter((e=>e.active));return{total:e.length,active:t.length,inactive:e.length-t.length,totalSize:e.reduce(((e,t)=>e+(t.fileSize||0)),0)}}catch(Aj){throw console.error("Erro ao obter estat\xedsticas:",Aj),Aj}}},uj=()=>{const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)(!1),[o,i]=(0,t.useState)(!1),[a,l]=(0,t.useState)(!1),[u,d]=(0,t.useState)(null),[h,p]=(0,t.useState)(""),[m,f]=(0,t.useState)({title:{pt:"",en:"",es:""},subtitle:{pt:"",en:"",es:""},order:1,active:!0});(0,t.useEffect)((()=>{g()}),[]);const g=async()=>{try{s(!0);const e=await cj.getAllHeroImages();n(e)}catch(e){console.error("Erro ao carregar hero images:",e),p("Erro ao carregar imagens do Firebase.")}finally{s(!1)}},v=()=>{f({title:{pt:"",en:"",es:""},subtitle:{pt:"",en:"",es:""},order:1,active:!0}),d(null),p("")};return(0,En.jsxs)("div",{className:"space-y-6",children:[(0,En.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:(0,En.jsxs)("div",{className:"flex items-start",children:[(0,En.jsx)("div",{className:"flex-shrink-0",children:(0,En.jsx)("svg",{className:"h-6 w-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,En.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 002 2z"})})}),(0,En.jsxs)("div",{className:"ml-4",children:[(0,En.jsx)("h3",{className:"text-lg font-medium text-blue-900",children:"\ud83d\udd25 Firebase Hero Images Manager"}),(0,En.jsxs)("div",{className:"mt-2 text-sm text-blue-700",children:[(0,En.jsxs)("p",{className:"mb-2",children:[(0,En.jsx)("strong",{children:"\ud83d\udcbe Armazenamento:"})," Firebase Storage + Firestore Database"]}),(0,En.jsxs)("ul",{className:"list-disc list-inside space-y-1",children:[(0,En.jsx)("li",{children:"\u2705 Imagens guardadas no Firebase Storage"}),(0,En.jsx)("li",{children:"\u2705 Metadados guardados no Firestore"}),(0,En.jsx)("li",{children:"\u2705 Sincroniza\xe7\xe3o autom\xe1tica com a homepage"}),(0,En.jsx)("li",{children:"\u2705 Fallback autom\xe1tico se Firebase falhar"}),(0,En.jsx)("li",{children:"\u2705 Tamanho recomendado: 1920x1080px (16:9)"})]})]})]})]})}),(0,En.jsxs)("div",{className:"flex justify-between items-center",children:[(0,En.jsx)("h2",{className:"text-xl font-semibold",children:"Firebase Hero Images"}),(0,En.jsx)("button",{onClick:()=>l(!0),disabled:o||r,className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 disabled:opacity-50",children:"+ Adicionar ao Firebase"})]}),h&&(0,En.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,En.jsxs)("div",{className:"text-red-800",children:["\ud83d\udea8 ",h]})}),r&&(0,En.jsxs)("div",{className:"text-center py-8",children:[(0,En.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),(0,En.jsx)("p",{className:"mt-2 text-gray-600",children:"\ud83d\udce5 A carregar do Firebase..."})]}),(0,En.jsxs)("div",{className:"grid gap-4",children:[e.map((e=>{var t,n,o,i,a;return(0,En.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:(0,En.jsxs)("div",{className:"md:flex",children:[(0,En.jsx)("div",{className:"md:w-1/3",children:(0,En.jsx)("img",{src:e.imageUrl,alt:(null===(t=e.title)||void 0===t?void 0:t.pt)||"Hero Image",className:"h-48 w-full object-cover md:h-full",onError:e=>{e.target.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="400" height="300" viewBox="0 0 400 300"><rect width="400" height="300" fill="%23f3f4f6"/><text x="200" y="150" text-anchor="middle" fill="%23666">Firebase Error</text></svg>'}})}),(0,En.jsx)("div",{className:"md:w-2/3 p-6",children:(0,En.jsxs)("div",{className:"flex items-start justify-between",children:[(0,En.jsxs)("div",{className:"flex-1",children:[(0,En.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,En.jsxs)("span",{className:"text-sm font-medium text-gray-500",children:["\ud83d\udd25 Firebase ID: ",e.id]}),(0,En.jsxs)("span",{className:"text-sm font-medium text-gray-500",children:["\ud83d\udcca Ordem: ",e.order]}),(0,En.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(e.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.active?"\u2705 Ativa":"\u274c Inativa"})]}),(0,En.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:(null===(n=e.title)||void 0===n?void 0:n.pt)||"Sem t\xedtulo"}),(0,En.jsx)("p",{className:"text-gray-600 mb-2",children:(null===(o=e.subtitle)||void 0===o?void 0:o.pt)||"Sem subt\xedtulo"}),(0,En.jsxs)("div",{className:"text-sm text-gray-500 space-y-1",children:[(null===(i=e.title)||void 0===i?void 0:i.en)&&(0,En.jsxs)("p",{children:[(0,En.jsx)("strong",{children:"EN:"})," ",e.title.en]}),(null===(a=e.title)||void 0===a?void 0:a.es)&&(0,En.jsxs)("p",{children:[(0,En.jsx)("strong",{children:"ES:"})," ",e.title.es]})]})]}),(0,En.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,En.jsx)("button",{onClick:()=>(async e=>{try{await cj.updateHeroImage(e.id,{active:!e.active}),g()}catch(t){console.error("Erro ao alterar status:",t),alert("\u274c Erro ao alterar status")}})(e),className:"px-3 py-1 rounded text-sm ".concat(e.active?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200"),disabled:r,children:e.active?"Desativar":"Ativar"}),(0,En.jsx)("button",{onClick:()=>(e=>{d(e),f({title:e.title||{pt:"",en:"",es:""},subtitle:e.subtitle||{pt:"",en:"",es:""},order:e.order||1,active:void 0===e.active||e.active}),l(!0)})(e),className:"px-3 py-1 bg-blue-100 text-blue-700 rounded text-sm hover:bg-blue-200",children:"Editar"}),(0,En.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("\ud83d\uddd1\ufe0f Eliminar esta imagem do Firebase?"))try{s(!0),await cj.deleteHeroImage(e.id,e.imageUrl,e.fileName),alert("\u2705 Imagem eliminada do Firebase!"),g()}catch(t){console.error("Erro ao eliminar:",t),alert("\u274c Erro ao eliminar imagem")}finally{s(!1)}})(e),className:"px-3 py-1 bg-red-100 text-red-700 rounded text-sm hover:bg-red-200",disabled:r,children:"Eliminar"})]})]})})]})},e.id)})),0===e.length&&!r&&(0,En.jsxs)("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[(0,En.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udd25"}),(0,En.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Firebase vazio"}),(0,En.jsx)("p",{className:"text-gray-500",children:"Adicione a primeira imagem ao Firebase Storage"})]})]}),a&&(0,En.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,En.jsx)("div",{className:"bg-white rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:(0,En.jsxs)("div",{className:"p-6",children:[(0,En.jsxs)("h3",{className:"text-xl font-bold mb-4",children:["\ud83d\udd25 ",u?"Editar no Firebase":"Upload para Firebase"]}),(0,En.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=document.getElementById("heroImageFile"),n=null===t||void 0===t?void 0:t.files[0];u||n?m.title.pt.trim()?(async e=>{if(!e)return;if(["image/jpeg","image/png","image/webp","image/jpg"].includes(e.type))if(e.size>5242880)alert("Arquivo muito grande. M\xe1ximo 5MB.");else{i(!0),p("");try{u?(await cj.updateHeroImage(u.id,m),alert("\u2705 Imagem atualizada no Firebase!")):(await cj.uploadHeroImage(e,m),alert("\u2705 Imagem enviada para Firebase Storage!")),v(),l(!1),g()}catch(t){console.error("Erro:",t);const e=t.message||"Erro ao processar imagem";p(e),alert("\u274c Erro: "+e)}finally{i(!1)}}else alert("Tipo de arquivo n\xe3o suportado. Use JPG, PNG ou WebP.")})(n):alert("Por favor, preencha pelo menos o t\xedtulo em portugu\xeas"):alert("Por favor, selecione uma imagem")},className:"space-y-6",children:[!u&&(0,En.jsxs)("div",{children:[(0,En.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\ud83d\udcc1 Selecionar Imagem para Firebase *"}),(0,En.jsx)("input",{id:"heroImageFile",type:"file",accept:"image/*",required:!0,className:"w-full border rounded px-3 py-2",disabled:o}),(0,En.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"\ud83d\udd25 Ser\xe1 enviado para Firebase Storage \u2022 M\xe1x: 5MB \u2022 Recomendado: 1920x1080px"})]}),(0,En.jsxs)("div",{children:[(0,En.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\ud83c\udff7\ufe0f T\xedtulos *"}),(0,En.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:["pt","en","es"].map((e=>(0,En.jsxs)("div",{children:[(0,En.jsx)("label",{className:"text-xs text-gray-500",children:e.toUpperCase()}),(0,En.jsx)("input",{type:"text",value:m.title[e],onChange:t=>f(c(c({},m),{},{title:c(c({},m.title),{},{[e]:t.target.value})})),required:"pt"===e,className:"w-full border rounded px-3 py-2",placeholder:"pt"===e?"Obrigat\xf3rio":"Opcional"})]},e)))})]}),(0,En.jsxs)("div",{children:[(0,En.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\ud83d\udcdd Subt\xedtulos"}),(0,En.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:["pt","en","es"].map((e=>(0,En.jsxs)("div",{children:[(0,En.jsx)("label",{className:"text-xs text-gray-500",children:e.toUpperCase()}),(0,En.jsx)("input",{type:"text",value:m.subtitle[e],onChange:t=>f(c(c({},m),{},{subtitle:c(c({},m.subtitle),{},{[e]:t.target.value})})),className:"w-full border rounded px-3 py-2"})]},e)))})]}),(0,En.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,En.jsxs)("div",{children:[(0,En.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\ud83d\udcca Ordem"}),(0,En.jsx)("input",{type:"number",value:m.order,onChange:e=>f(c(c({},m),{},{order:parseInt(e.target.value)})),min:"1",className:"w-full border rounded px-3 py-2"})]}),(0,En.jsxs)("div",{children:[(0,En.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\ud83d\udd18 Status"}),(0,En.jsxs)("select",{value:m.active,onChange:e=>f(c(c({},m),{},{active:"true"===e.target.value})),className:"w-full border rounded px-3 py-2",children:[(0,En.jsx)("option",{value:"true",children:"\u2705 Ativa"}),(0,En.jsx)("option",{value:"false",children:"\u274c Inativa"})]})]})]}),(0,En.jsxs)("div",{className:"flex justify-end gap-4 pt-4 border-t",children:[(0,En.jsx)("button",{type:"button",onClick:()=>{l(!1),v()},disabled:o,className:"px-4 py-2 border rounded hover:bg-gray-100 disabled:opacity-50",children:"Cancelar"}),(0,En.jsx)("button",{type:"submit",disabled:o,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50",children:o?(0,En.jsxs)("div",{className:"flex items-center",children:[(0,En.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"\ud83d\udd25 Enviando para Firebase..."]}):"\ud83d\udd25 ".concat(u?"Atualizar":"Enviar"," Firebase")})]})]})]})})})]})},dj=["id"];const hj=new class{constructor(){this.collectionName="tourFilters",this.cache=new Map,this.cacheTimeout=3e5}_getCacheKey(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"".concat(e,"_").concat(t)}_isCacheValid(e){return Date.now()-e.timestamp<this.cacheTimeout}_setCache(e,t){this.cache.set(e,{data:t,timestamp:Date.now()})}_getCache(e){const t=this.cache.get(e);return t&&this._isCacheValid(t)?t.data:(this.cache.delete(e),null)}getDefaultFilters(){return[{id:"all",key:"all",labels:{pt:"Todos os Tours",en:"All Tours",es:"Todos los Tours"},order:0,active:!0,isDefault:!0},{id:"gastronomic",key:"gastronomic",labels:{pt:"Gastron\xf3mico",en:"Gastronomic",es:"Gastron\xf3mico"},order:1,active:!0,isDefault:!0},{id:"cultural",key:"cultural",labels:{pt:"Cultural",en:"Cultural",es:"Cultural"},order:2,active:!0,isDefault:!0},{id:"mixed",key:"mixed",labels:{pt:"Misto",en:"Mixed",es:"Mixto"},order:3,active:!0,isDefault:!0}]}async getActiveFilters(){console.log("Buscando filtros do Backend...");try{const e=await ti.get("".concat(ni,"/api/config/tour-filters")),t=e.data.some((e=>"all"===e.key)),n=this.getDefaultFilters().find((e=>"all"===e.key)),r=t?e.data:[n,...e.data];return r.sort(((e,t)=>(e.order||0)-(t.order||0))),r}catch(Aj){return console.error("Erro ao buscar filtros do backend, usando padr\xe3o:",Aj),this.getDefaultFilters()}}async getAllFilters(){try{const e=await zN(zC(JN,this.collectionName)),t=[];return e.forEach((e=>{const n=e.data();t.push(c({id:e.id},n))})),0===t.length?(console.log("Criando filtros padr\xe3o..."),await this.createDefaultFilters(),this.getDefaultFilters()):(t.sort(((e,t)=>(e.order||0)-(t.order||0))),t)}catch(Aj){return console.error("Erro ao buscar todos os filtros:",Aj),this.getDefaultFilters()}}async createDefaultFilters(){try{const e=this.getDefaultFilters();for(const t of e)if(t.isDefault){const{id:e}=t,n=s(t,dj);await qN(zC(JN,this.collectionName),c(c({},n),{},{createdAt:WN(),updatedAt:WN()}))}console.log("Filtros padr\xe3o criados no Firestore"),this._clearCache()}catch(Aj){throw console.error("Erro ao criar filtros padr\xe3o:",Aj),Aj}}async createFilter(e){try{const t=c(c({},e),{},{createdAt:WN(),updatedAt:WN()}),n=await qN(zC(JN,this.collectionName),t);return console.log("Filtro criado:",n.id),this._clearCache(),c({id:n.id},t)}catch(Aj){throw console.error("Erro ao criar filtro:",Aj),Aj}}async updateFilter(e,t){try{const n=BC(JN,this.collectionName,e),r=c(c({},t),{},{updatedAt:WN()});return await BN(n,r),console.log("Filtro atualizado:",e),this._clearCache(),c({id:e},r)}catch(Aj){throw console.error("Erro ao atualizar filtro:",Aj),Aj}}async testFirebaseConnection(){try{return{success:!0,documentsFound:(await zN(zC(JN,this.collectionName))).size}}catch(Aj){return{success:!1,error:Aj.message,code:Aj.code||"unknown"}}}async deleteFilter(e){try{await VN(BC(JN,this.collectionName,e)),console.log("Filtro deletado:",e),this._clearCache()}catch(Aj){throw console.error("Erro ao deletar filtro:",Aj),Aj}}_clearCache(){this.cache.clear(),console.log("Cache de filtros limpo")}},pj=()=>{var e,n,r,s,o,i,a;const[l,u]=(0,t.useState)([]),[d,h]=(0,t.useState)(!1),[p,m]=(0,t.useState)(!1),[f,g]=(0,t.useState)(null),[v,y]=(0,t.useState)(""),[b,x]=(0,t.useState)(null),[w,_]=(0,t.useState)(!1),[E,k]=(0,t.useState)({key:"",labels:{pt:"",en:"",es:""},order:1,active:!0});(0,t.useEffect)((()=>{C(),S()}),[]);const S=async()=>{try{const e=await hj.runDiagnostics();x(e),console.log("\ud83d\udd0d Diagn\xf3sticos:",e)}catch(v){console.error("\u274c Erro no diagn\xf3stico:",v)}},C=async()=>{try{h(!0),y("");const e=await hj.testFirebaseConnection();if(!e.success)throw new Error("Firebase Error: ".concat(e.error,"\n\nSolu\xe7\xe3o: ").concat(e.solution));const t=await hj.getAllFilters();u(t)}catch(e){console.error("\u274c Erro ao carregar filtros:",e),y(e.message);const t=hj.getDefaultFilters();u(t)}finally{h(!1)}},N=()=>{k({key:"",labels:{pt:"",en:"",es:""},order:1,active:!0}),g(null),y("")},j=()=>{var e,t;return b?null!==(e=b.firebase)&&void 0!==e&&e.success?"green":"permission-denied"===(null===(t=b.firebase)||void 0===t?void 0:t.code)?"red":"yellow":"gray"};return(0,En.jsxs)("div",{className:"space-y-6",children:[(0,En.jsxs)("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-6",children:[(0,En.jsx)("div",{className:"flex items-start justify-between",children:(0,En.jsxs)("div",{className:"flex items-start",children:[(0,En.jsx)("div",{className:"flex-shrink-0",children:(0,En.jsx)("svg",{className:"h-6 w-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,En.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})})}),(0,En.jsxs)("div",{className:"ml-4 flex-1",children:[(0,En.jsx)("h3",{className:"text-lg font-medium text-purple-900",children:"\ud83d\udd25 Firebase Tour Filters Manager"}),(0,En.jsxs)("div",{className:"mt-2 text-sm text-purple-700",children:[(0,En.jsxs)("p",{className:"mb-2",children:[(0,En.jsx)("strong",{children:"\ud83c\udfaf Copy Persuasivo:"})," Personalize filtros para maximizar convers\xe3o"]}),(0,En.jsxs)("div",{className:"flex items-center gap-4",children:[(0,En.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat("green"===j()?"bg-green-100 text-green-800":"red"===j()?"bg-red-100 text-red-800":"yellow"===j()?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:null!==b&&void 0!==b&&null!==(e=b.firebase)&&void 0!==e&&e.success?"\u2705 Firebase Conectado":"\u274c Firebase Error"}),(0,En.jsxs)("button",{onClick:()=>_(!w),className:"text-xs text-purple-600 hover:text-purple-800 underline",children:[w?"Ocultar":"Ver"," Diagn\xf3sticos"]})]})]})]})]})}),w&&b&&(0,En.jsxs)("div",{className:"mt-4 p-4 bg-white rounded-lg border",children:[(0,En.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"\ud83d\udd0d Diagn\xf3stico Firebase"}),(0,En.jsxs)("div",{className:"text-sm space-y-2",children:[(0,En.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,En.jsxs)("div",{children:[(0,En.jsx)("strong",{children:"Firebase:"}),(0,En.jsx)("div",{className:"ml-2 ".concat(null!==(n=b.firebase)&&void 0!==n&&n.success?"text-green-700":"text-red-700"),children:null!==(r=b.firebase)&&void 0!==r&&r.success?"\u2705 Conectado":"\u274c ".concat(null===(s=b.firebase)||void 0===s?void 0:s.error)}),(null===(o=b.firebase)||void 0===o?void 0:o.solution)&&(0,En.jsxs)("div",{className:"ml-2 text-blue-600 text-xs",children:["\ud83d\udca1 ",b.firebase.solution]})]}),(0,En.jsxs)("div",{children:[(0,En.jsx)("strong",{children:"Filtros:"}),(0,En.jsxs)("div",{className:"ml-2 text-gray-700",children:["\ud83d\udcca ",(null===(i=b.filters)||void 0===i?void 0:i.count)||0," total, ",(null===(a=b.filters)||void 0===a?void 0:a.active)||0," ativos"]})]})]}),(0,En.jsxs)("div",{className:"text-xs text-gray-500",children:["\xdaltima verifica\xe7\xe3o: ",new Date(b.timestamp).toLocaleString("pt-PT")]})]})]})]}),v&&(0,En.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,En.jsxs)("div",{className:"flex items-start",children:[(0,En.jsx)("svg",{className:"w-5 h-5 text-red-600 mt-0.5 mr-3",fill:"currentColor",viewBox:"0 0 20 20",children:(0,En.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),(0,En.jsxs)("div",{className:"flex-1",children:[(0,En.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Erro Firebase"}),(0,En.jsx)("div",{className:"mt-1 text-sm text-red-700",children:(0,En.jsx)("pre",{className:"whitespace-pre-wrap text-xs",children:v})}),(0,En.jsx)("div",{className:"mt-3",children:(0,En.jsx)("button",{onClick:S,className:"text-sm bg-red-100 text-red-800 px-3 py-1 rounded hover:bg-red-200",children:"\ud83d\udd04 Verificar novamente"})})]})]})}),(0,En.jsxs)("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[(0,En.jsx)("h2",{className:"text-xl font-semibold",children:"\ud83d\udd25 Firebase Tour Filters"}),(0,En.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,En.jsx)("button",{onClick:S,className:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 text-sm",disabled:d,children:"\ud83d\udd0d Diagnosticar"}),(0,En.jsx)("button",{onClick:async()=>{if(window.confirm("\ud83d\udd25 Criar filtros padr\xe3o no Firebase?\n\nIsso ir\xe1 adicionar filtros b\xe1sicos (n\xe3o substitui os existentes)."))try{h(!0),await hj.createDefaultFilters(),alert("\u2705 Filtros padr\xe3o criados no Firebase!"),await C(),await S()}catch(e){console.error("\u274c Erro ao criar filtros padr\xe3o:",e),alert("\u274c Erro: ".concat(e.message))}finally{h(!1)}},className:"bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700",disabled:d,children:"\ud83d\udd04 Restaurar Padr\xe3o"}),(0,En.jsx)("button",{onClick:()=>m(!0),disabled:d,className:"bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700 disabled:opacity-50",children:"+ Adicionar ao Firebase"})]})]}),d&&(0,En.jsxs)("div",{className:"text-center py-8",children:[(0,En.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto"}),(0,En.jsx)("p",{className:"mt-2 text-gray-600",children:"\ud83d\udd25 A processar..."})]}),l.length>0&&(0,En.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 border border-purple-200 rounded-lg p-6",children:[(0,En.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"\ud83d\udc40 Preview dos Filtros na Homepage"}),(0,En.jsx)("div",{className:"flex flex-wrap gap-2",children:l.filter((e=>e.active)).sort(((e,t)=>(e.order||0)-(t.order||0))).map((e=>{var t;return(0,En.jsx)("span",{className:"px-4 py-2 bg-white border-2 border-purple-300 rounded-full text-sm font-medium text-gray-700 shadow-sm",children:(null===(t=e.labels)||void 0===t?void 0:t.pt)||e.key},e.id)}))}),(0,En.jsx)("p",{className:"text-xs text-gray-600 mt-2",children:"Esta \xe9 a apar\xeancia dos filtros na p\xe1gina inicial para visitantes portugueses"})]}),(0,En.jsxs)("div",{className:"grid gap-4",children:[l.map(((e,t)=>{var n,r,s,o;return(0,En.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-purple-500",children:(0,En.jsxs)("div",{className:"flex items-start justify-between",children:[(0,En.jsxs)("div",{className:"flex-1",children:[(0,En.jsxs)("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[(0,En.jsxs)("span",{className:"text-sm font-medium text-gray-500",children:["\ud83d\udd25 ID: ",e.id||"padr\xe3o"]}),(0,En.jsxs)("span",{className:"text-sm font-medium text-gray-500",children:["\ud83d\udcca Ordem: ",e.order]}),(0,En.jsxs)("span",{className:"text-sm font-medium text-blue-600",children:["\ud83d\udd11 Key: ",e.key]}),(0,En.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(e.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.active?"\u2705 Ativo":"\u274c Inativo"}),e.isDefault&&(0,En.jsx)("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800",children:"\ud83d\udd12 Padr\xe3o"})]}),(0,En.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:(null===(n=e.labels)||void 0===n?void 0:n.pt)||"Sem t\xedtulo"}),(0,En.jsx)("div",{className:"text-sm text-gray-600 space-y-1",children:(0,En.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[(0,En.jsxs)("div",{children:[(0,En.jsx)("strong",{className:"text-purple-700",children:"\ud83c\uddf5\ud83c\uddf9 PT:"})," ",(null===(r=e.labels)||void 0===r?void 0:r.pt)||"\u2014"]}),(0,En.jsxs)("div",{children:[(0,En.jsx)("strong",{className:"text-purple-700",children:"\ud83c\uddec\ud83c\udde7 EN:"})," ",(null===(s=e.labels)||void 0===s?void 0:s.en)||"\u2014"]}),(0,En.jsxs)("div",{children:[(0,En.jsx)("strong",{className:"text-purple-700",children:"\ud83c\uddea\ud83c\uddf8 ES:"})," ",(null===(o=e.labels)||void 0===o?void 0:o.es)||"\u2014"]})]})})]}),(0,En.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,En.jsx)("button",{onClick:()=>(async e=>{try{await hj.updateFilter(e.id,{active:!e.active}),await C(),await S()}catch(t){console.error("\u274c Erro ao alterar status:",t),alert("\u274c Erro ao alterar status: ".concat(t.message))}})(e),className:"px-3 py-1 rounded text-sm ".concat(e.active?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200"),disabled:d,children:e.active?"Desativar":"Ativar"}),(0,En.jsx)("button",{onClick:()=>(e=>{g(e),k({key:e.key||"",labels:e.labels||{pt:"",en:"",es:""},order:e.order||1,active:void 0===e.active||e.active}),m(!0)})(e),className:"px-3 py-1 bg-blue-100 text-blue-700 rounded text-sm hover:bg-blue-200",children:"Editar"}),!e.isDefault&&(0,En.jsx)("button",{onClick:()=>(async e=>{if(e.isDefault)alert("\u274c N\xe3o \xe9 poss\xedvel eliminar filtros padr\xe3o do sistema!");else if(window.confirm("\ud83d\uddd1\ufe0f Eliminar este filtro do Firebase?"))try{h(!0),await hj.deleteFilter(e.id),alert("\u2705 Filtro eliminado do Firebase!"),await C(),await S()}catch(t){console.error("\u274c Erro ao eliminar:",t),alert("\u274c Erro ao eliminar: ".concat(t.message))}finally{h(!1)}})(e),className:"px-3 py-1 bg-red-100 text-red-700 rounded text-sm hover:bg-red-200",disabled:d,children:"Eliminar"})]})]})},e.id)})),0===l.length&&!d&&(0,En.jsxs)("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[(0,En.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udd25"}),(0,En.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Firebase vazio"}),(0,En.jsx)("p",{className:"text-gray-500",children:"Comece criando os filtros padr\xe3o no Firebase"})]})]}),p&&(0,En.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,En.jsx)("div",{className:"bg-white rounded-lg w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:(0,En.jsxs)("div",{className:"p-6",children:[(0,En.jsxs)("h3",{className:"text-xl font-bold mb-4",children:["\ud83d\udd25 ",f?"Editar Filtro no Firebase":"Novo Filtro no Firebase"]}),(0,En.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),h(!0),y("");try{if(!E.key.trim())throw new Error("Chave do filtro \xe9 obrigat\xf3ria");if(!E.labels.pt.trim())throw new Error("Label em portugu\xeas \xe9 obrigat\xf3rio");if(!f){if(l.find((e=>e.key===E.key.toLowerCase())))throw new Error("J\xe1 existe um filtro com essa chave")}const e=c(c({},E),{},{key:E.key.toLowerCase().trim(),order:parseInt(E.order)||1});f?(await hj.updateFilter(f.id,e),alert("\u2705 Filtro atualizado no Firebase!")):(await hj.createFilter(e),alert("\u2705 Filtro criado no Firebase!")),N(),m(!1),await C(),await S()}catch(t){console.error("\u274c Erro ao salvar filtro:",t),y(t.message),alert("\u274c Erro: ".concat(t.message))}finally{h(!1)}},className:"space-y-6",children:[(0,En.jsxs)("div",{children:[(0,En.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\ud83d\udd11 Chave do Filtro * (ex: wine_tasting, adventure, heritage)"}),(0,En.jsx)("input",{type:"text",value:E.key,onChange:e=>k(c(c({},E),{},{key:e.target.value})),required:!0,disabled:null===f||void 0===f?void 0:f.isDefault,className:"w-full border rounded px-3 py-2 disabled:bg-gray-100",placeholder:"Ex: wine_tasting, adventure, historic"}),(0,En.jsx)("div",{className:"mt-2 text-xs space-y-1",children:(0,En.jsxs)("p",{className:"text-gray-600",children:[(0,En.jsx)("strong",{children:"Preview:"})," ",(0,En.jsx)("code",{className:"bg-gray-100 px-2 py-1 rounded",children:(T=E.key||"exemplo",T.toLowerCase().replace(/[^a-z0-9_]/g,"_"))})]})})]}),(0,En.jsxs)("div",{children:[(0,En.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\ud83c\udff7\ufe0f Labels Traduzidos *"}),(0,En.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,En.jsxs)("div",{children:[(0,En.jsx)("label",{className:"text-xs text-gray-500",children:"\ud83c\uddf5\ud83c\uddf9 PORTUGU\xcaS *"}),(0,En.jsx)("input",{type:"text",value:E.labels.pt,onChange:e=>k(c(c({},E),{},{labels:c(c({},E.labels),{},{pt:e.target.value})})),required:!0,className:"w-full border rounded px-3 py-2",placeholder:"Ex: Experi\xeancias Gastron\xf3micas"})]}),(0,En.jsxs)("div",{children:[(0,En.jsx)("label",{className:"text-xs text-gray-500",children:"\ud83c\uddec\ud83c\udde7 ENGLISH"}),(0,En.jsx)("input",{type:"text",value:E.labels.en,onChange:e=>k(c(c({},E),{},{labels:c(c({},E.labels),{},{en:e.target.value})})),className:"w-full border rounded px-3 py-2",placeholder:"Ex: Gastronomic Experiences"})]}),(0,En.jsxs)("div",{children:[(0,En.jsx)("label",{className:"text-xs text-gray-500",children:"\ud83c\uddea\ud83c\uddf8 ESPA\xd1OL"}),(0,En.jsx)("input",{type:"text",value:E.labels.es,onChange:e=>k(c(c({},E),{},{labels:c(c({},E.labels),{},{es:e.target.value})})),className:"w-full border rounded px-3 py-2",placeholder:"Ex: Experiencias Gastron\xf3micas"})]})]})]}),(0,En.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,En.jsxs)("div",{children:[(0,En.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\ud83d\udcca Ordem"}),(0,En.jsx)("input",{type:"number",value:E.order,onChange:e=>k(c(c({},E),{},{order:parseInt(e.target.value)||1})),min:"0",className:"w-full border rounded px-3 py-2"})]}),(0,En.jsxs)("div",{children:[(0,En.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\ud83d\udd18 Status"}),(0,En.jsxs)("select",{value:E.active,onChange:e=>k(c(c({},E),{},{active:"true"===e.target.value})),className:"w-full border rounded px-3 py-2",children:[(0,En.jsx)("option",{value:"true",children:"\u2705 Ativo"}),(0,En.jsx)("option",{value:"false",children:"\u274c Inativo"})]})]})]}),(0,En.jsxs)("div",{className:"flex justify-end gap-4 pt-4 border-t",children:[(0,En.jsx)("button",{type:"button",onClick:()=>{m(!1),N()},disabled:d,className:"px-4 py-2 border rounded hover:bg-gray-100 disabled:opacity-50",children:"Cancelar"}),(0,En.jsx)("button",{type:"submit",disabled:d,className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 disabled:opacity-50",children:d?"A salvar...":"\ud83d\udd25 ".concat(f?"Atualizar":"Criar")})]})]})]})})})]});var T},mj=()=>{const[e,n]=(0,t.useState)(!1),[r,s]=(0,t.useState)("tours"),[o,i]=(0,t.useState)([]),[a,l]=(0,t.useState)([]),[u,d]=(0,t.useState)(null),[h,p]=(0,t.useState)(!1),[m,f]=(0,t.useState)(""),[g,v]=(0,t.useState)(!0),[y,b]=(0,t.useState)(null),[x,w]=(0,t.useState)(null),[_,E]=(0,t.useState)([]),[k,S]=(0,t.useState)({total_transactions:0,completed_payments:0,pending_payments:0,total_revenue:0,last_updated:null}),[C,N]=(0,t.useState)({email:"",password:""});(0,t.useEffect)((()=>{const e=function(e,t,n,r){return vu(e).onAuthStateChanged(t,n,r)}(YN,(async e=>{if(v(!0),e)try{const t=await e.getIdToken();b(e),n(!0),localStorage.setItem("admin_token",t),localStorage.setItem("admin_uid",e.uid)}catch(m){f("Erro de autentica\xe7\xe3o"),O()}else b(null),n(!1),localStorage.removeItem("admin_token"),localStorage.removeItem("admin_uid");v(!1)}));return()=>e()}),[]),(0,t.useEffect)((()=>{e&&("tours"!==r||x?"bookings"===r?T():"payments"===r?I():"stats"===r&&(P(),I()):j())}),[r,e,x]);const j=async()=>{if(e){p(!0),f("");try{const e=localStorage.getItem("admin_token");if(!e)return f("Token de autentica\xe7\xe3o n\xe3o encontrado"),void O();const t=await ti.get("".concat(ni,"/api/tours?active_only=false"),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});i(t.data||[])}catch(o){var t,n;if(401===(null===(t=o.response)||void 0===t?void 0:t.status))f("Sess\xe3o expirada. Fa\xe7a login novamente."),O();else if(403===(null===(n=o.response)||void 0===n?void 0:n.status))f("Permiss\xe3o negada. Verifique suas credenciais.");else{var r,s;f((null===(r=o.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||"Erro ao carregar tours")}}finally{p(!1)}}},T=async()=>{if(e){p(!0),f("");try{const e=localStorage.getItem("admin_token"),t=await ti.get("".concat(ni,"/api/bookings"),{headers:{Authorization:"Bearer ".concat(e)}});l(t.data||[])}catch(n){var t;401===(null===(t=n.response)||void 0===t?void 0:t.status)?(f("Sess\xe3o expirada. Fa\xe7a login novamente."),O()):f("Erro ao carregar reservas")}finally{p(!1)}}},P=async()=>{if(e){p(!0),f("");try{const e=localStorage.getItem("admin_token"),[t,n]=await Promise.all([ti.get("".concat(ni,"/api/admin/stats"),{headers:{Authorization:"Bearer ".concat(e)}}),ti.get("".concat(ni,"/api/tours?active_only=false"),{headers:{Authorization:"Bearer ".concat(e)}})]);d(t.data),i(n.data||[])}catch(n){var t;401===(null===(t=n.response)||void 0===t?void 0:t.status)?(f("Sess\xe3o expirada. Fa\xe7a login novamente."),O()):f("Erro ao carregar estat\xedsticas")}finally{p(!1)}}},I=async()=>{if(e){p(!0),f("");try{const e=localStorage.getItem("admin_token"),t=await ti.get("".concat(ni,"/api/admin/payments/all"),{headers:{Authorization:"Bearer ".concat(e)}}),n=t.data.payments||t.data||[];E(n);const r=n.filter((e=>"completed"===e.status||"succeeded"===e.status)),s=n.filter((e=>"created"===e.status||"pending"===e.status)),o=n.filter((e=>"paypal"===e.payment_method)),i=n.filter((e=>"google_pay"===e.payment_method)),a=r.reduce(((e,t)=>e+(t.amount||0)),0);S({total_transactions:n.length,completed_payments:r.length,pending_payments:s.length,total_revenue:a,paypal_count:o.length,google_pay_count:i.length,last_updated:(new Date).toISOString()}),console.log("\ud83d\udcb3 Pagamentos carregados:",n.length),console.log("\ud83d\udcca Stats PayPal + Google Pay:",{completedPayments:r.length,totalRevenue:a,paypal:o.length,googlePay:i.length})}catch(n){var t;401===(null===(t=n.response)||void 0===t?void 0:t.status)?(f("Sess\xe3o expirada. Fa\xe7a login novamente."),O()):(f("Erro ao carregar pagamentos"),console.error("\u274c Erro pagamentos:",n))}finally{p(!1)}}},L=()=>{w({}),f("")},A=async e=>{e.preventDefault(),p(!0),f("");try{await function(e,t,n){return Pd(e.app)?Promise.reject(Ep(e)):mf(vu(e),Zm.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&ff(e),t}))}(YN,C.email,C.password)}catch(m){let t="Credenciais inv\xe1lidas";switch(m.code){case"auth/user-not-found":t="Utilizador n\xe3o encontrado";break;case"auth/wrong-password":t="Password incorreta";break;case"auth/invalid-email":t="Email inv\xe1lido";break;case"auth/too-many-requests":t="Muitas tentativas. Tente novamente mais tarde.";break;default:t="Erro: ".concat(m.message)}f(t)}finally{p(!1)}},O=async()=>{try{await function(e){return vu(e).signOut()}(YN),N({email:"",password:""}),s("tours"),w(null),i([]),l([]),d(null),E([]),S({total_transactions:0,completed_payments:0,pending_payments:0,total_revenue:0,paypal_count:0,google_pay_count:0,last_updated:null}),f("")}catch(m){f("Erro ao fazer logout")}},R=e=>new Intl.NumberFormat("pt-PT",{style:"currency",currency:"EUR"}).format(e),D=e=>new Date(e).toLocaleDateString("pt-PT"),M=e=>{const t=o.find((t=>t.id===e));return t?t.name.pt:e};return g?(0,En.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,En.jsxs)("div",{className:"text-center",children:[(0,En.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-indigo-600 mx-auto mb-4"}),(0,En.jsx)("p",{className:"text-lg text-gray-600",children:"A verificar autentica\xe7\xe3o..."})]})}):e?(0,En.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,En.jsx)("header",{className:"bg-white shadow",children:(0,En.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,En.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,En.jsxs)("div",{children:[(0,En.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"9 Rocks Tours - Admin"}),y&&(0,En.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Conectado como: ",y.email]})]}),(0,En.jsxs)("button",{onClick:O,className:"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 transition-colors duration-200 flex items-center",children:[(0,En.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,En.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sair"]})]})})}),(0,En.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,En.jsx)("div",{className:"mb-8",children:(0,En.jsxs)("nav",{className:"flex space-x-8 overflow-x-auto",children:[(0,En.jsx)("button",{onClick:()=>s("tours"),className:"py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap transition-colors duration-200 ".concat("tours"===r?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Tours"}),(0,En.jsx)("button",{onClick:()=>s("hero_images"),className:"py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap transition-colors duration-200 ".concat("hero_images"===r?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Hero Images"}),(0,En.jsx)("button",{onClick:()=>s("tour_filters"),className:"py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap transition-colors duration-200 ".concat("tour_filters"===r?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Filtros"}),(0,En.jsx)("button",{onClick:()=>s("bookings"),className:"py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap transition-colors duration-200 ".concat("bookings"===r?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Reservas"}),(0,En.jsx)("button",{onClick:()=>s("payments"),className:"py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap transition-colors duration-200 ".concat("payments"===r?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"\ud83d\udcb3 Pagamentos"}),(0,En.jsx)("button",{onClick:()=>s("stats"),className:"py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap transition-colors duration-200 ".concat("stats"===r?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Estat\xedsticas"})]})}),"tours"===r&&(0,En.jsx)(En.Fragment,{children:x?(0,En.jsx)(lj,{tourToEdit:x,onFormClose:()=>{w(null),f(""),j()}}):(0,En.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,En.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,En.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Gerir Tours"}),(0,En.jsxs)("button",{onClick:L,className:"px-5 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors shadow-sm flex items-center",children:[(0,En.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,En.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Adicionar Novo Tour"]})]}),h&&(0,En.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,En.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mr-3"}),(0,En.jsx)("p",{className:"text-gray-600",children:"A carregar tours..."})]}),m&&(0,En.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-6",children:(0,En.jsxs)("div",{className:"flex",children:[(0,En.jsx)("svg",{className:"w-5 h-5 text-red-600 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,En.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),(0,En.jsx)("div",{className:"text-red-800",children:m})]})}),!h&&0===o.length&&!m&&(0,En.jsxs)("div",{className:"text-center py-12",children:[(0,En.jsx)("div",{className:"text-gray-500 text-lg mb-4",children:"Nenhum tour encontrado"}),(0,En.jsx)("button",{onClick:L,className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Criar o primeiro tour"})]}),!h&&o.length>0&&(0,En.jsx)("div",{className:"space-y-4",children:o.map((e=>{var t;return(0,En.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:shadow-md transition-shadow",children:[(0,En.jsxs)("div",{className:"flex-grow",children:[(0,En.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:(null===(t=e.name)||void 0===t?void 0:t.pt)||"Tour sem nome"}),(0,En.jsxs)("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-500",children:[(0,En.jsxs)("span",{children:["ID: ",e.id]}),(0,En.jsx)("span",{children:"\u2022"}),(0,En.jsxs)("span",{children:["Status: ",e.active?(0,En.jsx)("span",{className:"text-green-600 font-medium",children:"Ativo"}):(0,En.jsx)("span",{className:"text-red-600 font-medium",children:"Inativo"})]}),(0,En.jsx)("span",{children:"\u2022"}),(0,En.jsxs)("span",{children:["Pre\xe7o: ",R(e.price||0)]}),(0,En.jsx)("span",{children:"\u2022"}),(0,En.jsxs)("span",{children:["Dura\xe7\xe3o: ",e.duration_hours||0,"h"]})]})]}),(0,En.jsxs)("div",{className:"flex space-x-3",children:[(0,En.jsxs)("button",{onClick:()=>(e=>{w(e),f("")})(e),className:"px-4 py-2 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition-colors flex items-center",children:[(0,En.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,En.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Editar"]}),(0,En.jsxs)("button",{onClick:()=>(async e=>{if(window.confirm("Tem certeza que deseja excluir este tour?"))try{const t=localStorage.getItem("admin_token");await ti.delete("".concat(ni,"/api/tours/").concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),j()}catch(t){f("Erro ao excluir o tour")}})(e.id),className:"px-4 py-2 bg-red-600 text-white text-sm rounded-md hover:bg-red-700 transition-colors flex items-center",children:[(0,En.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,En.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Excluir"]})]})]},e.id)}))})]})}),"hero_images"===r&&(0,En.jsx)(uj,{}),"tour_filters"===r&&(0,En.jsx)(pj,{}),"bookings"===r&&!h&&(0,En.jsxs)("div",{children:[(0,En.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,En.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Gest\xe3o de Reservas"}),(0,En.jsxs)("button",{onClick:async()=>{try{const e=localStorage.getItem("admin_token"),t=await ti.get("".concat(ni,"/api/admin/export/bookings"),{responseType:"blob",headers:{Authorization:"Bearer ".concat(e)}}),n=window.URL.createObjectURL(new Blob([t.data])),r=document.createElement("a");r.href=n,r.setAttribute("download","reservas.csv"),document.body.appendChild(r),r.click(),r.remove()}catch(e){f("Erro ao exportar dados")}},className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 flex items-center transition-colors duration-200",children:[(0,En.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,En.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 10v6m0 0l-4-4m4 4l4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Exportar CSV"]})]}),(0,En.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:(0,En.jsx)("div",{className:"overflow-x-auto",children:(0,En.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,En.jsx)("thead",{className:"bg-gray-50",children:(0,En.jsxs)("tr",{children:[(0,En.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),(0,En.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tour"}),(0,En.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),(0,En.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Participantes"}),(0,En.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor"}),(0,En.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,En.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data Cria\xe7\xe3o"})]})}),(0,En.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===a.length?(0,En.jsx)("tr",{children:(0,En.jsxs)("td",{colSpan:"7",className:"px-6 py-12 text-center text-gray-500",children:[(0,En.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udccb"}),(0,En.jsx)("div",{children:"Nenhuma reserva encontrada"})]})}):a.map((e=>(0,En.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors duration-200",children:[(0,En.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,En.jsxs)("div",{className:"flex flex-col",children:[(0,En.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.customer_name}),(0,En.jsx)("div",{className:"text-sm text-gray-500",children:e.customer_email})]})}),(0,En.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,En.jsx)("div",{className:"text-sm text-gray-900",children:M(e.tour_id)})}),(0,En.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,En.jsx)("div",{className:"text-sm text-gray-900",children:D(e.selected_date)})}),(0,En.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,En.jsx)("div",{className:"text-sm text-gray-900",children:e.participants})}),(0,En.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,En.jsx)("div",{className:"text-sm font-medium text-gray-900",children:R(e.total_amount)})}),(0,En.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,En.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("confirmed"===e.status?"bg-green-100 text-green-800":"pending"===e.status?"bg-yellow-100 text-yellow-800":"cancelled"===e.status?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:"confirmed"===e.status?"Confirmada":"pending"===e.status?"Pendente":"cancelled"===e.status?"Cancelada":e.status})}),(0,En.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:D(e.created_at)})]},e.id)))})]})})})]}),"payments"===r&&(0,En.jsxs)("div",{children:[(0,En.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,En.jsxs)("div",{children:[(0,En.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"\ud83d\udcb3 Gest\xe3o de Pagamentos (PayPal + Google Pay)"}),(0,En.jsx)("p",{className:"text-gray-600 mt-1",children:"Monitorize todas as transa\xe7\xf5es PayPal e Google Pay do sistema"})]}),(0,En.jsxs)("div",{className:"flex space-x-3",children:[(0,En.jsxs)("button",{onClick:()=>window.open("https://www.paypal.com/merchantapps/appcenter/acceptpayments/home","_blank"),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 flex items-center transition-colors duration-200",children:[(0,En.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,En.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-2M7 7h10M7 7v10M17 7v2"})}),"PayPal Dashboard"]}),(0,En.jsxs)("button",{onClick:I,disabled:h,className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 flex items-center transition-colors duration-200 disabled:opacity-50",children:[(0,En.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,En.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),h?"Atualizando...":"Atualizar"]})]})]}),h&&(0,En.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,En.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mr-3"}),(0,En.jsx)("p",{className:"text-gray-600",children:"A carregar pagamentos..."})]}),m&&(0,En.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-6",children:(0,En.jsxs)("div",{className:"flex",children:[(0,En.jsx)("svg",{className:"w-5 h-5 text-red-600 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,En.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),(0,En.jsx)("div",{className:"text-red-800",children:m})]})}),!h&&(0,En.jsxs)(En.Fragment,{children:[(0,En.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-6 mb-8",children:[(0,En.jsx)("div",{className:"bg-gradient-to-r from-green-500 to-green-600 text-white p-6 rounded-xl shadow-lg",children:(0,En.jsxs)("div",{className:"flex items-center justify-between",children:[(0,En.jsxs)("div",{children:[(0,En.jsx)("div",{className:"text-3xl font-bold",children:k.completed_payments}),(0,En.jsx)("div",{className:"text-sm opacity-90 mt-1",children:"Pagamentos Confirmados"})]}),(0,En.jsx)("div",{className:"text-4xl opacity-80",children:"\u2705"})]})}),(0,En.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white p-6 rounded-xl shadow-lg",children:(0,En.jsxs)("div",{className:"flex items-center justify-between",children:[(0,En.jsxs)("div",{children:[(0,En.jsx)("div",{className:"text-3xl font-bold",children:R(k.total_revenue)}),(0,En.jsx)("div",{className:"text-sm opacity-90 mt-1",children:"Receita Total"})]}),(0,En.jsx)("div",{className:"text-4xl opacity-80",children:"\ud83d\udcb0"})]})}),(0,En.jsx)("div",{className:"bg-gradient-to-r from-yellow-500 to-yellow-600 text-white p-6 rounded-xl shadow-lg",children:(0,En.jsxs)("div",{className:"flex items-center justify-between",children:[(0,En.jsxs)("div",{children:[(0,En.jsx)("div",{className:"text-3xl font-bold",children:k.pending_payments}),(0,En.jsx)("div",{className:"text-sm opacity-90 mt-1",children:"Pendentes"})]}),(0,En.jsx)("div",{className:"text-4xl opacity-80",children:"\u23f3"})]})}),(0,En.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 text-white p-6 rounded-xl shadow-lg",children:(0,En.jsxs)("div",{className:"flex items-center justify-between",children:[(0,En.jsxs)("div",{children:[(0,En.jsx)("div",{className:"text-3xl font-bold",children:k.total_transactions}),(0,En.jsx)("div",{className:"text-sm opacity-90 mt-1",children:"Total"})]}),(0,En.jsx)("div",{className:"text-4xl opacity-80",children:"\ud83d\udcca"})]})}),(0,En.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white p-6 rounded-xl shadow-lg",children:(0,En.jsxs)("div",{className:"flex items-center justify-between",children:[(0,En.jsxs)("div",{children:[(0,En.jsx)("div",{className:"text-3xl font-bold",children:k.paypal_count||0}),(0,En.jsx)("div",{className:"text-sm opacity-90 mt-1",children:"PayPal"})]}),(0,En.jsx)("div",{className:"text-4xl opacity-80",children:"\ud83d\udc99"})]})}),(0,En.jsx)("div",{className:"bg-gradient-to-r from-red-500 to-pink-600 text-white p-6 rounded-xl shadow-lg",children:(0,En.jsxs)("div",{className:"flex items-center justify-between",children:[(0,En.jsxs)("div",{children:[(0,En.jsx)("div",{className:"text-3xl font-bold",children:k.google_pay_count||0}),(0,En.jsx)("div",{className:"text-sm opacity-90 mt-1",children:"Google Pay"})]}),(0,En.jsx)("div",{className:"text-4xl opacity-80",children:"\ud83c\udd56"})]})})]}),(0,En.jsx)("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 text-white p-6 rounded-xl mb-8 shadow-lg",children:(0,En.jsxs)("div",{className:"flex items-center justify-between",children:[(0,En.jsxs)("div",{children:[(0,En.jsx)("h3",{className:"text-xl font-bold mb-2",children:"\ud83d\udcb3 Status Pagamentos em Tempo Real"}),(0,En.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,En.jsx)("div",{children:(0,En.jsxs)("div",{className:"text-lg font-semibold",children:["Taxa de Convers\xe3o: ",k.total_transactions>0?(k.completed_payments/k.total_transactions*100).toFixed(1):0,"%"]})}),(0,En.jsx)("div",{children:(0,En.jsxs)("div",{className:"text-lg font-semibold",children:["Valor M\xe9dio: ",k.completed_payments>0?R(k.total_revenue/k.completed_payments):R(0)]})}),(0,En.jsx)("div",{children:(0,En.jsxs)("div",{className:"text-sm opacity-90",children:["\xdaltima atualiza\xe7\xe3o: ",k.last_updated?new Date(k.last_updated).toLocaleTimeString("pt-PT"):"Nunca"]})})]})]}),(0,En.jsx)("div",{className:"text-5xl opacity-80",children:"\ud83d\udcb3"})]})}),(0,En.jsxs)("div",{className:"bg-white shadow-lg overflow-hidden sm:rounded-xl",children:[(0,En.jsx)("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:(0,En.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Hist\xf3rico de Transa\xe7\xf5es (PayPal + Google Pay)"})}),(0,En.jsx)("div",{className:"overflow-x-auto",children:(0,En.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,En.jsx)("thead",{className:"bg-gray-50",children:(0,En.jsxs)("tr",{children:[(0,En.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"M\xe9todo / Payment ID"}),(0,En.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),(0,En.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor"}),(0,En.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,En.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Transaction ID"}),(0,En.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),(0,En.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"A\xe7\xf5es"})]})}),(0,En.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===_.length?(0,En.jsx)("tr",{children:(0,En.jsxs)("td",{colSpan:"7",className:"px-6 py-12 text-center text-gray-500",children:[(0,En.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcb3"}),(0,En.jsx)("div",{className:"text-lg font-medium mb-2",children:"Nenhum pagamento encontrado"}),(0,En.jsx)("div",{className:"text-sm",children:"Os pagamentos PayPal e Google Pay aparecer\xe3o aqui quando os clientes efetuarem reservas"})]})}):_.sort(((e,t)=>new Date(t.created_at)-new Date(e.created_at))).map((e=>(0,En.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors duration-200",children:[(0,En.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,En.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,En.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ".concat("google_pay"===e.payment_method?"bg-red-500 text-white":"bg-blue-500 text-white"),children:"google_pay"===e.payment_method?"G":"P"}),(0,En.jsx)("div",{className:"text-sm font-mono text-gray-900 bg-gray-100 px-2 py-1 rounded",children:e.payment_id?(0,En.jsxs)("span",{title:e.payment_id,children:[e.payment_id.substring(0,15),"..."]}):(0,En.jsx)("span",{className:"text-gray-400",children:"N/A"})})]})}),(0,En.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,En.jsxs)("div",{className:"flex flex-col",children:[(0,En.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.customer_name||"Cliente An\xf4nimo"}),(0,En.jsx)("div",{className:"text-sm text-gray-500",children:e.customer_email||"Email n\xe3o dispon\xedvel"})]})}),(0,En.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,En.jsx)("div",{className:"text-lg font-bold text-gray-900",children:R(e.amount||0)}),(0,En.jsx)("div",{className:"text-xs text-gray-500",children:e.currency||"EUR"})]}),(0,En.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,En.jsx)("span",{className:"inline-flex px-3 py-1 text-xs font-semibold rounded-full ".concat("completed"===e.status||"succeeded"===e.status?"bg-green-100 text-green-800":"created"===e.status?"bg-blue-100 text-blue-800":"pending"===e.status?"bg-yellow-100 text-yellow-800":"cancelled"===e.status?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:"completed"===e.status||"succeeded"===e.status?"\u2705 Confirmado":"created"===e.status?"\ud83d\udd04 Criado":"pending"===e.status?"\u23f3 Pendente":"cancelled"===e.status?"\u274c Cancelado":e.status||"Desconhecido"})}),(0,En.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,En.jsx)("div",{className:"text-sm font-mono text-gray-900",children:e.transaction_id?(0,En.jsxs)("span",{title:"Clique para copiar: ".concat(e.transaction_id),className:"cursor-pointer hover:bg-gray-100 px-2 py-1 rounded",onClick:()=>{navigator.clipboard.writeText(e.transaction_id),alert("Transaction ID copiado!")},children:[e.transaction_id.substring(0,12),"..."]}):(0,En.jsx)("span",{className:"text-gray-400 italic",children:"Aguardando..."})})}),(0,En.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[(0,En.jsx)("div",{children:e.created_at?D(e.created_at):"N/A"}),(0,En.jsx)("div",{className:"text-xs text-gray-400",children:e.created_at?new Date(e.created_at).toLocaleTimeString("pt-PT"):""})]}),(0,En.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,En.jsxs)("div",{className:"flex space-x-2",children:[e.booking_id&&(0,En.jsx)("button",{onClick:()=>{s("bookings"),setTimeout((()=>{const t=document.querySelector('[data-booking-id="'.concat(e.booking_id,'"]'));t&&t.scrollIntoView({behavior:"smooth"})}),100)},className:"text-blue-600 hover:text-blue-900 text-xs bg-blue-50 hover:bg-blue-100 px-3 py-1 rounded-md transition-colors",title:"Ver reserva relacionada",children:"\ud83d\udccb Ver Reserva"}),e.payment_id&&(0,En.jsx)("button",{onClick:t=>{navigator.clipboard.writeText(e.payment_id);const n=t.target.textContent;t.target.textContent="\u2705 Copiado!",setTimeout((()=>{t.target.textContent=n}),2e3)},className:"text-gray-600 hover:text-gray-900 text-xs bg-gray-50 hover:bg-gray-100 px-3 py-1 rounded-md transition-colors",title:"Copiar Payment ID",children:"\ud83d\udccb Copiar ID"})]})})]},e.id)))})]})})]}),(0,En.jsxs)("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,En.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:[(0,En.jsxs)("h3",{className:"font-semibold text-blue-900 mb-4 flex items-center",children:[(0,En.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,En.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"Status dos Pagamentos"]}),(0,En.jsxs)("div",{className:"text-sm text-blue-800 space-y-2",children:[(0,En.jsxs)("p",{children:[(0,En.jsx)("span",{className:"font-semibold",children:"\u2705 Completed/Succeeded:"})," Pagamento confirmado e processado com sucesso"]}),(0,En.jsxs)("p",{children:[(0,En.jsx)("span",{className:"font-semibold",children:"\ud83d\udd04 Created:"})," Pagamento criado, aguardando aprova\xe7\xe3o do cliente"]}),(0,En.jsxs)("p",{children:[(0,En.jsx)("span",{className:"font-semibold",children:"\u23f3 Pending:"})," Pagamento em processamento"]}),(0,En.jsxs)("p",{children:[(0,En.jsx)("span",{className:"font-semibold",children:"\u274c Cancelled:"})," Pagamento cancelado pelo cliente ou sistema"]})]})]}),(0,En.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6",children:[(0,En.jsxs)("h3",{className:"font-semibold text-green-900 mb-4 flex items-center",children:[(0,En.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,En.jsx)("path",{fillRule:"evenodd",d:"M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z",clipRule:"evenodd"})}),"M\xe9todos de Pagamento"]}),(0,En.jsxs)("div",{className:"text-sm text-green-800 space-y-2",children:[(0,En.jsxs)("p",{children:[(0,En.jsx)("span",{className:"font-semibold",children:"\ud83d\udc99 PayPal:"}),' \xcdcone azul "P" - Processado via PayPal']}),(0,En.jsxs)("p",{children:[(0,En.jsx)("span",{className:"font-semibold",children:"\ud83c\udd56 Google Pay:"}),' \xcdcone vermelho "G" - Processado via Google Pay + Stripe']}),(0,En.jsxs)("p",{children:[(0,En.jsx)("span",{className:"font-semibold",children:"\ud83d\udd04 Sincroniza\xe7\xe3o:"})," Status atualizados automaticamente via webhooks"]}),(0,En.jsxs)("p",{children:[(0,En.jsx)("span",{className:"font-semibold",children:"\ud83d\udcca Relat\xf3rios:"})," Use os dashboards externos para relat\xf3rios detalhados"]})]})]})]})]})]}),"stats"===r&&!h&&u&&(0,En.jsxs)("div",{children:[(0,En.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Estat\xedsticas de Performance"}),(0,En.jsxs)("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 text-white p-8 rounded-xl mb-8 shadow-lg",children:[(0,En.jsxs)("div",{className:"flex items-center justify-between",children:[(0,En.jsxs)("div",{className:"flex-1",children:[(0,En.jsxs)("h3",{className:"text-2xl font-bold mb-4 flex items-center",children:[(0,En.jsx)("span",{className:"text-3xl mr-3",children:"\ud83d\udcb3"}),"Resumo Pagamentos Integrados"]}),(0,En.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,En.jsxs)("div",{className:"bg-white bg-opacity-20 rounded-lg p-4",children:[(0,En.jsx)("div",{className:"text-3xl font-bold",children:k.completed_payments}),(0,En.jsx)("div",{className:"text-sm opacity-90 mt-1",children:"Pagamentos Confirmados"}),(0,En.jsx)("div",{className:"text-xs opacity-75 mt-1",children:k.total_transactions>0?"".concat((k.completed_payments/k.total_transactions*100).toFixed(1),"% taxa convers\xe3o"):"Sem dados"})]}),(0,En.jsxs)("div",{className:"bg-white bg-opacity-20 rounded-lg p-4",children:[(0,En.jsx)("div",{className:"text-3xl font-bold",children:R(k.total_revenue)}),(0,En.jsx)("div",{className:"text-sm opacity-90 mt-1",children:"Receita Total"}),(0,En.jsx)("div",{className:"text-xs opacity-75 mt-1",children:u?"".concat((k.total_revenue/(u.total_revenue||1)*100).toFixed(1),"% do total"):"Calculando..."})]}),(0,En.jsxs)("div",{className:"bg-white bg-opacity-20 rounded-lg p-4",children:[(0,En.jsxs)("div",{className:"text-3xl font-bold",children:["\ud83d\udc99 ",k.paypal_count||0," | \ud83c\udd56 ",k.google_pay_count||0]}),(0,En.jsx)("div",{className:"text-sm opacity-90 mt-1",children:"PayPal | Google Pay"}),(0,En.jsx)("div",{className:"text-xs opacity-75 mt-1",children:"Distribui\xe7\xe3o por m\xe9todo de pagamento"})]})]})]}),(0,En.jsx)("div",{className:"text-6xl opacity-80 ml-6",children:"\ud83d\udcb3"})]}),k.last_updated&&(0,En.jsx)("div",{className:"mt-4 pt-4 border-t border-white border-opacity-30",children:(0,En.jsxs)("p",{className:"text-sm opacity-90",children:["\ud83d\udcca Dados atualizados em: ",new Date(k.last_updated).toLocaleString("pt-PT")]})})]}),(0,En.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,En.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,En.jsx)("div",{className:"p-5",children:(0,En.jsxs)("div",{className:"flex items-center",children:[(0,En.jsx)("div",{className:"flex-shrink-0",children:(0,En.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,En.jsx)("svg",{className:"h-5 w-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,En.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})}),(0,En.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,En.jsxs)("dl",{children:[(0,En.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total de Reservas"}),(0,En.jsx)("dd",{className:"text-lg font-medium text-gray-900",children:u.total_bookings})]})})]})})}),(0,En.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,En.jsx)("div",{className:"p-5",children:(0,En.jsxs)("div",{className:"flex items-center",children:[(0,En.jsx)("div",{className:"flex-shrink-0",children:(0,En.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:(0,En.jsx)("svg",{className:"h-5 w-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,En.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})})}),(0,En.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,En.jsxs)("dl",{children:[(0,En.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Receita Total"}),(0,En.jsx)("dd",{className:"text-lg font-medium text-gray-900",children:R(u.total_revenue)})]})})]})})}),(0,En.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,En.jsx)("div",{className:"p-5",children:(0,En.jsxs)("div",{className:"flex items-center",children:[(0,En.jsx)("div",{className:"flex-shrink-0",children:(0,En.jsx)("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:(0,En.jsxs)("svg",{className:"h-5 w-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,En.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,En.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})})}),(0,En.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,En.jsxs)("dl",{children:[(0,En.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Tours Ativos"}),(0,En.jsx)("dd",{className:"text-lg font-medium text-gray-900",children:o.filter((e=>e.active)).length})]})})]})})}),(0,En.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,En.jsx)("div",{className:"p-5",children:(0,En.jsxs)("div",{className:"flex items-center",children:[(0,En.jsx)("div",{className:"flex-shrink-0",children:(0,En.jsx)("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center",children:(0,En.jsx)("svg",{className:"h-5 w-5 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,En.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})})}),(0,En.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,En.jsxs)("dl",{children:[(0,En.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Receita M\xe9dia"}),(0,En.jsx)("dd",{className:"text-lg font-medium text-gray-900",children:u.total_bookings>0?R(u.total_revenue/u.total_bookings):R(0)})]})})]})})})]})]})]})]}):(0,En.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,En.jsxs)("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-6",children:[(0,En.jsxs)("div",{className:"text-center mb-6",children:[(0,En.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-indigo-600 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,En.jsx)("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,En.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,En.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"9 Rocks Tours"}),(0,En.jsx)("p",{className:"text-gray-600 mt-2",children:"Painel de Administra\xe7\xe3o"})]}),m&&(0,En.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-4",children:(0,En.jsxs)("div",{className:"flex",children:[(0,En.jsx)("svg",{className:"w-5 h-5 text-red-600 mr-2 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,En.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),(0,En.jsx)("div",{className:"text-red-800",children:m})]})}),(0,En.jsxs)("form",{onSubmit:A,children:[(0,En.jsxs)("div",{className:"mb-4",children:[(0,En.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email do Administrador"}),(0,En.jsx)("input",{type:"email",id:"email",value:C.email,onChange:e=>N(c(c({},C),{},{email:e.target.value})),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"ninerockstours@gmail.com",disabled:h})]}),(0,En.jsxs)("div",{className:"mb-6",children:[(0,En.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,En.jsx)("input",{type:"password",id:"password",value:C.password,onChange:e=>N(c(c({},C),{},{password:e.target.value})),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",disabled:h})]}),(0,En.jsx)("button",{type:"submit",disabled:h,className:"w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-2 px-4 rounded-md hover:from-indigo-700 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300",children:h?(0,En.jsxs)("div",{className:"flex items-center justify-center",children:[(0,En.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"A entrar..."]}):"Entrar"})]})]})})},fj=()=>{const{t:e,getCurrentLanguage:n}=Sn(),[r,s]=(0,t.useState)([]),[o,i]=(0,t.useState)(!0),[a,l]=(0,t.useState)(null),[c,u]=(0,t.useState)("all"),[d,h]=(0,t.useState)([]),[p,m]=(0,t.useState)(!0),[f,g]=(0,t.useState)(null);(0,t.useEffect)((()=>{v(),y()}),[]);const v=async()=>{try{i(!0);const e=await ti.get("".concat(ni,"/api/tours?active_only=true"));s(e.data)}catch(t){console.error("Error fetching tours:",t),l(e("message.error"))}finally{i(!1)}},y=async()=>{try{m(!0),g(null);const e=await hj.getActiveFilters();h(e)}catch(e){console.error("Error fetching tour filters:",e),g(e.message),h(hj.getDefaultFilters())}finally{m(!1)}},b=e=>{var t;const r=n();return e.labels&&e.labels[r]?e.labels[r]:(null===(t=e.labels)||void 0===t?void 0:t.pt)||e.key||"Filtro"},x="all"===c?r:r.filter((e=>e.tour_type===c));return o||p?(0,En.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,En.jsxs)("div",{className:"text-center",children:[(0,En.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-2 border-blue-600 border-t-transparent mx-auto mb-4"}),(0,En.jsx)("p",{className:"text-gray-600",children:e("message_loading")})]})}):a&&!f?(0,En.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,En.jsxs)("div",{className:"text-center",children:[(0,En.jsx)("div",{className:"text-red-600 text-xl mb-4",children:a}),(0,En.jsx)("button",{onClick:v,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:e("common_try_again")})]})}):(0,En.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,En.jsx)("div",{className:"bg-gray-50 border-b",children:(0,En.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,En.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:e("nav_tours")}),(0,En.jsx)("p",{className:"text-lg text-gray-600 max-w-2xl",children:e("tours_page_subtitle")})]})}),(0,En.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,En.jsx)("div",{className:"mb-8",children:(0,En.jsx)("div",{className:"flex flex-wrap gap-3",children:d.map((e=>(0,En.jsx)("button",{onClick:()=>u(e.key),className:"px-4 py-2 rounded-full text-sm font-medium transition-colors border ".concat(c===e.key?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:border-gray-400"),children:b(e)},e.key)))})}),0===x.length?(0,En.jsx)("div",{className:"text-center py-16",children:(0,En.jsx)("div",{className:"text-gray-500 text-lg",children:e("message_no_tours")})}):(0,En.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map((t=>{return(0,En.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[(0,En.jsxs)("div",{className:"h-48 bg-gray-100 relative",children:[t.images&&t.images.length>0?(0,En.jsx)("img",{src:t.images[0],alt:t.name[n()]||t.name.pt,className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none"}}):(0,En.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,En.jsx)("svg",{className:"w-12 h-12 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,En.jsx)("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})})}),(0,En.jsx)("div",{className:"absolute top-3 left-3",children:(0,En.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium border ".concat((s=t.tour_type,{gastronomic:"bg-orange-50 text-orange-700 border-orange-200",cultural:"bg-blue-50 text-blue-700 border-blue-200",mixed:"bg-purple-50 text-purple-700 border-purple-200",custom:"bg-green-50 text-green-700 border-green-200"}[s]||"bg-gray-50 text-gray-700 border-gray-200")),children:(()=>{const n=d.find((e=>e.key===t.tour_type));return n?b(n):e("tour_type_".concat(t.tour_type))})()})})]}),(0,En.jsxs)("div",{className:"p-5",children:[(0,En.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2 line-clamp-2",children:t.name[n()]||t.name.pt}),(0,En.jsx)("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:t.short_description[n()]||t.short_description.pt}),(0,En.jsxs)("div",{className:"space-y-2 mb-4 text-sm text-gray-500",children:[(0,En.jsxs)("div",{className:"flex items-center",children:[(0,En.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,En.jsx)("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),t.location]}),(0,En.jsxs)("div",{className:"flex items-center",children:[(0,En.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,En.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),t.duration_hours,"h"]}),(0,En.jsxs)("div",{className:"flex items-center",children:[(0,En.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,En.jsx)("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0z"})}),"M\xe1x. ",t.max_participants," pessoas"]})]}),t.rating&&(0,En.jsxs)("div",{className:"flex items-center mb-4",children:[(0,En.jsx)("div",{className:"flex text-yellow-400 text-sm mr-2",children:"\u2605".repeat(Math.floor(t.rating))}),(0,En.jsxs)("span",{className:"text-sm text-gray-600",children:[t.rating," (",t.reviewCount||0,")"]})]}),(0,En.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[(0,En.jsx)("div",{children:(0,En.jsx)("span",{className:"text-xl font-bold text-gray-900",children:(r=t.price,new Intl.NumberFormat("pt-PT",{style:"currency",currency:"EUR"}).format(r))})}),(0,En.jsx)(pt,{to:"/tour/".concat(t.id),className:"bg-blue-600 text-white px-4 py-2 rounded text-sm font-medium hover:bg-blue-700 transition-colors",children:e("tour_view_details")})]})]})]},t.id);var r,s}))})]}),(0,En.jsx)("div",{className:"bg-gray-50 mt-16",children:(0,En.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:(0,En.jsxs)("div",{className:"text-center",children:[(0,En.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:e("cta_ready_for_experience")}),(0,En.jsx)("p",{className:"text-gray-600 mb-8 max-w-2xl mx-auto",children:e("cta_join_us_description")}),(0,En.jsx)(pt,{to:"/contact",className:"inline-block bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:e("cta_contact_us")})]})})})]})},gj=()=>(0,En.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,En.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,En.jsxs)("div",{className:"text-center mb-8",children:[(0,En.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"\ud83e\uddea Teste de Pagamento"}),(0,En.jsx)("p",{className:"text-gray-600",children:"Teste cart\xf5es e MB WAY com dados fict\xedcios"})]}),(0,En.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:[(0,En.jsx)("h3",{className:"font-bold text-yellow-800 mb-2",children:"\ud83d\udd27 Modo de Teste:"}),(0,En.jsxs)("ul",{className:"text-sm text-yellow-700 space-y-1",children:[(0,En.jsxs)("li",{children:["\u2022 ",(0,En.jsx)("strong",{children:"Cart\xe3o sucesso:"})," 4242424242424242"]}),(0,En.jsxs)("li",{children:["\u2022 ",(0,En.jsx)("strong",{children:"Cart\xe3o falha:"})," 4000000000000002"]}),(0,En.jsxs)("li",{children:["\u2022 ",(0,En.jsx)("strong",{children:"CVC:"})," 123 | ",(0,En.jsx)("strong",{children:"Data:"})," 12/25"]}),(0,En.jsxs)("li",{children:["\u2022 ",(0,En.jsx)("strong",{children:"MB WAY:"})," +351912345678"]})]})]}),(0,En.jsx)(li,{bookingData:{tour:{id:"test-tour-123",name:"Tour de Teste Sintra"},firstName:"Jo\xe3o",lastName:"Silva",email:"joao@teste.com",phone:"+351912345678",date:"2025-08-15",numberOfPeople:1,depositAmount:5,remainingAmount:20,specialRequests:"Teste de pagamento"},onPaymentSuccess:e=>{console.log("\u2705 Pagamento bem-sucedido:",e),alert("\u2705 TESTE BEM-SUCEDIDO!\n\n"+JSON.stringify(e,null,2))},onBack:()=>{console.log("\u2190 Voltar clicado"),alert("\u2190 Bot\xe3o voltar clicado!")}})]})}),vj=e=>{let{availableDates:n,occupiedDates:r=[],selectedDate:s,onDateSelect:o,language:i="pt",className:a="",isDateAvailable:l}=e;const[c,u]=(0,t.useState)(new Date),d={pt:{selectDate:"Selecione uma data dispon\xedvel",noAvailableDates:"Sem datas dispon\xedveis para este tour",weekendsNotAvailable:"Fins de semana n\xe3o dispon\xedveis",dateOccupied:"Data j\xe1 reservada",datePassed:"Data j\xe1 passou",nextMonth:"Pr\xf3ximo m\xeas",prevMonth:"M\xeas anterior",selected:"Selecionado",available:"Dispon\xedvel",booked:"J\xe1 reservado",weekend:"Fim de semana"},en:{selectDate:"Select an available date",noAvailableDates:"No available dates for this tour",weekendsNotAvailable:"Weekends not available",dateOccupied:"Date already booked",datePassed:"Date has passed",nextMonth:"Next month",prevMonth:"Previous month",selected:"Selected",available:"Available",booked:"Already booked",weekend:"Weekend"},es:{selectDate:"Selecciona una fecha disponible",noAvailableDates:"Sin fechas disponibles para este tour",weekendsNotAvailable:"Fines de semana no disponibles",dateOccupied:"Fecha ya reservada",datePassed:"Fecha ya pas\xf3",nextMonth:"Mes siguiente",prevMonth:"Mes anterior",selected:"Seleccionado",available:"Disponible",booked:"Ya reservado",weekend:"Fin de semana"}},h=d[i]||d.pt,p=(e,t,n)=>{const r=e.toString(),s=(t+1).toString().padStart(2,"0"),o=n.toString().padStart(2,"0");return"".concat(r,"-").concat(s,"-").concat(o)},m=e=>e.isAvailable?s===e.dateString?"bg-blue-600 text-white font-bold border-2 border-blue-700 shadow-lg":"bg-white text-gray-700 hover:bg-blue-50 hover:text-blue-600 border border-gray-200 hover:border-blue-300 cursor-pointer":e.isWeekend?"bg-red-50 text-red-300 cursor-not-allowed border border-red-100":e.isOccupied?"bg-red-600 text-white cursor-not-allowed border border-red-700 font-bold line-through":e.isPast?"bg-gray-50 text-gray-300 cursor-not-allowed border border-gray-100":"bg-gray-400 text-white cursor-not-allowed border border-gray-500 font-bold",f=e=>e.isWeekend?h.weekendsNotAvailable:e.isOccupied?h.dateOccupied:e.isPast?h.datePassed:s===e.dateString?h.selected:e.isAvailable?"Clique para selecionar":"Data n\xe3o dispon\xedvel",g=(e=>{const t=e.getFullYear(),n=e.getMonth(),s=new Date(t,n,1),o=new Date(t,n+1,0).getDate(),i=s.getDay(),a=[];for(let r=0;r<i;r++)a.push(null);for(let c=1;c<=o;c++){const e=new Date(t,n,c),s=p(t,n,c),o=e.getDay();console.log("\ud83d\udcc5 Gerando dia ".concat(c,": dateString=").concat(s)),a.push({date:c,fullDate:e,dateString:s,isWeekend:0===o||6===o,isPast:e<(new Date).setHours(0,0,0,0),isToday:e.toDateString()===(new Date).toDateString(),isOccupied:r.includes(s),isAvailable:l?l(s):!r.includes(s)})}return a})(c),v="".concat({pt:["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],en:["January","February","March","April","May","June","July","August","September","October","November","December"],es:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"]}[i][c.getMonth()]," ").concat(c.getFullYear());return(0,En.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 ".concat(a),children:[(0,En.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,En.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:h.selectDate}),(0,En.jsxs)("div",{className:"flex space-x-2",children:[(0,En.jsx)("button",{type:"button",onClick:()=>{u(new Date(c.getFullYear(),c.getMonth()-1,1))},className:"p-2 hover:bg-gray-100 rounded-full transition-colors",title:h.prevMonth,children:(0,En.jsx)("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,En.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})})}),(0,En.jsx)("div",{className:"flex items-center px-4 py-2 bg-gray-50 rounded-lg",children:(0,En.jsx)("span",{className:"font-medium text-gray-900",children:v})}),(0,En.jsx)("button",{type:"button",onClick:()=>{u(new Date(c.getFullYear(),c.getMonth()+1,1))},className:"p-2 hover:bg-gray-100 rounded-full transition-colors",title:h.nextMonth,children:(0,En.jsx)("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,En.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})})]})]}),(0,En.jsx)("div",{className:"grid grid-cols-7 gap-1 mb-2",children:{pt:["Dom","Seg","Ter","Qua","Qui","Sex","S\xe1b"],en:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],es:["Dom","Lun","Mar","Mi\xe9","Jue","Vie","S\xe1b"]}[i].map((e=>(0,En.jsx)("div",{className:"text-sm font-medium text-gray-500 text-center p-2",children:e},e)))}),(0,En.jsx)("div",{className:"grid grid-cols-7 gap-1",children:g.map(((e,t)=>e?(0,En.jsx)("button",{type:"button",onClick:()=>(e=>{e.isAvailable&&(console.log("\ud83d\uddd3\ufe0f Calend\xe1rio clicado: ".concat(e.dateString," (dia ").concat(e.date,")")),o(e.dateString))})(e),disabled:!e.isAvailable,className:"\n                h-10 w-full text-sm rounded-lg flex items-center justify-center transition-all duration-200\n                ".concat(m(e),"\n                ").concat(e.isToday?"ring-2 ring-blue-400":"","\n              "),title:f(e),children:e.date},t):(0,En.jsx)("div",{className:"h-10"},t)))}),(0,En.jsxs)("div",{className:"mt-4 flex flex-wrap gap-3 text-sm",children:[(0,En.jsxs)("div",{className:"flex items-center",children:[(0,En.jsx)("div",{className:"w-4 h-4 bg-blue-600 rounded mr-2"}),(0,En.jsx)("span",{className:"text-gray-600",children:h.selected})]}),(0,En.jsxs)("div",{className:"flex items-center",children:[(0,En.jsx)("div",{className:"w-4 h-4 bg-white border border-gray-200 rounded mr-2"}),(0,En.jsx)("span",{className:"text-gray-600",children:h.available})]}),(0,En.jsxs)("div",{className:"flex items-center",children:[(0,En.jsx)("div",{className:"w-4 h-4 bg-orange-50 border border-orange-200 rounded mr-2"}),(0,En.jsx)("span",{className:"text-gray-600",children:h.booked})]}),(0,En.jsxs)("div",{className:"flex items-center",children:[(0,En.jsx)("div",{className:"w-4 h-4 bg-red-50 border border-red-100 rounded mr-2"}),(0,En.jsx)("span",{className:"text-gray-600",children:h.weekend})]})]}),0===n.length&&(0,En.jsx)("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,En.jsx)("p",{className:"text-yellow-800 text-sm text-center",children:h.noAvailableDates})})]})};var yj=n(202);const bj=e=>{let{onProcessing:n,onError:r,onSuccess:s,amount:o,bookingData:i}=e;const a=(0,ri.useStripe)(),l=(0,ri.useElements)(),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(!1);return(0,En.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),console.log("\ud83d\udd0d DEBUG: handleSubmit chamado"),!a||!l)return console.error("\u274c DEBUG: Stripe n\xe3o inicializado",{stripe:!!a,elements:!!l}),void r("Stripe n\xe3o est\xe1 inicializado. Por favor, recarregue a p\xe1gina.");if(!d)return console.error("\u274c DEBUG: Formul\xe1rio n\xe3o est\xe1 pronto"),void r("Formul\xe1rio ainda n\xe3o est\xe1 pronto. Aguarde um momento.");u(!0),n(!0);try{console.log("\ud83d\udd0d DEBUG: Preparando billing_details",{bookingData:i});const e={return_url:window.location.origin,payment_method_data:{billing_details:{name:i?"".concat(i.firstName," ").concat(i.lastName):"Cliente",email:i?i.email:"cliente@example.com",phone:i?i.phone:null}}};console.log("\ud83d\udd0d DEBUG: Calling stripe.confirmPayment",{confirmParams:e});const n=await a.confirmPayment({elements:l,confirmParams:e,redirect:"if_required"});if(console.log("\ud83d\udd0d DEBUG: stripe.confirmPayment result:",n),n.error){console.error("\u274c DEBUG: Erro no pagamento:",n.error);let e=n.error.message||"Erro no processamento do pagamento";"card_error"===n.error.type?e="Erro no cart\xe3o: ".concat(n.error.message):"validation_error"===n.error.type&&(e="Dados inv\xe1lidos: ".concat(n.error.message)),r(e)}else if(n.paymentIntent){console.log("\u2705 DEBUG: Pagamento bem-sucedido! Calling onSuccess...",n.paymentIntent);try{s(n.paymentIntent),console.log("\u2705 DEBUG: onSuccess chamado com sucesso")}catch(t){console.error("\u274c DEBUG: Erro ao chamar onSuccess:",t),r("Erro ap\xf3s pagamento bem-sucedido: "+t.message)}}else console.warn("\u26a0\ufe0f DEBUG: Resultado inesperado:",n),r("O pagamento n\xe3o foi conclu\xeddo. Tente novamente.")}catch(Aj){console.error("\u274c DEBUG: Erro inesperado no handleSubmit:",Aj),r("Erro inesperado no processamento: "+Aj.message)}finally{console.log("\ud83d\udd0d DEBUG: Finalizando processamento"),u(!1),n(!1)}},className:"space-y-6 mt-4",children:[(0,En.jsx)(ri.PaymentElement,{onReady:()=>{console.log("\u2705 DEBUG: PaymentElement pronto"),h(!0)},onChange:e=>{console.log("\ud83d\udd0d DEBUG: PaymentElement onChange:",e),e.error?(console.error("\u274c DEBUG: Erro no PaymentElement:",e.error),r(e.error.message)):r("")},options:{layout:"tabs",fields:{billingDetails:"auto"}}}),!d&&(0,En.jsxs)("div",{className:"flex items-center justify-center py-4",children:[(0,En.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-blue-600 border-t-transparent mr-2"}),(0,En.jsx)("span",{className:"text-gray-600 text-sm",children:"A carregar formul\xe1rio de pagamento..."})]}),(0,En.jsx)("button",{disabled:c||!a||!l||!d,className:"w-full py-4 px-6 rounded-xl font-bold text-lg transition-colors ".concat(c||!d?"bg-gray-400 cursor-not-allowed text-gray-200":"bg-blue-600 hover:bg-blue-700 text-white shadow-lg hover:shadow-xl"),onClick:()=>console.log("\ud83d\udd0d DEBUG: Bot\xe3o de pagamento clicado"),children:c?(0,En.jsxs)("div",{className:"flex items-center justify-center",children:[(0,En.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent mr-2"}),"A processar pagamento..."]}):d?"Pagar ".concat(new Intl.NumberFormat("pt-PT",{style:"currency",currency:"EUR"}).format(o||0)):"Aguarde..."}),(0,En.jsx)("div",{className:"text-center text-xs text-gray-500 mt-4",children:(0,En.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,En.jsx)("span",{className:"flex items-center",children:"\ud83d\udd12 Seguro via Stripe"}),(0,En.jsx)("span",{className:"flex items-center",children:"\ud83d\udee1\ufe0f Dados encriptados"})]})})]})},xj=e=>{var n,r,s,o;let{bookingData:i,onPaymentSuccess:a,onBack:l}=e;const u=he();console.log("\ud83d\udd0d DEBUG: PaymentComponent inicializado"),console.log("\ud83d\udd0d DEBUG: navigate function:",typeof u);const[d,h]=(0,t.useState)("googlepay"),[p,m]=(0,t.useState)(!1),[f,g]=(0,t.useState)(""),[v,y]=(0,t.useState)(""),[b,x]=(0,t.useState)("checking"),[w,_]=(0,t.useState)("checking"),[E,k]=(0,t.useState)(null),[S,C]=(0,t.useState)(!1),[N,j]=(0,t.useState)(null),[T,P]=(0,t.useState)(null),[I,L]=(0,t.useState)(""),A={pt:{paymentMethodTitle:"Selecione uma forma de pagamento",securityText:"Todos os pagamentos s\xe3o criptografados e seguros",payButton:"Pagar com",processing:"A processar...",backButton:"\u2190 Voltar aos dados da reserva",phoneLabel:"N\xfamero de telem\xf3vel:",phonePlaceholder:"+351 912 345 678",summary:"Resumo do pedido",participants:"participantes",deposit:"Dep\xf3sito a pagar:",remaining:"Restante no dia do tour:",editBooking:"Alterar data ou n\xfamero de participantes",paypalAvailable:"PayPal dispon\xedvel e conectado",paypalUnavailable:"PayPal temporariamente indispon\xedvel",testingPayment:"A testar conex\xe3o de pagamento...",securePayment:"Pagamento 100% seguro",instantConfirmation:"Confirma\xe7\xe3o instant\xe2nea",paymentError:"Erro no pagamento",tryAgain:"Tentar novamente",comingSoon:"Em breve"}},O=A[i.language]||A.pt;(0,t.useEffect)((()=>{R(),ti.get("".concat(ni,"/api/payments/stripe/config")).then((e=>{e.data.publishable_key&&P((0,yj.loadStripe)(e.data.publishable_key))})).catch((e=>{console.error("Erro ao carregar configura\xe7\xe3o Stripe:",e)}))}),[]);const R=async()=>{await Promise.all([D(),M()])},D=async()=>{try{const e=await ti.get("".concat(ni,"/api/payments/test/paypal"));"success"===e.data.status||"connected"===e.data.status?x("available"):x("unavailable")}catch(f){x("unavailable")}},M=async()=>{try{const e=await ti.get("".concat(ni,"/api/payments/stripe/config"));if(!e.data.available||!e.data.publishable_key)return void _("unavailable");if(k(e.data),window.google&&window.google.payments||await U(),!window.google||!window.google.payments)return void _("unavailable");const t=e.data.environment||"TEST",n=new window.google.payments.api.PaymentsClient({environment:t});j(n);const r={apiVersion:2,apiVersionMinor:0,allowedPaymentMethods:[{type:"CARD",parameters:{allowedAuthMethods:["PAN_ONLY","CRYPTOGRAM_3DS"],allowedCardNetworks:["AMEX","DISCOVER","INTERAC","JCB","MASTERCARD","VISA"]},tokenizationSpecification:{type:"PAYMENT_GATEWAY",parameters:{gateway:"stripe","stripe:version":"2020-08-27","stripe:publishableKey":e.data.publishable_key}}}]};(await n.isReadyToPay(r)).result?(C(!0),_("available")):_("unavailable")}catch(f){_("unavailable")}},U=()=>new Promise(((e,t)=>{if(window.google&&window.google.payments)return void e();const n=document.createElement("script");n.src="https://pay.google.com/gp/p/js/pay.js",n.async=!0,n.onload=()=>e(),n.onerror=()=>t(new Error("Falha ao carregar Google Pay API")),document.head.appendChild(n)})),F=async e=>{try{var t,n;const r=await z(),s={amount:i.depositAmount,currency:"EUR",tour_id:i.tour.id,booking_id:r,customer_email:i.email,customer_name:"".concat(i.firstName," ").concat(i.lastName),tour_name:(null===(t=i.tour.name)||void 0===t?void 0:t[i.language])||(null===(n=i.tour.name)||void 0===n?void 0:n.pt)||i.tour.name,participants:i.numberOfPeople,payment_method:"google_pay"},o=await ti.post("".concat(ni,"/api/payments/create-intent"),s);if(!o.data.payment_intent_id)throw new Error("Payment Intent n\xe3o criado pelo backend");const l={type:"card",card:{token:e.paymentMethodData.tokenizationData.token}},d=await ti.post("".concat(ni,"/api/payments/stripe/confirm/").concat(o.data.payment_intent_id),{payment_method_data:l});if("succeeded"!==d.data.status)throw new Error("Pagamento n\xe3o confirmado. Status: ".concat(d.data.status));{const e={method:"google_pay",transaction_id:d.data.transaction_id,booking_id:r,amount:d.data.amount,receipt_url:d.data.receipt_url};a&&a(e),u("/payment/success",{state:c({paymentSuccess:!0},e)})}}catch(f){var r,s,o,l;const t=(null===(r=f.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.detail)||(null===(o=f.response)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.message)||f.message;g("Erro ao processar pagamento: "+t)}finally{m(!1)}},z=async()=>{try{if(i.id&&"string"===typeof i.id&&i.id.length>5)return i.id;const e={tour_id:i.tour.id,customer_name:"".concat(i.firstName," ").concat(i.lastName),customer_email:i.email,customer_phone:i.phone,selected_date:i.date,participants:parseInt(i.numberOfPeople),special_requests:i.specialRequests||"",payment_method:d,language:i.language||"pt"},t=await ti.post("".concat(ni,"/api/bookings"),e);return t.data.id||t.data.booking_id||t.data._id}catch(f){var e,t;throw new Error("Erro ao criar reserva: "+((null===(e=f.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||f.message))}},B=async e=>{try{if(m(!0),g(""),"mbway"===e&&!v.trim())throw new Error("N\xfamero de telem\xf3vel \xe9 obrigat\xf3rio para MB WAY");const t=await z();switch(e){case"paypal":if("available"!==b)throw new Error("PayPal n\xe3o est\xe1 dispon\xedvel no momento");await(async e=>{try{var t,n;const r={amount:i.depositAmount,currency:"EUR",tour_id:i.tour.id,booking_id:e,customer_email:i.email,customer_name:"".concat(i.firstName," ").concat(i.lastName),tour_name:(null===(t=i.tour.name)||void 0===t?void 0:t[i.language])||(null===(n=i.tour.name)||void 0===n?void 0:n.pt)||i.tour.name,participants:i.numberOfPeople,payment_method:"paypal",return_url:"".concat(window.location.origin,"/payment/success?booking_id=").concat(e),cancel_url:"".concat(window.location.origin,"/payment/cancel?booking_id=").concat(e)},s=await ti.post("".concat(ni,"/api/payments/paypal/create"),r);if(!s.data.approval_url)throw new Error("URL de aprova\xe7\xe3o PayPal n\xe3o recebida");window.location.href=s.data.approval_url}catch(f){var r,s;throw new Error((null===(r=f.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.detail)||"Erro ao processar pagamento PayPal")}})(t);break;case"googlepay":if("available"!==w||!S)throw new Error("Google Pay n\xe3o est\xe1 dispon\xedvel no momento");await(async()=>{try{if(!N||!S||!E)throw new Error("Google Pay n\xe3o est\xe1 pronto");if(m(!0),g(""),!i.depositAmount||i.depositAmount<=0)throw new Error("Valor do dep\xf3sito inv\xe1lido");const e={apiVersion:2,apiVersionMinor:0,allowedPaymentMethods:[{type:"CARD",parameters:{allowedAuthMethods:["PAN_ONLY","CRYPTOGRAM_3DS"],allowedCardNetworks:["VISA","MASTERCARD","AMEX"]},tokenizationSpecification:{type:"PAYMENT_GATEWAY",parameters:{gateway:"stripe","stripe:version":"2020-08-27","stripe:publishableKey":E.publishable_key}}}],transactionInfo:{totalPriceStatus:"FINAL",totalPriceLabel:"Total",totalPrice:i.depositAmount.toFixed(2),currencyCode:"EUR",countryCode:"PT"},merchantInfo:{merchantName:"9 Rocks Tours",merchantId:E.merchant_id||"00000000000000000000000"}},t=await N.loadPaymentData(e);await F(t)}catch(f){"CANCELED"===f.statusCode?g(""):"DEVELOPER_ERROR"===f.statusCode?g("Erro de configura\xe7\xe3o do Google Pay. Contacte o suporte."):g(f.message||"Erro no Google Pay"),m(!1)}})();break;case"stripe_elements":if(!I||!T)throw new Error("Stripe Elements n\xe3o est\xe1 pronto");break;default:throw new Error("M\xe9todo de pagamento ".concat(e," n\xe3o suportado"))}}catch(f){g(f.message)}finally{"paypal"!==e&&m(!1)}},V=e=>new Intl.NumberFormat("pt-PT",{style:"currency",currency:"EUR"}).format(e||0),q=()=>{window.confirm("Tem a certeza que quer voltar e editar os dados? O progresso atual ser\xe1 perdido.")&&l()},H=e=>{switch(e){case"paypal":return(0,En.jsx)("div",{className:"w-16 h-8 bg-blue-600 rounded flex items-center justify-center",children:(0,En.jsx)("span",{className:"text-white font-bold text-xs",children:"PayPal"})});case"googlepay":return(0,En.jsx)("div",{className:"w-16 h-8 bg-white border border-gray-300 rounded flex items-center justify-center",children:(0,En.jsx)("span",{className:"text-gray-700 font-bold text-xs",children:"G Pay"})});case"stripe_elements":return(0,En.jsxs)("div",{className:"flex space-x-1",children:[(0,En.jsx)("div",{className:"w-8 h-5 bg-blue-600 rounded text-white text-xs flex items-center justify-center font-bold",children:"VISA"}),(0,En.jsx)("div",{className:"w-8 h-5 bg-red-600 rounded text-white text-xs flex items-center justify-center font-bold",children:"MC"}),(0,En.jsx)("div",{className:"w-8 h-5 bg-blue-800 rounded text-white text-xs flex items-center justify-center font-bold",children:"AE"}),(0,En.jsx)("div",{className:"w-16 h-5 bg-green-600 rounded text-white text-xs flex items-center justify-center font-bold",children:"MB WAY"})]});default:return null}},W=e=>{switch(e){case"paypal":return"available"===b;case"googlepay":return"available"===w&&S;case"stripe_elements":return null!==T;default:return!1}};return(0,En.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,En.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,En.jsx)("div",{className:"flex items-center justify-center mb-8",children:(0,En.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,En.jsxs)("div",{className:"flex items-center",children:[(0,En.jsx)("div",{className:"w-8 h-8 bg-green-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:"\u2713"}),(0,En.jsx)("span",{className:"ml-2 text-sm font-medium text-green-600",children:"Dados pessoais"})]}),(0,En.jsx)("div",{className:"w-12 h-0.5 bg-blue-600"}),(0,En.jsxs)("div",{className:"flex items-center",children:[(0,En.jsx)("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:"2"}),(0,En.jsx)("span",{className:"ml-2 text-sm font-medium text-blue-600",children:"Pagamento"})]}),(0,En.jsx)("div",{className:"w-12 h-0.5 bg-gray-300"}),(0,En.jsxs)("div",{className:"flex items-center",children:[(0,En.jsx)("div",{className:"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center text-white font-bold text-sm",children:"3"}),(0,En.jsx)("span",{className:"ml-2 text-sm font-medium text-gray-500",children:"Confirma\xe7\xe3o"})]})]})}),(0,En.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,En.jsx)("div",{className:"lg:col-span-2",children:(0,En.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[f&&(0,En.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:(0,En.jsxs)("div",{className:"flex",children:[(0,En.jsx)("svg",{className:"w-5 h-5 text-red-600 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,En.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),(0,En.jsxs)("div",{children:[(0,En.jsx)("div",{className:"text-red-800 font-medium",children:O.paymentError}),(0,En.jsx)("div",{className:"text-red-700 text-sm mt-1",children:f}),(0,En.jsx)("button",{onClick:()=>g(""),className:"text-red-600 text-sm underline mt-2 hover:text-red-800",children:O.tryAgain})]})]})}),("checking"===b||"checking"===w)&&(0,En.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:(0,En.jsxs)("div",{className:"flex items-center",children:[(0,En.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-blue-600 border-t-transparent mr-3"}),(0,En.jsx)("span",{className:"text-blue-800 text-sm",children:O.testingPayment})]})}),(0,En.jsxs)("div",{className:"mb-8",children:[(0,En.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:O.paymentMethodTitle}),(0,En.jsxs)("div",{className:"flex items-center mb-6 p-3 bg-green-50 rounded-lg border border-green-200",children:[(0,En.jsx)("svg",{className:"w-5 h-5 text-green-600 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,En.jsx)("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}),(0,En.jsx)("span",{className:"text-sm font-medium text-green-800",children:O.securityText})]}),(0,En.jsxs)("div",{className:"space-y-3",children:[(0,En.jsx)("div",{className:"border-2 rounded-xl p-4 cursor-pointer transition-all duration-200 ".concat("googlepay"===d?"border-black bg-gray-100":"border-gray-300 hover:border-gray-400"," ").concat(W("googlepay")?"":"opacity-75"),children:(0,En.jsxs)("label",{className:"flex items-center justify-between cursor-pointer",children:[(0,En.jsxs)("div",{className:"flex items-center",children:[(0,En.jsx)("input",{type:"radio",name:"payment_method",value:"googlepay",checked:"googlepay"===d,onChange:e=>h(e.target.value),disabled:!W("googlepay"),className:"w-5 h-5 text-black mr-4"}),(0,En.jsxs)("div",{children:[(0,En.jsx)("span",{className:"font-medium",children:"Google Pay"}),"available"===w&&S&&(0,En.jsxs)("div",{className:"flex items-center mt-1",children:[(0,En.jsx)("svg",{className:"w-4 h-4 text-green-600 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,En.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),(0,En.jsx)("span",{className:"text-green-700 text-xs",children:"Google Pay dispon\xedvel"})]}),("unavailable"===w||!S)&&(0,En.jsxs)("div",{className:"flex items-center mt-1",children:[(0,En.jsx)("svg",{className:"w-4 h-4 text-red-600 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,En.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),(0,En.jsx)("span",{className:"text-red-700 text-xs",children:"Google Pay indispon\xedvel"})]}),"checking"===w&&(0,En.jsxs)("div",{className:"flex items-center mt-1",children:[(0,En.jsx)("div",{className:"animate-spin rounded-full h-3 w-3 border border-blue-600 border-t-transparent mr-1"}),(0,En.jsx)("span",{className:"text-blue-700 text-xs",children:"Verificando..."})]})]})]}),H("googlepay")]})}),(0,En.jsx)("div",{className:"border-2 rounded-xl p-4 cursor-pointer transition-all duration-200 ".concat("paypal"===d?"border-blue-600 bg-blue-50":"border-gray-300 hover:border-gray-400"," ").concat(W("paypal")?"":"opacity-75"),children:(0,En.jsxs)("label",{className:"flex items-center justify-between cursor-pointer",children:[(0,En.jsxs)("div",{className:"flex items-center",children:[(0,En.jsx)("input",{type:"radio",name:"payment_method",value:"paypal",checked:"paypal"===d,onChange:e=>h(e.target.value),disabled:!W("paypal"),className:"w-5 h-5 text-blue-600 mr-4"}),(0,En.jsxs)("div",{children:[(0,En.jsx)("span",{className:"font-medium",children:"PayPal"}),"available"===b&&(0,En.jsxs)("div",{className:"flex items-center mt-1",children:[(0,En.jsx)("svg",{className:"w-4 h-4 text-green-600 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,En.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),(0,En.jsx)("span",{className:"text-green-700 text-xs",children:O.paypalAvailable})]}),"unavailable"===b&&(0,En.jsxs)("div",{className:"flex items-center mt-1",children:[(0,En.jsx)("svg",{className:"w-4 h-4 text-red-600 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,En.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),(0,En.jsx)("span",{className:"text-red-700 text-xs",children:O.paypalUnavailable})]})]})]}),H("paypal")]})}),(0,En.jsxs)("div",{className:"border-2 rounded-xl p-4 cursor-pointer transition-all duration-200 ".concat("stripe_elements"===d?"border-blue-600 bg-blue-50":"border-gray-300 hover:border-gray-400"),children:[(0,En.jsxs)("label",{className:"flex items-center justify-between cursor-pointer",children:[(0,En.jsxs)("div",{className:"flex items-center",children:[(0,En.jsx)("input",{type:"radio",name:"payment_method",value:"stripe_elements",checked:"stripe_elements"===d,onChange:e=>{h(e.target.value),(async()=>{m(!0),g("");try{var e,t;const{depositAmount:n,tour:r,email:s,firstName:o,lastName:a}=i;if(!n||n<=0)throw new Error("O valor do dep\xf3sito \xe9 inv\xe1lido.");if(!r||!r.id)throw new Error("ID do Tour em falta. Volte ao passo anterior e tente novamente.");if(!s||!o||!a)throw new Error("Dados do cliente (nome, apelido, email) est\xe3o em falta.");const l=await z(),c={amount:n,currency:"EUR",tour_id:r.id,booking_id:l,customer_email:s,customer_name:"".concat(o," ").concat(a),tour_name:(null===(e=r.name)||void 0===e?void 0:e[i.language])||(null===(t=r.name)||void 0===t?void 0:t.pt)||r.name,participants:i.numberOfPeople},u=await ti.post("".concat(ni,"/api/payments/create-intent"),c);if(!u.data.client_secret)throw new Error("Client Secret n\xe3o recebido do backend.");L(u.data.client_secret)}catch(l){var n,r,s,o;const e=(null===(n=l.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.detail)||(null===(s=l.response)||void 0===s||null===(o=s.data)||void 0===o?void 0:o.message)||l.message;let t="N\xe3o foi poss\xedvel iniciar o pagamento. Verifique os dados e tente novamente.";if("string"===typeof e)t=e;else if(Array.isArray(e)){var a;const n=e[0];t="Erro nos dados: o campo '".concat((null===(a=n.loc)||void 0===a?void 0:a.join("."))||"desconhecido","' ").concat(n.msg||"\xe9 inv\xe1lido",".")}g(t)}finally{m(!1)}})()},className:"w-5 h-5 text-blue-600 mr-4"}),(0,En.jsxs)("div",{children:[(0,En.jsx)("span",{className:"font-medium",children:"Cart\xe3o de Cr\xe9dito / MB WAY"}),(0,En.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Pagamento seguro via Stripe"})]})]}),H("stripe_elements")]}),"stripe_elements"===d&&I&&T&&(0,En.jsx)("div",{className:"mt-4",children:(0,En.jsx)(ri.Elements,{stripe:T,options:{clientSecret:I},children:(0,En.jsx)(bj,{onProcessing:m,onError:g,onSuccess:e=>{console.log("\u2705 DEBUG PaymentComponent: onSuccess chamado",e);try{var t,n;const r={method:e.payment_method_types[0],transaction_id:e.id,booking_id:i.id,amount:e.amount/100,receipt_url:null===(t=e.charges)||void 0===t||null===(n=t.data[0])||void 0===n?void 0:n.receipt_url};console.log("\ud83d\udd0d DEBUG PaymentComponent: successData preparado",r),a&&(console.log("\ud83d\udd0d DEBUG PaymentComponent: Chamando onPaymentSuccess callback"),a(r)),console.log("\ud83d\udd0d DEBUG PaymentComponent: Tentando navegar para /payment/success"),u("/payment/success",{state:c({paymentSuccess:!0},r)}),console.log("\u2705 DEBUG PaymentComponent: navigate() chamado")}catch(r){console.error("\u274c DEBUG PaymentComponent: Erro na navega\xe7\xe3o:",r),g("Pagamento bem-sucedido, mas erro ao redirecionar: "+r.message)}},amount:i.depositAmount,bookingData:i})})})]})]})]}),(0,En.jsxs)("div",{className:"space-y-4 mt-6",children:["stripe_elements"!==d&&(0,En.jsx)("button",{onClick:()=>B(d),disabled:p||!W(d),className:"w-full py-4 px-6 rounded-xl font-bold text-lg transition-all duration-300 transform ".concat(p||!W(d)?"bg-gray-400 cursor-not-allowed text-gray-200":"bg-blue-600 hover:bg-blue-700 hover:scale-[1.02] cursor-pointer text-white shadow-lg hover:shadow-xl"),children:p?(0,En.jsxs)("div",{className:"flex items-center justify-center",children:[(0,En.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-2 border-white border-t-transparent mr-3"}),O.processing]}):(0,En.jsxs)("div",{className:"flex items-center justify-center",children:[(0,En.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,En.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"".concat(O.payButton," ").concat(d.toUpperCase()," ").concat(V(i.depositAmount))]})}),(0,En.jsx)("button",{onClick:l,disabled:p,className:"w-full text-blue-600 hover:text-blue-700 font-medium py-2 disabled:opacity-50",children:O.backButton})]}),(0,En.jsxs)("div",{className:"mt-6 flex items-center justify-center space-x-6 text-sm text-gray-600",children:[(0,En.jsxs)("div",{className:"flex items-center",children:[(0,En.jsx)("svg",{className:"w-4 h-4 mr-1 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,En.jsx)("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}),(0,En.jsx)("span",{children:O.securePayment})]}),(0,En.jsxs)("div",{className:"flex items-center",children:[(0,En.jsx)("svg",{className:"w-4 h-4 mr-1 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,En.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,En.jsx)("span",{children:O.instantConfirmation})]})]})]})}),(0,En.jsx)("div",{className:"lg:col-span-1",children:(0,En.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6 sticky top-8",children:[(0,En.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:O.summary}),(0,En.jsxs)("div",{className:"flex items-start space-x-4 mb-6 p-4 bg-gray-50 rounded-xl",children:[i.tour.images&&i.tour.images[0]&&(0,En.jsx)("img",{src:i.tour.images[0],alt:(null===(n=i.tour.name)||void 0===n?void 0:n[i.language])||(null===(r=i.tour.name)||void 0===r?void 0:r.pt),className:"w-20 h-20 object-cover rounded-lg shadow-sm"}),(0,En.jsxs)("div",{className:"flex-1",children:[(0,En.jsx)("h4",{className:"font-bold text-gray-900 text-lg mb-2 leading-tight",children:(null===(s=i.tour.name)||void 0===s?void 0:s[i.language])||(null===(o=i.tour.name)||void 0===o?void 0:o.pt)||i.tour.name}),(0,En.jsxs)("div",{className:"space-y-1 text-sm text-gray-600",children:[(0,En.jsxs)("p",{className:"flex items-center",children:[(0,En.jsx)("svg",{className:"w-4 h-4 mr-1 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,En.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),new Date(i.date+"T00:00:00").toLocaleDateString("pt-PT",{weekday:"long",day:"numeric",month:"long"})]}),(0,En.jsxs)("p",{className:"flex items-center",children:[(0,En.jsx)("svg",{className:"w-4 h-4 mr-1 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,En.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283-.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),i.numberOfPeople," ",O.participants]})]}),(0,En.jsx)("button",{className:"text-blue-600 text-sm hover:underline mt-2",onClick:q,children:O.editBooking})]})]}),(0,En.jsx)("div",{className:"space-y-4",children:(0,En.jsxs)("div",{className:"bg-blue-50 p-4 rounded-xl border-2 border-blue-200",children:[(0,En.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,En.jsx)("span",{className:"text-blue-800 font-bold text-lg",children:O.deposit}),(0,En.jsx)("span",{className:"text-blue-900 font-bold text-2xl",children:V(i.depositAmount)})]}),(0,En.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,En.jsx)("span",{className:"text-blue-600",children:O.remaining}),(0,En.jsx)("span",{className:"text-blue-700 font-semibold",children:V(i.remainingAmount)})]})]})}),(0,En.jsx)("div",{className:"mt-6 p-4 bg-gray-50 rounded-xl",children:(0,En.jsxs)("div",{className:"flex items-center justify-between",children:[(0,En.jsxs)("div",{children:[(0,En.jsx)("p",{className:"font-semibold text-gray-900",children:"".concat(i.firstName," ").concat(i.lastName)}),(0,En.jsx)("p",{className:"text-sm text-gray-600",children:i.email}),(0,En.jsx)("p",{className:"text-sm text-gray-600",children:i.phone})]}),(0,En.jsx)("button",{className:"text-blue-600 text-sm hover:underline",onClick:q,children:"Editar"})]})}),(0,En.jsx)("div",{className:"mt-6 p-4 bg-green-50 rounded-xl border border-green-200",children:(0,En.jsxs)("div",{className:"space-y-2 text-sm text-green-700",children:[(0,En.jsxs)("p",{className:"flex items-center",children:[(0,En.jsx)("svg",{className:"w-4 h-4 mr-2 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,En.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"\ud83d\udcb3 Pagamento 100% seguro"]}),(0,En.jsxs)("p",{className:"flex items-center",children:[(0,En.jsx)("svg",{className:"w-4 h-4 mr-2 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,En.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"\u26a1 Confirma\xe7\xe3o instant\xe2nea"]}),(0,En.jsxs)("p",{className:"flex items-center",children:[(0,En.jsx)("svg",{className:"w-4 h-4 mr-2 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,En.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"\ud83c\udfaf Pague apenas 30% agora"]}),(0,En.jsxs)("p",{className:"flex items-center",children:[(0,En.jsx)("svg",{className:"w-4 h-4 mr-2 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,En.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"\ud83d\udd04 Cancelamento flex\xedvel"]})]})})]})})]})]})})},wj=e=>{let{isOpen:t,onClose:n}=e;const{t:r}=Sn();return t?(0,En.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,En.jsx)("div",{className:"bg-white rounded-lg max-w-2xl max-h-[80vh] overflow-y-auto",children:(0,En.jsxs)("div",{className:"p-6",children:[(0,En.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,En.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:r("terms_and_conditions_title")}),(0,En.jsx)("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 text-2xl font-bold",children:"\u2715"})]}),(0,En.jsx)("div",{className:"prose prose-sm max-w-none",children:(0,En.jsx)("div",{className:"whitespace-pre-wrap text-sm leading-relaxed text-gray-700",children:r("terms_and_conditions_content")})}),(0,En.jsx)("div",{className:"mt-6 text-center",children:(0,En.jsx)("button",{onClick:n,className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition-colors",children:r("common_close")})})]})})}):null},_j=()=>{const e=ce(),[n,r]=(0,t.useState)("pt");return(0,t.useEffect)((()=>{const t=e.pathname;t.startsWith("/en")?r("en"):t.startsWith("/es")?r("es"):r("pt")}),[e]),{currentLang:n,setCurrentLang:r}},Ej=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"pt";if(!e)return"";try{const n=e.substring(0,10),[r,s,o]=n.split("-").map((e=>parseInt(e,10))),i=new Date(r,s-1,o),a={pt:"pt-PT",en:"en-GB",es:"es-ES"};return i.toLocaleDateString(a[t],{weekday:"long",year:"numeric",month:"long",day:"numeric"})}catch(Lj){return console.error("Erro ao formatar data para exibi\xe7\xe3o:",Lj),""}},kj=e=>{var t,n,r,s,o,i;let{tourData:a}=e;const{currentLang:l}=_j(),c={pt:{title:a?"Reservar ".concat((null===(t=a.name)||void 0===t?void 0:t.pt)||a.name," | Confirme Sua Aventura Agora"):"Reserve Agora | Garanta a Sua Aventura dos Sonhos",description:a?"Reserve ".concat((null===(n=a.name)||void 0===n?void 0:n.pt)||a.name," com seguran\xe7a. Pague apenas 30% agora, restante no dia do tour. Confirma\xe7\xe3o imediata!"):"Reserve com seguran\xe7a! Pague apenas 30% agora, restante no dia do tour. Confirma\xe7\xe3o imediata.",keywords:"reservar tour, booking online, viagem dos sonhos, aventura garantida, pagamento seguro"},en:{title:a?"Book ".concat((null===(r=a.name)||void 0===r?void 0:r.en)||a.name," | Confirm Your Adventure Now"):"Book Now | Secure Your Dream Adventure",description:a?"Book ".concat((null===(s=a.name)||void 0===s?void 0:s.en)||a.name," securely. Pay only 30% now, rest on tour day. Instant confirmation!"):"Book securely! Pay only 30% now, rest on tour day. Instant confirmation!",keywords:"book tour, online booking, dream trip, guaranteed adventure, secure payment"},es:{title:a?"Reservar ".concat((null===(o=a.name)||void 0===o?void 0:o.es)||a.name," | Confirma Tu Aventura Ahora"):"Reserva Ahora | Asegura Tu Aventura de Ensue\xf1o",description:a?"Reserva ".concat((null===(i=a.name)||void 0===i?void 0:i.es)||a.name," con seguridad. Paga solo 30% ahora, resto el d\xeda del tour. \xa1Confirmaci\xf3n inmediata!"):"\xa1Reserva con seguridad! Paga solo 30% ahora, resto el d\xeda del tour. \xa1Confirmaci\xf3n inmediata!",keywords:"reservar tour, booking online, viaje de ensue\xf1o, aventura garantizada, pago seguro"}}[l];return(0,En.jsxs)(xn,{children:[(0,En.jsx)("title",{children:c.title}),(0,En.jsx)("meta",{name:"description",content:c.description}),(0,En.jsx)("meta",{name:"keywords",content:c.keywords}),(0,En.jsx)("meta",{property:"og:title",content:c.title}),(0,En.jsx)("meta",{property:"og:description",content:c.description}),(0,En.jsx)("meta",{property:"og:type",content:"website"}),(0,En.jsx)("meta",{property:"og:image",content:"".concat("https://9rockstours.com","/og-image-booking.jpg")}),(0,En.jsx)("meta",{property:"og:site_name",content:"9 Rocks Tours"}),(0,En.jsx)("html",{lang:"pt"===l?"pt-PT":"es"===l?"es-ES":"en-US"})]})},Sj=()=>{var e,n,r,s;const{currentLang:o}=_j(),[i]=vt(),a=i.get("tour"),[l,u]=(0,t.useState)(null),[d,h]=(0,t.useState)([]),[p,m]=(0,t.useState)([]),[f,g]=(0,t.useState)(!1),[v,y]=(0,t.useState)(!0),[b,x]=(0,t.useState)(!1),[w,_]=(0,t.useState)(null),[E,k]=(0,t.useState)({}),[S,C]=(0,t.useState)(""),{t:N}=Sn(),[j,T]=(0,t.useState)(!1),[P,I]=(0,t.useState)({firstName:"",lastName:"",email:"",phone:"",numberOfPeople:2,date:"",selectedDateString:"",specialRequests:"",terms:!1}),L={pt:{title:"Reserve Sua Aventura",subtitle:"Pague apenas 30% agora, restante no dia do tour",personalInfo:"Informa\xe7\xf5es Pessoais",firstName:"Nome",lastName:"Sobrenome",email:"E-mail",phone:"Telefone",bookingDetails:"Detalhes da Reserva",numberOfPeople:"N\xfamero de Pessoas",numberOfPeopleHelp:"(+ de 4 pessoas fale connosco, arranjamos uma solu\xe7\xe3o)",preferredDate:"Data Preferida",selectDate:"Selecione uma data dispon\xedvel",noAvailableDates:"Sem datas dispon\xedveis. Contacte-nos para mais op\xe7\xf5es.",specialRequests:"Pedidos Especiais",specialRequestsPlaceholder:"Alguma necessidade especial, restri\xe7\xf5es alimentares, etc.",termsText:"Aceito os",termsLink:"termos e condi\xe7\xf5es",submit:"IR PARA PAGAMENTO",submitSecondary:"Cancelamento gratuito at\xe9 24 horas antes",summary:"Resumo da Reserva",tourPrice:"Pre\xe7o do Tour",depositToPay:"Dep\xf3sito a Pagar (30%)",remainingPayment:"Restante no dia do tour",processing:"Processando...",successTitle:"Reserva Confirmada!",successMessage:"Obrigado! Sua reserva foi confirmada. Voc\xea receber\xe1 um e-mail com todos os detalhes e instru\xe7\xf5es de pagamento.",backToTours:"Voltar aos Tours",noTour:"Tour n\xe3o encontrado",loading:"Carregando...",completeForm:"Preencha todos os campos obrigat\xf3rios para continuar",dateUnavailable:"Esta data j\xe1 n\xe3o est\xe1 dispon\xedvel. Por favor, escolha outra.",errors:{firstName:"Nome \xe9 obrigat\xf3rio",lastName:"Sobrenome \xe9 obrigat\xf3rio",email:"E-mail v\xe1lido \xe9 obrigat\xf3rio",phone:"Telefone \xe9 obrigat\xf3rio",date:"Data \xe9 obrigat\xf3ria",terms:"Voc\xea deve aceitar os termos e condi\xe7\xf5es"}},en:{title:"Book Your Adventure",subtitle:"Pay only 30% now, rest on tour day",personalInfo:"Personal Information",firstName:"First Name",lastName:"Last Name",email:"Email",phone:"Phone",bookingDetails:"Booking Details",numberOfPeople:"Number of People",numberOfPeopleHelp:"(+ 4 people contact us, we'll arrange a solution)",preferredDate:"Preferred Date",selectDate:"Select an available date",noAvailableDates:"No available dates. Contact us for more options.",specialRequests:"Special Requests",specialRequestsPlaceholder:"Any special needs, dietary restrictions, etc.",termsText:"I accept the",termsLink:"terms and conditions",submit:"GO TO PAYMENT",submitSecondary:"Free cancellation up to 24 hours before",summary:"Booking Summary",tourPrice:"Tour Price",depositToPay:"Deposit to Pay (30%)",remainingPayment:"Remaining on tour day",processing:"Processing...",successTitle:"Booking Confirmed!",successMessage:"Thank you! Your booking has been confirmed. You will receive an email with all details and payment instructions.",backToTours:"Back to Tours",noTour:"Tour not found",loading:"Loading...",completeForm:"Please complete all required fields to continue",dateUnavailable:"This date is no longer available. Please choose another date.",errors:{firstName:"First name is required",lastName:"Last name is required",email:"Valid email is required",phone:"Phone is required",date:"Date is required",terms:"You must accept the terms and conditions"}},es:{title:"Reserva Tu Aventura",subtitle:"Paga solo 30% ahora, resto el d\xeda del tour",personalInfo:"Informaci\xf3n Personal",firstName:"Nombre",lastName:"Apellido",email:"Correo",phone:"Tel\xe9fono",bookingDetails:"Detalles de la Reserva",numberOfPeople:"N\xfamero de Personas",numberOfPeopleHelp:"(+ de 4 personas cont\xe1ctanos, encontraremos una soluci\xf3n)",preferredDate:"Fecha Preferida",selectDate:"Selecciona una fecha disponible",noAvailableDates:"Sin fechas disponibles. Cont\xe1ctanos para m\xe1s opciones.",specialRequests:"Solicitudes Especiales",specialRequestsPlaceholder:"Alguna necesidad especial, restricciones alimentarias, etc.",termsText:"Acepto los",termsLink:"t\xe9rminos y condiciones",submit:"IR AL PAGO",submitSecondary:"Cancelaci\xf3n gratuita hasta 24 horas antes",summary:"Resumo da Reserva",tourPrice:"Precio del Tour",depositToPay:"Dep\xf3sito a Pagar (30%)",remainingPayment:"Restante el d\xeda del tour",processing:"Procesando...",successTitle:"\xa1Reserva Confirmada!",successMessage:"\xa1Gracias! Tu reserva ha sido confirmada. Recibir\xe1s un correo con todos los detalles e instrucciones de pago.",backToTours:"Volver a Tours",noTour:"Tour no encontrado",loading:"Cargando...",completeForm:"Complete todos los campos obligatorios para continuar",dateUnavailable:"Esta fecha ya no est\xe1 disponible. Por favor, elige otra fecha.",errors:{firstName:"El nombre es obligatorio",lastName:"El apellido es obligatorio",email:"Se requiere un correo v\xe1lido",phone:"El tel\xe9fono es obligatorio",date:"La fecha es obligatoria",terms:"Debes aceptar los t\xe9rminos y condiciones"}}},A=async()=>{if(a)try{const e=await ti.get("".concat(ni,"/api/v1/bookings/occupied-dates/").concat(a));e.data&&e.data.occupied_dates&&(m(e.data.occupied_dates),console.log("\u2705 Datas ocupadas atualizadas:",e.data.occupied_dates))}catch(Aj){console.warn("Aviso: N\xe3o foi poss\xedvel atualizar as datas ocupadas:",Aj)}};(0,t.useEffect)((()=>{(async()=>{if(a){y(!0),u(null),h([]),m([]),C("");try{const e=await ti.get("".concat(ni,"/api/tours/").concat(a));if(u(e.data),e.data&&e.data.available_dates&&e.data.available_dates.length>0)h(e.data.available_dates);else{console.warn("Aviso: O tour n\xe3o tem 'available_dates'. A gerar datas de fallback para os pr\xf3ximos 90 dias.");const e=[],t=new Date;for(let n=0;n<90;n++){const r=new Date;r.setUTCDate(t.getUTCDate()+n),e.push(r.toISOString().split("T")[0])}h(e)}await A()}catch(Aj){console.error("Erro CR\xcdTICO ao buscar dados do tour:",Aj),u(null),C("N\xe3o foi poss\xedvel carregar os dados do tour. Verifique o link ou tente mais tarde.")}finally{y(!1)}}else y(!1)})()}),[a]);const O=()=>(null===l||void 0===l?void 0:l.price)||0,R=()=>Math.round(.3*O()),D=()=>O()-R(),M=e=>new Intl.NumberFormat("pt-PT",{style:"currency",currency:"EUR"}).format(e),U=()=>P.firstName.trim()&&P.lastName.trim()&&P.email.trim()&&/\S+@\S+\.\S+/.test(P.email)&&P.phone.trim()&&P.date&&P.terms,F=e=>{const{name:t,value:n,type:r,checked:s}=e.target;if(I((e=>c(c({},e),{},{[t]:"checkbox"===r?s:n}))),E[t]){let e=!1;switch(t){case"firstName":case"lastName":case"phone":e=n.trim().length>0;break;case"email":e=n.trim().length>0&&/\S+@\S+\.\S+/.test(n);break;case"terms":e=s;break;default:e=!0}e&&k((e=>c(c({},e),{},{[t]:void 0})))}};if(v)return(0,En.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,En.jsxs)("div",{className:"text-center",children:[(0,En.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-600 border-t-transparent mx-auto mb-4"}),(0,En.jsx)("p",{className:"text-lg text-gray-600",children:L[o].loading})]})});if(b&&w){const e={id:w,firstName:P.firstName,lastName:P.lastName,email:P.email,phone:P.phone,numberOfPeople:P.numberOfPeople,date:P.date,specialRequests:P.specialRequests,language:o,tour:l,depositAmount:R(),remainingAmount:D(),totalAmount:O()};return(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)(kj,{tourData:l}),(0,En.jsx)(xj,{bookingData:e,onBack:()=>{x(!1),_(null)}})]})}return(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)(kj,{tourData:l}),(0,En.jsxs)("div",{className:"min-h-screen bg-gray-50 py-8",children:[(0,En.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,En.jsxs)("div",{className:"text-center mb-8",children:[(0,En.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:L[o].title}),(0,En.jsx)("p",{className:"text-lg text-blue-600 font-medium",children:L[o].subtitle})]}),(0,En.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,En.jsx)("div",{className:"lg:col-span-2",children:(0,En.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[S&&(0,En.jsx)("div",{className:"mb-4 p-4 bg-red-50 border border-red-300 text-red-800 rounded-lg text-center",children:S}),(0,En.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),C(""),!(()=>{const e={};return P.firstName.trim()||(e.firstName=L[o].errors.firstName),P.lastName.trim()||(e.lastName=L[o].errors.lastName),P.email.trim()&&/\S+@\S+\.\S+/.test(P.email)||(e.email=L[o].errors.email),P.phone.trim()||(e.phone=L[o].errors.phone),P.date||(e.date=L[o].errors.date),P.terms||(e.terms=L[o].errors.terms),k(e),0===Object.keys(e).length})())return void console.log("Formul\xe1rio inv\xe1lido");g(!0);const t={tour_id:a,selected_date_iso:P.date,user_name:"".concat(P.firstName.trim()," ").concat(P.lastName.trim()),user_email:P.email.trim(),num_participants:parseInt(P.numberOfPeople,10)};try{const e=await ti.post("".concat(ni,"/api/v1/bookings/book-tour"),t);if(201===e.status){const t=e.data.bookingId;_(t);const n=P.selectedDateString;n&&!p.includes(n)&&(m((e=>[...e,n])),console.log("\u2705 Data ".concat(n," marcada como ocupada localmente"))),setTimeout((()=>A()),1e3),x(!0)}}catch(Aj){if(Aj.response)if(409===Aj.response.status){C(L[o].dateUnavailable);const e=P.selectedDateString;e&&!p.includes(e)&&m((t=>[...t,e])),I((e=>c(c({},e),{},{date:"",selectedDateString:""}))),A()}else{var n;const t=(null===(n=Aj.response.data)||void 0===n?void 0:n.detail)||"Ocorreu um erro ao processar a sua reserva.";C("Erro: ".concat(t))}else C("Erro de rede. Por favor, verifique a sua liga\xe7\xe3o e tente novamente.")}finally{g(!1)}},className:"space-y-6",children:[(0,En.jsxs)("div",{children:[(0,En.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:L[o].personalInfo}),(0,En.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,En.jsxs)("div",{children:[(0,En.jsxs)("label",{htmlFor:"firstName",className:"block text-sm font-semibold text-gray-700 mb-2",children:[L[o].firstName," *"]}),(0,En.jsx)("div",{className:"relative",children:(0,En.jsx)("input",{type:"text",id:"firstName",name:"firstName",value:P.firstName,onChange:F,className:"\n                              w-full px-4 py-3 border-2 rounded-xl transition-all duration-200 \n                              ".concat(E.firstName?"border-red-500 bg-red-50 focus:ring-red-500":P.firstName.trim()?"border-green-500 bg-green-50 focus:ring-green-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500","\n                              focus:outline-none focus:ring-2 focus:ring-opacity-50\n                            "),placeholder:"Introduza o seu nome",required:!0})}),E.firstName&&(0,En.jsxs)("div",{className:"mt-1 flex items-center text-red-600 text-sm",children:[(0,En.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,En.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),E.firstName]})]}),(0,En.jsxs)("div",{children:[(0,En.jsxs)("label",{htmlFor:"lastName",className:"block text-sm font-semibold text-gray-700 mb-2",children:[L[o].lastName," *"]}),(0,En.jsx)("div",{className:"relative",children:(0,En.jsx)("input",{type:"text",id:"lastName",name:"lastName",value:P.lastName,onChange:F,className:"\n                              w-full px-4 py-3 border-2 rounded-xl transition-all duration-200 \n                              ".concat(E.lastName?"border-red-500 bg-red-50 focus:ring-red-500":P.lastName.trim()?"border-green-500 bg-green-50 focus:ring-green-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500","\n                              focus:outline-none focus:ring-2 focus:ring-opacity-50\n                            "),placeholder:"Introduza o seu sobrenome",required:!0})}),E.lastName&&(0,En.jsxs)("div",{className:"mt-1 flex items-center text-red-600 text-sm",children:[(0,En.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,En.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),E.lastName]})]})]}),(0,En.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[(0,En.jsxs)("div",{children:[(0,En.jsxs)("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:[L[o].email," *"]}),(0,En.jsx)("div",{className:"relative",children:(0,En.jsx)("input",{type:"email",id:"email",name:"email",value:P.email,onChange:F,className:"\n                              w-full px-4 py-3 border-2 rounded-xl transition-all duration-200 \n                              ".concat(E.email?"border-red-500 bg-red-50 focus:ring-red-500":P.email.trim()&&/\S+@\S+\.\S+/.test(P.email)?"border-green-500 bg-green-50 focus:ring-green-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500","\n                              focus:outline-none focus:ring-2 focus:ring-opacity-50\n                            "),placeholder:"exemplo@email.com",required:!0})}),E.email&&(0,En.jsxs)("div",{className:"mt-1 flex items-center text-red-600 text-sm",children:[(0,En.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,En.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),E.email]})]}),(0,En.jsxs)("div",{children:[(0,En.jsxs)("label",{htmlFor:"phone",className:"block text-sm font-semibold text-gray-700 mb-2",children:[L[o].phone," *"]}),(0,En.jsx)("div",{className:"relative",children:(0,En.jsx)("input",{type:"tel",id:"phone",name:"phone",value:P.phone,onChange:F,className:"\n                              w-full px-4 py-3 border-2 rounded-xl transition-all duration-200 \n                              ".concat(E.phone?"border-red-500 bg-red-50 focus:ring-red-500":P.phone.trim()?"border-green-500 bg-green-50 focus:ring-green-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500","\n                              focus:outline-none focus:ring-2 focus:ring-opacity-50\n                            "),placeholder:"+351 xxx xxx xxx",required:!0})}),E.phone&&(0,En.jsxs)("div",{className:"mt-1 flex items-center text-red-600 text-sm",children:[(0,En.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,En.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),E.phone]})]})]})]}),(0,En.jsxs)("div",{children:[(0,En.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:L[o].bookingDetails}),(0,En.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,En.jsxs)("div",{children:[(0,En.jsxs)("label",{htmlFor:"numberOfPeople",className:"block text-sm font-semibold text-gray-700 mb-2",children:[L[o].numberOfPeople," *"]}),(0,En.jsx)("div",{className:"relative",children:(0,En.jsx)("select",{id:"numberOfPeople",name:"numberOfPeople",value:P.numberOfPeople,onChange:F,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 focus:outline-none bg-white transition-all duration-200",required:!0,children:[1,2,3,4].map((e=>(0,En.jsxs)("option",{value:e,children:[e," ",1===e?"pessoa":"pessoas"]},e)))})}),(0,En.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:L[o].numberOfPeopleHelp})]}),(0,En.jsxs)("div",{className:"md:col-span-2",children:[(0,En.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:[L[o].preferredDate," *"]}),(0,En.jsx)(vj,{availableDates:d,occupiedDates:p,selectedDate:P.selectedDateString,onDateSelect:e=>{if(C(""),k((e=>c(c({},e),{},{date:void 0}))),"string"!==typeof e)return void console.error("Formato de data inv\xe1lido recebido do calend\xe1rio:",e);console.log("\ud83d\uddd3\ufe0f SELECIONADO: ".concat(e));const t=(e=>{if(!e)return null;try{const[t,n,r]=e.split("-").map((e=>parseInt(e,10)));return new Date(Date.UTC(t,n-1,r,12,0,0)).toISOString()}catch(Lj){return console.error("Erro ao converter data para ISO:",Lj),null}})(e);t?(I((n=>c(c({},n),{},{date:t,selectedDateString:e}))),console.log("\u2705 ARMAZENADO: ISO=".concat(t,", Display=").concat(e)),console.log("\ud83d\udcca DISPLAY VAI MOSTRAR: ".concat(Ej(e+"T12:00:00",o)))):console.error("Erro ao converter data para ISO")},language:o}),E.date&&(0,En.jsx)("div",{className:"mt-2 p-3 bg-red-50 border border-red-200 rounded-xl",children:(0,En.jsxs)("div",{className:"flex items-center text-red-600 text-sm",children:[(0,En.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,En.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),E.date]})})]})]}),(0,En.jsxs)("div",{className:"mt-6",children:[(0,En.jsxs)("label",{htmlFor:"specialRequests",className:"block text-sm font-semibold text-gray-700 mb-2",children:[L[o].specialRequests,(0,En.jsx)("span",{className:"text-gray-400 font-normal ml-1",children:"(Opcional)"})]}),(0,En.jsx)("textarea",{id:"specialRequests",name:"specialRequests",value:P.specialRequests,onChange:F,placeholder:L[o].specialRequestsPlaceholder,rows:"4",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 focus:outline-none transition-all duration-200 resize-none"})]})]}),(0,En.jsxs)("div",{className:"border-t border-gray-200 pt-6",children:[(0,En.jsxs)("div",{className:"\n                      flex items-start p-4 rounded-xl border-2 transition-all duration-200\n                      ".concat(E.terms?"border-red-500 bg-red-50":P.terms?"border-green-500 bg-green-50":"border-gray-300 bg-gray-50","\n                    "),children:[(0,En.jsx)("div",{className:"flex items-center h-5",children:(0,En.jsx)("input",{type:"checkbox",id:"terms",name:"terms",checked:P.terms,onChange:F,className:"h-5 w-5 rounded border-2 text-blue-600 focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transition-all duration-200",required:!0})}),(0,En.jsx)("div",{className:"ml-3 flex-1",children:(0,En.jsxs)("label",{htmlFor:"terms",className:"text-sm text-gray-700 cursor-pointer",children:[N("terms_and_conditions_accept"),(0,En.jsx)("button",{type:"button",onClick:()=>T(!0),className:"text-blue-600 hover:text-blue-800 hover:underline ml-1 font-medium",children:N("terms_and_conditions_short")})," *"]})})]}),E.terms&&(0,En.jsxs)("div",{className:"mt-2 flex items-center text-red-600 text-sm",children:[(0,En.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,En.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),E.terms]})]}),(0,En.jsxs)("div",{className:"pt-2",children:[(0,En.jsx)("button",{type:"submit",className:"\n                        w-full py-4 px-6 rounded-xl font-bold text-lg transition-all duration-300 transform\n                        ".concat(U()&&!f?"bg-blue-600 hover:bg-blue-700 text-white shadow-lg hover:shadow-xl hover:scale-[1.02] cursor-pointer":"bg-gray-300 text-gray-500 cursor-not-allowed opacity-60","\n                        ").concat(f?"animate-pulse":"","\n                      "),disabled:!U()||f,children:f?(0,En.jsxs)("div",{className:"flex items-center justify-center",children:[(0,En.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-2 border-white border-t-transparent mr-3"}),L[o].processing]}):(0,En.jsxs)("div",{className:"flex items-center justify-center",children:[(0,En.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,En.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})}),L[o].submit]})}),(0,En.jsx)("div",{className:"mt-3 text-center",children:(0,En.jsxs)("p",{className:"text-sm text-gray-600 flex items-center justify-center",children:[(0,En.jsx)("svg",{className:"w-4 h-4 mr-2 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,En.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),L[o].submitSecondary]})})]})]})]})}),(0,En.jsx)("div",{className:"lg:col-span-1",children:(0,En.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6 sticky top-8",children:[(0,En.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:L[o].summary}),l?(0,En.jsxs)(En.Fragment,{children:[(0,En.jsxs)("div",{className:"flex items-start space-x-4 mb-6 p-4 bg-gray-50 rounded-xl",children:[l.images&&l.images[0]&&(0,En.jsx)("img",{src:l.images[0],alt:(null===(e=l.name)||void 0===e?void 0:e[o])||(null===(n=l.name)||void 0===n?void 0:n.pt)||l.name,className:"w-20 h-20 object-cover rounded-lg shadow-sm"}),(0,En.jsxs)("div",{className:"flex-1",children:[(0,En.jsx)("h4",{className:"font-bold text-gray-900 text-lg leading-tight mb-2",children:(null===(r=l.name)||void 0===r?void 0:r[o])||(null===(s=l.name)||void 0===s?void 0:s.pt)}),(0,En.jsxs)("div",{className:"space-y-1 text-sm text-gray-600",children:[(0,En.jsxs)("p",{className:"flex items-center",children:[(0,En.jsx)("svg",{className:"w-4 h-4 mr-1 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,En.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),P.numberOfPeople," ",1===P.numberOfPeople?"pessoa":"pessoas"]}),(0,En.jsxs)("p",{className:"flex items-center",children:[(0,En.jsx)("svg",{className:"w-4 h-4 mr-1 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,En.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.duration_hours," horas"]}),P.selectedDateString&&(0,En.jsxs)("p",{className:"flex items-center font-medium text-blue-700",children:[(0,En.jsx)("svg",{className:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,En.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),Ej(P.selectedDateString+"T12:00:00",o)]})]})]})]}),(0,En.jsxs)("div",{className:"space-y-4",children:[(0,En.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,En.jsx)("span",{className:"text-gray-600 font-medium",children:L[o].tourPrice}),(0,En.jsx)("span",{className:"font-bold text-lg",children:M(O())})]}),(0,En.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-4 rounded-xl border-2 border-blue-200",children:[(0,En.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,En.jsx)("span",{className:"text-blue-800 font-bold text-lg",children:L[o].depositToPay}),(0,En.jsx)("span",{className:"text-blue-900 font-bold text-2xl",children:M(R())})]}),(0,En.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,En.jsx)("span",{className:"text-blue-600",children:L[o].remainingPayment}),(0,En.jsx)("span",{className:"text-blue-700 font-semibold",children:M(D())})]})]})]})]}):(0,En.jsx)("div",{className:"text-center text-gray-500 py-8",children:(0,En.jsx)("p",{children:"Carregando dados do tour..."})})]})})]})]}),(0,En.jsx)(wj,{isOpen:j,onClose:()=>T(!1)})]})]})},Cj=()=>{const[e]=vt(),n=he(),r=ce(),[s,o]=(0,t.useState)("processing"),[i,a]=(0,t.useState)(""),[l,c]=(0,t.useState)(null),[u,d]=(0,t.useState)(null);(0,t.useEffect)((()=>{console.log("\ud83d\udd0d DEBUG: PaymentSuccessPage carregada"),console.log("\ud83d\udd0d DEBUG: location.state:",r.state),console.log("\ud83d\udd0d DEBUG: searchParams:",Object.fromEntries(e));const t=r.state;t&&t.paymentSuccess?(console.log("\u2705 DEBUG: Dados via state (Stripe/Google Pay)"),p(t)):e.get("paymentId")&&e.get("PayerID")?(console.log("\u2705 DEBUG: Callback PayPal detectado"),m()):(console.log("\u26a0\ufe0f DEBUG: Acesso direto - mostrando p\xe1gina de teste"),h())}),[e,r.state]);const h=()=>{console.log("\ud83d\udd0d DEBUG: Mostrando p\xe1gina de teste/demo"),c({method:"card",transaction_id:"demo_transaction_"+Date.now(),booking_id:"demo_booking_"+Date.now(),amount:207,payer_email:"demo@example.com"}),d({tour_name:"Demo Tour - Explore Portugal",selected_date:"2025-08-26",participants:2,customer_name:"Cliente Demonstra\xe7\xe3o",customer_email:"demo@example.com",customer_phone:"+351 912 345 678",special_requests:"Esta \xe9 uma demonstra\xe7\xe3o da p\xe1gina de sucesso."}),o("completed")},p=async e=>{try{if(o("processing"),e.booking_id){const t=await ti.get("".concat(ni,"/api/bookings/").concat(e.booking_id));d(t.data)}c(e),o("completed")}catch(t){console.error("Erro ao buscar detalhes da reserva:",t),c(e),o("completed")}},m=async()=>{const t=e.get("paymentId"),n=e.get("PayerID"),r=e.get("booking_id");if(console.log("\ud83d\udd0d DEBUG: PayPal params:",{paymentId:t,payerId:n,bookingId:r}),!t||!n)return console.log("\u274c DEBUG: Par\xe2metros PayPal em falta"),o("failed"),void a("Dados de pagamento PayPal inv\xe1lidos ou em falta.");try{o("processing");const e=await ti.post("".concat(ni,"/api/payments/paypal/execute/").concat(t),{payer_id:n});if("completed"===e.data.status){if(c({method:"paypal",transaction_id:e.data.transaction_id,booking_id:r,amount:e.data.amount,payer_email:e.data.payer_email}),r)try{const e=await ti.get("".concat(ni,"/api/bookings/").concat(r));d(e.data)}catch(u){console.error("Erro ao buscar detalhes da reserva:",u)}o("completed")}else{var s;o("failed"),a((null===(s=e.data.message)||void 0===s?void 0:s.details)||"O pagamento PayPal falhou.")}}catch(h){var i,l;o("failed"),a((null===(i=h.response)||void 0===i||null===(l=i.data)||void 0===l?void 0:l.detail)||"Erro ao finalizar pagamento PayPal.")}};return"processing"===s?(0,En.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,En.jsxs)("div",{className:"text-center",children:[(0,En.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-600 border-t-transparent mx-auto mb-4"}),(0,En.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"A processar o seu pagamento..."}),(0,En.jsx)("p",{className:"text-gray-600",children:"Por favor, aguarde. N\xe3o feche esta janela."})]})}):"failed"===s?(0,En.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,En.jsx)("div",{className:"max-w-md w-full mx-4",children:(0,En.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[(0,En.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,En.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,En.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),(0,En.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Erro no Pagamento"}),(0,En.jsx)("p",{className:"text-gray-600 mb-6",children:i}),(0,En.jsxs)("div",{className:"space-y-3",children:[(0,En.jsx)("button",{onClick:()=>n("/"),className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Voltar \xe0 P\xe1gina Inicial"}),(0,En.jsx)("button",{onClick:()=>window.location.reload(),className:"w-full text-blue-600 py-2 font-medium hover:text-blue-700",children:"Tentar Novamente"})]})]})})}):(0,En.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50",children:(0,En.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,En.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,En.jsxs)("div",{className:"text-center mb-8",children:[(0,En.jsx)("div",{className:"w-20 h-20 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4 animate-bounce",children:(0,En.jsx)("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,En.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),(0,En.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Pagamento Realizado com Sucesso!"}),(0,En.jsx)("p",{className:"text-xl text-gray-600",children:"A sua reserva est\xe1 confirmada. Obrigado por escolher a 9 Rocks Tours!"})]}),(0,En.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,En.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,En.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Detalhes do Pagamento"}),(0,En.jsxs)("div",{className:"space-y-4",children:[(0,En.jsxs)("div",{className:"flex justify-between items-center pb-3 border-b",children:[(0,En.jsx)("span",{className:"text-gray-600",children:"M\xe9todo de Pagamento:"}),(0,En.jsx)("span",{className:"font-semibold text-gray-900",children:(e=>{switch(e){case"google_pay":return"Google Pay";case"paypal":return"PayPal";case"card":return"Cart\xe3o de Cr\xe9dito";case"multibanco":return"MB WAY";default:return e||"Pagamento Online"}})(null===l||void 0===l?void 0:l.method)})]}),(0,En.jsxs)("div",{className:"flex justify-between items-center pb-3 border-b",children:[(0,En.jsx)("span",{className:"text-gray-600",children:"ID da Transa\xe7\xe3o:"}),(0,En.jsx)("span",{className:"font-mono text-sm text-gray-900 bg-gray-100 px-2 py-1 rounded",children:(null===l||void 0===l?void 0:l.transaction_id)||"N/A"})]}),(0,En.jsxs)("div",{className:"flex justify-between items-center pb-3 border-b",children:[(0,En.jsx)("span",{className:"text-gray-600",children:"Valor Pago (Dep\xf3sito):"}),(0,En.jsx)("span",{className:"font-bold text-green-600 text-lg",children:(f=null===l||void 0===l?void 0:l.amount,new Intl.NumberFormat("pt-PT",{style:"currency",currency:"EUR"}).format(f||0))})]}),(null===l||void 0===l?void 0:l.payer_email)&&(0,En.jsxs)("div",{className:"flex justify-between items-center pb-3 border-b",children:[(0,En.jsx)("span",{className:"text-gray-600",children:"Email do Pagador:"}),(0,En.jsx)("span",{className:"text-gray-900",children:l.payer_email})]}),(0,En.jsxs)("div",{className:"flex justify-between items-center",children:[(0,En.jsx)("span",{className:"text-gray-600",children:"Data do Pagamento:"}),(0,En.jsx)("span",{className:"text-gray-900",children:(new Date).toLocaleDateString("pt-PT",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),(null===l||void 0===l?void 0:l.receipt_url)&&(0,En.jsx)("div",{className:"mt-6",children:(0,En.jsxs)("a",{href:l.receipt_url,target:"_blank",rel:"noopener noreferrer",className:"w-full bg-gray-100 text-gray-700 py-3 px-4 rounded-lg font-medium hover:bg-gray-200 transition-colors flex items-center justify-center",children:[(0,En.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,En.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Baixar Recibo de Pagamento"]})})]}),u&&(0,En.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,En.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Detalhes da Reserva"}),(0,En.jsxs)("div",{className:"space-y-4",children:[(0,En.jsxs)("div",{children:[(0,En.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Tour:"}),(0,En.jsx)("p",{className:"text-gray-700",children:u.tour_name||"Tour em Portugal"})]}),(0,En.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,En.jsxs)("div",{children:[(0,En.jsx)("h4",{className:"font-semibold text-gray-900 mb-1",children:"Data da Reserva:"}),(0,En.jsx)("p",{className:"text-blue-700 font-medium",children:(e=>{if(!e)return"";try{const t=e.substring(0,10),[n,r,s]=t.split("-").map((e=>parseInt(e,10)));return new Date(n,r-1,s).toLocaleDateString("pt-PT",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}catch(Lj){return console.error("Erro ao formatar data:",Lj),e}})(u.selected_date)}),(0,En.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["Debug: ",u.selected_date]})]}),(0,En.jsxs)("div",{children:[(0,En.jsx)("h4",{className:"font-semibold text-gray-900 mb-1",children:"Participantes:"}),(0,En.jsx)("p",{className:"text-gray-700",children:u.participants||1})]})]}),(0,En.jsxs)("div",{children:[(0,En.jsx)("h4",{className:"font-semibold text-gray-900 mb-1",children:"Cliente:"}),(0,En.jsx)("p",{className:"text-gray-700",children:u.customer_name}),(0,En.jsx)("p",{className:"text-gray-600 text-sm",children:u.customer_email}),u.customer_phone&&(0,En.jsx)("p",{className:"text-gray-600 text-sm",children:u.customer_phone})]}),u.special_requests&&(0,En.jsxs)("div",{children:[(0,En.jsx)("h4",{className:"font-semibold text-gray-900 mb-1",children:"Pedidos Especiais:"}),(0,En.jsx)("p",{className:"text-gray-700 text-sm bg-gray-50 p-3 rounded-lg",children:u.special_requests})]})]})]})]}),(0,En.jsxs)("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-xl p-6",children:[(0,En.jsx)("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:"\ud83d\udce7 Pr\xf3ximos Passos"}),(0,En.jsxs)("div",{className:"space-y-3 text-blue-800",children:[(0,En.jsxs)("p",{className:"flex items-start",children:[(0,En.jsx)("span",{className:"w-2 h-2 bg-blue-600 rounded-full mt-2 mr-3 flex-shrink-0"}),(0,En.jsxs)("span",{children:["Ir\xe1 receber um ",(0,En.jsx)("strong",{children:"email de confirma\xe7\xe3o"})," nos pr\xf3ximos minutos com todos os detalhes da sua reserva."]})]}),(0,En.jsxs)("p",{className:"flex items-start",children:[(0,En.jsx)("span",{className:"w-2 h-2 bg-blue-600 rounded-full mt-2 mr-3 flex-shrink-0"}),(0,En.jsxs)("span",{children:["Entraremos em contacto ",(0,En.jsx)("strong",{children:"24-48h antes do tour"})," para confirmar a hora e local de encontro."]})]}),(0,En.jsxs)("p",{className:"flex items-start",children:[(0,En.jsx)("span",{className:"w-2 h-2 bg-blue-600 rounded-full mt-2 mr-3 flex-shrink-0"}),(0,En.jsxs)("span",{children:["Para quest\xf5es urgentes, contacte-nos via ",(0,En.jsx)("strong",{children:"WhatsApp: +351 963 366 458"})]})]})]})]}),(0,En.jsxs)("div",{className:"mt-8 flex flex-col sm:flex-row gap-4 justify-center",children:[(0,En.jsx)("button",{onClick:()=>n("/"),className:"bg-blue-600 text-white py-3 px-8 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Voltar \xe0 P\xe1gina Inicial"}),(0,En.jsx)("button",{onClick:()=>n("/tours"),className:"bg-white text-blue-600 border-2 border-blue-600 py-3 px-8 rounded-lg font-semibold hover:bg-blue-50 transition-colors",children:"Ver Mais Tours"})]}),(0,En.jsxs)("div",{className:"mt-12 text-center",children:[(0,En.jsx)("p",{className:"text-gray-600 mb-2",children:"Precisa de ajuda?"}),(0,En.jsxs)("div",{className:"flex justify-center space-x-6 text-sm",children:[(0,En.jsx)("a",{href:"mailto:ninerockstours@gmail.com",className:"text-blue-600 hover:text-blue-700",children:"\ud83d\udce7 ninerockstours@gmail.com"}),(0,En.jsx)("a",{href:"tel:+351963366458",className:"text-blue-600 hover:text-blue-700",children:"\ud83d\udcde +351 963 366 458"}),(0,En.jsx)("a",{href:"https://wa.me/351963366458",className:"text-blue-600 hover:text-blue-700",children:"\ud83d\udcac WhatsApp"})]})]})]})})});var f};const Nj=()=>{const{t:e}=Sn();return(0,En.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,En.jsxs)("div",{className:"text-center",children:[(0,En.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:e("about_page_title")}),(0,En.jsx)("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:e("about_page_description")})]})})},jj=()=>{const{t:e}=Sn();return(0,En.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,En.jsxs)("div",{className:"text-center",children:[(0,En.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:e("contact_page_title")}),(0,En.jsxs)("div",{className:"space-y-4 text-lg text-gray-600",children:[(0,En.jsx)("p",{children:"Email: ninerockstours@gmail.com"}),(0,En.jsxs)("p",{children:[e("contact_phone"),": +351 96 3366 458"]}),(0,En.jsxs)("p",{children:[e("contact_address"),": Lisboa, Portugal"]})]})]})})},Tj=()=>{const{t:e}=Sn();return(0,En.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,En.jsxs)("div",{className:"text-center",children:[(0,En.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,En.jsx)("svg",{className:"w-8 h-8 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,En.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),(0,En.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:e("booking_success_title")}),(0,En.jsx)("p",{className:"text-lg text-gray-600 mb-8",children:e("booking_success_description")}),(0,En.jsx)("a",{href:"/",className:"bg-indigo-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-indigo-700",children:e("back_to_home")})]})})},Pj=()=>{const{t:e}=Sn();return(0,En.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,En.jsx)("div",{className:"max-w-md w-full mx-4",children:(0,En.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[(0,En.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,En.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,En.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),(0,En.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Pagamento Cancelado"}),(0,En.jsx)("p",{className:"text-gray-600 mb-6",children:"O seu pagamento foi cancelado. A reserva n\xe3o foi confirmada."}),(0,En.jsxs)("div",{className:"space-y-3",children:[(0,En.jsx)("a",{href:"/",className:"block w-full bg-blue-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Voltar \xe0 P\xe1gina Inicial"}),(0,En.jsx)("a",{href:"/tours",className:"block w-full text-blue-600 py-2 font-medium hover:text-blue-700",children:"Ver Tours"})]})]})})})},Ij=function(){return(0,En.jsx)(pn,{children:(0,En.jsx)("div",{className:"App",children:(0,En.jsx)(dt,{children:(0,En.jsxs)(Te,{children:[(0,En.jsx)(Ne,{path:"/",element:(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)(Cn,{}),(0,En.jsx)(ci,{lang:"pt"})]})}),(0,En.jsx)(Ne,{path:"/tours",element:(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)(Cn,{}),(0,En.jsx)(fj,{lang:"pt"})]})}),(0,En.jsx)(Ne,{path:"/tour/:id",element:(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)(Cn,{}),(0,En.jsx)(Rc,{lang:"pt"})]})}),(0,En.jsx)(Ne,{path:"/reservar",element:(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)(Cn,{}),(0,En.jsx)(Sj,{lang:"pt"})]})}),(0,En.jsx)(Ne,{path:"/admin",element:(0,En.jsx)(mj,{})}),(0,En.jsx)(Ne,{path:"/test-payment",element:(0,En.jsx)(gj,{})}),(0,En.jsx)(Ne,{path:"/en/",element:(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)(Cn,{}),(0,En.jsx)(ci,{lang:"en"})]})}),(0,En.jsx)(Ne,{path:"/en/tours",element:(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)(Cn,{}),(0,En.jsx)(fj,{lang:"en"})]})}),(0,En.jsx)(Ne,{path:"/en/tour/:id",element:(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)(Cn,{}),(0,En.jsx)(Rc,{lang:"en"})]})}),(0,En.jsx)(Ne,{path:"/en/reservar",element:(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)(Cn,{}),(0,En.jsx)(Sj,{lang:"en"})]})}),(0,En.jsx)(Ne,{path:"/es/",element:(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)(Cn,{}),(0,En.jsx)(ci,{lang:"es"})]})}),(0,En.jsx)(Ne,{path:"/es/tours",element:(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)(Cn,{}),(0,En.jsx)(fj,{lang:"es"})]})}),(0,En.jsx)(Ne,{path:"/es/tour/:id",element:(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)(Cn,{}),(0,En.jsx)(Rc,{lang:"es"})]})}),(0,En.jsx)(Ne,{path:"/es/reservar",element:(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)(Cn,{}),(0,En.jsx)(Sj,{lang:"es"})]})}),(0,En.jsx)(Ne,{path:"/about",element:(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)(Cn,{}),(0,En.jsx)(Nj,{})]})}),(0,En.jsx)(Ne,{path:"/contact",element:(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)(Cn,{}),(0,En.jsx)(jj,{})]})}),(0,En.jsx)(Ne,{path:"/booking-success",element:(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)(Cn,{}),(0,En.jsx)(Tj,{})]})}),(0,En.jsx)(Ne,{path:"/payment/success",element:(0,En.jsx)(Cj,{})}),(0,En.jsx)(Ne,{path:"/payment/cancel",element:(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)(Cn,{}),(0,En.jsx)(Pj,{})]})})]})})})})};r.createRoot(document.getElementById("root")).render((0,En.jsx)(t.StrictMode,{children:(0,En.jsx)(Ij,{})}))})()})();